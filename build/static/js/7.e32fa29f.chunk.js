(this.webpackJsonpweb_scrap=this.webpackJsonpweb_scrap||[]).push([[7],Array(542).concat([function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Q(e)}function o(e){return c(e)?e:X(e)}function i(e){return a(e)&&!l(e)?e:J(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[p])}function c(e){return!(!e||!e[d])}function l(e){return s(e)||c(e)}function u(e){return!(!e||!e[h])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=u,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",m="delete",y=5,g=1<<y,v=g-1,b={},S={value:!1},E={value:!1};function w(e){return e.value=!1,e}function _(e){e&&(e.value=!0)}function O(){}function k(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function C(e){return void 0===e.size&&(e.size=e.__iterate(T)),e.size}function A(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?C(e)+t:t}function T(){return!0}function M(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function x(e,t){return I(e,t,0)}function D(e,t){return I(e,t,t)}function I(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var F=0,P=1,j=2,R="function"===typeof Symbol&&Symbol.iterator,N="@@iterator",L=R||N;function U(e){this.next=e}function K(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function B(){return{value:void 0,done:!0}}function z(e){return!!q(e)}function H(e){return e&&"function"===typeof e.next}function V(e){var t=q(e);return t&&t.call(e)}function q(e){var t=e&&(R&&e[R]||e[N]);if("function"===typeof t)return t}function W(e){return e&&"number"===typeof e.length}function G(e){return null===e||void 0===e?ae():a(e)?e.toSeq():le(e)}function Q(e){return null===e||void 0===e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function X(e){return null===e||void 0===e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function J(e){return(null===e||void 0===e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}U.prototype.toString=function(){return"[Iterator]"},U.KEYS=F,U.VALUES=P,U.ENTRIES=j,U.prototype.inspect=U.prototype.toSource=function(){return this.toString()},U.prototype[L]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return fe(this,e,t,!0)},G.prototype.__iterator=function(e,t){return pe(this,e,t,!0)},t(Q,G),Q.prototype.toKeyedSeq=function(){return this},t(X,G),X.of=function(){return X(arguments)},X.prototype.toIndexedSeq=function(){return this},X.prototype.toString=function(){return this.__toString("Seq [","]")},X.prototype.__iterate=function(e,t){return fe(this,e,t,!1)},X.prototype.__iterator=function(e,t){return pe(this,e,t,!1)},t(J,G),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},G.isSeq=ie,G.Keyed=Q,G.Set=J,G.Indexed=X;var Y,Z,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return Y||(Y=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():H(e)?new oe(e).fromEntrySeq():z(e)?new re(e).fromEntrySeq():"object"===typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=ue(e)||"object"===typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ue(e){return W(e)?new te(e):H(e)?new oe(e):z(e)?new re(e):void 0}function fe(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function pe(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new U((function(){var e=o[n?i-a:a];return a++>i?B():K(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function de(e,t){return t?he(t,e,"",{"":e}):me(e)}function he(e,t,n,r){return Array.isArray(t)?e.call(r,n,X(t).map((function(n,r){return he(e,n,r,t)}))):ye(t)?e.call(r,n,Q(t).map((function(n,r){return he(e,n,r,t)}))):t}function me(e){return Array.isArray(e)?X(e).map(me).toList():ye(e)?Q(e).map(me).toMap():e}function ye(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ge(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function ve(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&ge(o[1],e)&&(n||ge(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var f=!0,p=t.__iterate((function(t,r){if(n?!e.has(t):o?!ge(t,e.get(r,b)):!ge(e.get(r,b),t))return f=!1,!1}));return f&&e.size===p}function be(e,t){if(!(this instanceof be))return new be(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function Se(e,t){if(!e)throw new Error(t)}function Ee(e,t,n){if(!(this instanceof Ee))return new Ee(e,t,n);if(Se(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function we(){throw TypeError("Abstract")}function _e(){}function Oe(){}function ke(){}G.prototype[ee]=!0,t(te,X),te.prototype.get=function(e,t){return this.has(e)?this._array[A(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new U((function(){return o>r?B():K(e,o,n[t?r-o++:o++])}))},t(ne,Q),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new U((function(){var a=r[t?o-i:i];return i++>o?B():K(e,a,n[a])}))},ne.prototype[h]=!0,t(re,X),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=V(this._iterable),r=0;if(H(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=V(this._iterable);if(!H(n))return new U(B);var r=0;return new U((function(){var t=n.next();return t.done?t:K(e,r++,t.value)}))},t(oe,X),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new U((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return K(e,o,r[o++])}))},t(be,X),be.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,t){return this.has(e)?this._value:t},be.prototype.includes=function(e){return ge(this._value,e)},be.prototype.slice=function(e,t){var n=this.size;return M(e,t,n)?this:new be(this._value,D(t,n)-x(e,n))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){return ge(this._value,e)?0:-1},be.prototype.lastIndexOf=function(e){return ge(this._value,e)?this.size:-1},be.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},be.prototype.__iterator=function(e,t){var n=this,r=0;return new U((function(){return r<n.size?K(e,r++,n._value):B()}))},be.prototype.equals=function(e){return e instanceof be?ge(this._value,e._value):ve(e)},t(Ee,X),Ee.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Ee.prototype.get=function(e,t){return this.has(e)?this._start+A(this,e)*this._step:t},Ee.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Ee.prototype.slice=function(e,t){return M(e,t,this.size)?this:(e=x(e,this.size),(t=D(t,this.size))<=e?new Ee(0,0):new Ee(this.get(e,this._end),this.get(t,this._end),this._step))},Ee.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Ee.prototype.lastIndexOf=function(e){return this.indexOf(e)},Ee.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},Ee.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new U((function(){var a=o;return o+=t?-r:r,i>n?B():K(e,i++,a)}))},Ee.prototype.equals=function(e){return e instanceof Ee?this._start===e._start&&this._end===e._end&&this._step===e._step:ve(this,e)},t(we,n),t(_e,we),t(Oe,we),t(ke,we),we.Keyed=_e,we.Indexed=Oe,we.Set=ke;var Ce="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ae(e){return e>>>1&1073741824|3221225471&e}function Te(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ae(n)}if("string"===t)return e.length>Ue?Me(e):xe(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return De(e);if("function"===typeof e.toString)return xe(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Me(e){var t=ze[e];return void 0===t&&(t=xe(e),Be===Ke&&(Be=0,ze={}),Be++,ze[e]=t),t}function xe(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ae(t)}function De(e){var t;if(Re&&void 0!==(t=je.get(e)))return t;if(void 0!==(t=e[Le]))return t;if(!Fe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Le]))return t;if(void 0!==(t=Pe(e)))return t}if(t=++Ne,1073741824&Ne&&(Ne=0),Re)je.set(e,t);else{if(void 0!==Ie&&!1===Ie(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Fe)Object.defineProperty(e,Le,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Le]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Le]=t}}return t}var Ie=Object.isExtensible,Fe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Pe(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var je,Re="function"===typeof WeakMap;Re&&(je=new WeakMap);var Ne=0,Le="__immutablehash__";"function"===typeof Symbol&&(Le=Symbol(Le));var Ue=16,Ke=255,Be=0,ze={};function He(e){Se(e!==1/0,"Cannot perform this action with an infinite size.")}function Ve(e){return null===e||void 0===e?ot():qe(e)&&!u(e)?e:ot().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function qe(e){return!(!e||!e[Ge])}t(Ve,_e),Ve.prototype.toString=function(){return this.__toString("Map {","}")},Ve.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ve.prototype.set=function(e,t){return it(this,e,t)},Ve.prototype.setIn=function(e,t){return this.updateIn(e,b,(function(){return t}))},Ve.prototype.remove=function(e){return it(this,e,b)},Ve.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return b}))},Ve.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ve.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=yt(this,wn(e),t,n);return r===b?void 0:r},Ve.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ot()},Ve.prototype.merge=function(){return pt(this,void 0,arguments)},Ve.prototype.mergeWith=function(t){return pt(this,t,e.call(arguments,1))},Ve.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ve.prototype.mergeDeep=function(){return pt(this,dt,arguments)},Ve.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return pt(this,ht(t),n)},Ve.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ve.prototype.sort=function(e){return zt(fn(this,e))},Ve.prototype.sortBy=function(e,t){return zt(fn(this,t,e))},Ve.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ve.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new O)},Ve.prototype.asImmutable=function(){return this.__ensureOwner()},Ve.prototype.wasAltered=function(){return this.__altered},Ve.prototype.__iterator=function(e,t){return new et(this,e,t)},Ve.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ve.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ve.isMap=qe;var We,Ge="@@__IMMUTABLE_MAP__@@",Qe=Ve.prototype;function Xe(e,t){this.ownerID=e,this.entries=t}function Je(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ye(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return K(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var o=Object.create(Qe);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function ot(){return We||(We=rt(0))}function it(e,t,n){var r,o;if(e._root){var i=w(S),a=w(E);if(r=at(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===b?-1:1:0)}else{if(n===b)return e;o=1,r=new Xe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(o,r):ot()}function at(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===b?e:(_(s),_(a),new $e(t,r,[o,i]))}function st(e){return e.constructor===$e||e.constructor===Ze}function ct(e,t,n,r,o){if(e.keyHash===r)return new Ze(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v;return new Je(t,1<<a|1<<s,a===s?[ct(e,t,n+y,r,o)]:(i=new $e(t,r,o),a<s?[e,i]:[i,e]))}function lt(e,t,n,r){e||(e=new O);for(var o=new $e(e,Te(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function ut(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==r&&(o|=c,a[i++]=u)}return new Je(e,o,a)}function ft(e,t,n,r,o){for(var i=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Ye(e,i+1,a)}function pt(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],c=r(s);a(s)||(c=c.map((function(e){return de(e)}))),o.push(c)}return mt(e,t,o)}function dt(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ge(e,t)?e:t}function ht(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return ge(t,o)?t:o}}function mt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,b,(function(e){return e===b?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function yt(e,t,n,r){var o=e===b,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}Se(o||e&&e.set,"invalid keyPath");var c=i.value,l=o?b:e.get(c,b),u=yt(l,t,n,r);return u===l?e:u===b?e.remove(c):(o?ot():e).set(c,u)}function gt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function vt(e,t,n,r){var o=r?e:k(e);return o[t]=n,o}function bt(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function St(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}Qe[Ge]=!0,Qe[m]=Qe.remove,Qe.removeIn=Qe.deleteIn,Xe.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ge(n,o[i][0]))return o[i][1];return r},Xe.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===b,c=this.entries,l=0,u=c.length;l<u&&!ge(r,c[l][0]);l++);var f=l<u;if(f?c[l][1]===o:s)return this;if(_(a),(s||!f)&&_(i),!s||1!==c.length){if(!f&&!s&&c.length>=Et)return lt(e,c,r,o);var p=e&&e===this.ownerID,d=p?c:k(c);return f?s?l===u-1?d.pop():d[l]=d.pop():d[l]=[r,o]:d.push([r,o]),p?(this.entries=d,this):new Xe(e,d)}},Je.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var o=1<<((0===e?t:t>>>e)&v),i=this.bitmap;return 0===(i&o)?r:this.nodes[gt(i&o-1)].get(e+y,t,n,r)},Je.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&v,c=1<<s,l=this.bitmap,u=0!==(l&c);if(!u&&o===b)return this;var f=gt(l&c-1),p=this.nodes,d=u?p[f]:void 0,h=at(d,e,t+y,n,r,o,i,a);if(h===d)return this;if(!u&&h&&p.length>=wt)return ft(e,p,l,s,h);if(u&&!h&&2===p.length&&st(p[1^f]))return p[1^f];if(u&&h&&1===p.length&&st(h))return h;var m=e&&e===this.ownerID,g=u?h?l:l^c:l|c,S=u?h?vt(p,f,h,m):St(p,f,m):bt(p,f,h,m);return m?(this.bitmap=g,this.nodes=S,this):new Je(e,g,S)},Ye.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var o=(0===e?t:t>>>e)&v,i=this.nodes[o];return i?i.get(e+y,t,n,r):r},Ye.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&v,c=o===b,l=this.nodes,u=l[s];if(c&&!u)return this;var f=at(u,e,t+y,n,r,o,i,a);if(f===u)return this;var p=this.count;if(u){if(!f&&--p<_t)return ut(e,l,p,s)}else p++;var d=e&&e===this.ownerID,h=vt(l,s,f,d);return d?(this.count=p,this.nodes=h,this):new Ye(e,p,h)},Ze.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ge(n,o[i][0]))return o[i][1];return r},Ze.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=o===b;if(n!==this.keyHash)return s?this:(_(a),_(i),ct(this,e,t,n,[r,o]));for(var c=this.entries,l=0,u=c.length;l<u&&!ge(r,c[l][0]);l++);var f=l<u;if(f?c[l][1]===o:s)return this;if(_(a),(s||!f)&&_(i),s&&2===u)return new $e(e,this.keyHash,c[1^l]);var p=e&&e===this.ownerID,d=p?c:k(c);return f?s?l===u-1?d.pop():d[l]=d.pop():d[l]=[r,o]:d.push([r,o]),p?(this.entries=d,this):new Ze(e,this.keyHash,d)},$e.prototype.get=function(e,t,n,r){return ge(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,o,i,a){var s=o===b,c=ge(r,this.entry[0]);return(c?o===this.entry[1]:s)?this:(_(a),s?void _(i):c?e&&e===this.ownerID?(this.entry[1]=o,this):new $e(e,this.keyHash,[r,o]):(_(i),ct(this,e,t,Te(r),[r,o])))},Xe.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Je.prototype.iterate=Ye.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(et,U),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return tt(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return tt(e,i.entry);t=this._stack=nt(i,t)}continue}t=this._stack=this._stack.__prev}return B()};var Et=g/4,wt=g/2,_t=g/4;function Ot(e){var t=Pt();if(null===e||void 0===e)return t;if(kt(e))return e;var n=o(e),r=n.size;return 0===r?t:(He(r),r>0&&r<g?Ft(0,r,y,null,new Tt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function kt(e){return!(!e||!e[Ct])}t(Ot,Oe),Ot.of=function(){return this(arguments)},Ot.prototype.toString=function(){return this.__toString("List [","]")},Ot.prototype.get=function(e,t){if((e=A(this,e))>=0&&e<this.size){var n=Lt(this,e+=this._origin);return n&&n.array[e&v]}return t},Ot.prototype.set=function(e,t){return jt(this,e,t)},Ot.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ot.prototype.insert=function(e,t){return this.splice(e,0,t)},Ot.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Pt()},Ot.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Ut(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},Ot.prototype.pop=function(){return Ut(this,0,-1)},Ot.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Ut(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},Ot.prototype.shift=function(){return Ut(this,1)},Ot.prototype.merge=function(){return Kt(this,void 0,arguments)},Ot.prototype.mergeWith=function(t){return Kt(this,t,e.call(arguments,1))},Ot.prototype.mergeDeep=function(){return Kt(this,dt,arguments)},Ot.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Kt(this,ht(t),n)},Ot.prototype.setSize=function(e){return Ut(this,0,e)},Ot.prototype.slice=function(e,t){var n=this.size;return M(e,t,n)?this:Ut(this,x(e,n),D(t,n))},Ot.prototype.__iterator=function(e,t){var n=0,r=It(this,t);return new U((function(){var t=r();return t===Dt?B():K(e,n++,t)}))},Ot.prototype.__iterate=function(e,t){for(var n,r=0,o=It(this,t);(n=o())!==Dt&&!1!==e(n,r++,this););return r},Ot.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ft(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ot.isList=kt;var Ct="@@__IMMUTABLE_LIST__@@",At=Ot.prototype;function Tt(e,t){this.array=e,this.ownerID=t}At[Ct]=!0,At[m]=At.remove,At.setIn=Qe.setIn,At.deleteIn=At.removeIn=Qe.removeIn,At.update=Qe.update,At.updateIn=Qe.updateIn,At.mergeIn=Qe.mergeIn,At.mergeDeepIn=Qe.mergeDeepIn,At.withMutations=Qe.withMutations,At.asMutable=Qe.asMutable,At.asImmutable=Qe.asImmutable,At.wasAltered=Qe.wasAltered,Tt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new Tt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-y,n))===a&&i)return this}if(i&&!o)return this;var s=Nt(this,e);if(!i)for(var c=0;c<r;c++)s.array[c]=void 0;return o&&(s.array[r]=o),s},Tt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&v;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-y,n))===i&&o===this.array.length-1)return this}var a=Nt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var Mt,xt,Dt={};function It(e,t){var n=e._origin,r=e._capacity,o=Bt(r),i=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===o?i&&i.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>g&&(l=g),function(){if(c===l)return Dt;var e=t?--l:c++;return s&&s[e]}}function c(e,o,i){var s,c=e&&e.array,l=i>n?0:n-i>>o,u=1+(r-i>>o);return u>g&&(u=g),function(){for(;;){if(s){var e=s();if(e!==Dt)return e;s=null}if(l===u)return Dt;var n=t?--u:l++;s=a(c&&c[n],o-y,i+(n<<o))}}}}function Ft(e,t,n,r,o,i,a){var s=Object.create(At);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Pt(){return Mt||(Mt=Ft(0,0,y))}function jt(e,t,n){if((t=A(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Ut(e,t).set(0,n):Ut(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i=w(E);return t>=Bt(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,i):o=Rt(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Ft(e._origin,e._capacity,e._level,o,r):e}function Rt(e,t,n,r,o,i){var a,s=r>>>n&v,c=e&&s<e.array.length;if(!c&&void 0===o)return e;if(n>0){var l=e&&e.array[s],u=Rt(l,t,n-y,r,o,i);return u===l?e:((a=Nt(e,t)).array[s]=u,a)}return c&&e.array[s]===o?e:(_(i),a=Nt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Nt(e,t){return t&&e&&t===e.ownerID?e:new Tt(e?e.array.slice():[],t)}function Lt(e,t){if(t>=Bt(e._capacity))return e._tail;if(t<1<<e._level+y){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=y;return n}}function Ut(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new O,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new Tt(l&&l.array.length?[void 0,l]:[],r),u+=1<<(c+=y);u&&(a+=u,o+=u,s+=u,i+=u);for(var f=Bt(i),p=Bt(s);p>=1<<c+y;)l=new Tt(l&&l.array.length?[l]:[],r),c+=y;var d=e._tail,h=p<f?Lt(e,s-1):p>f?new Tt([],r):d;if(d&&p>f&&a<i&&d.array.length){for(var m=l=Nt(l,r),g=c;g>y;g-=y){var b=f>>>g&v;m=m.array[b]=Nt(m.array[b],r)}m.array[f>>>y&v]=d}if(s<i&&(h=h&&h.removeAfter(r,0,s)),a>=p)a-=p,s-=p,c=y,l=null,h=h&&h.removeBefore(r,0,a);else if(a>o||p<f){for(u=0;l;){var S=a>>>c&v;if(S!==p>>>c&v)break;S&&(u+=(1<<c)*S),c-=y,l=l.array[S]}l&&a>o&&(l=l.removeBefore(r,c,a-u)),l&&p<f&&(l=l.removeAfter(r,c,p-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=h,e.__hash=void 0,e.__altered=!0,e):Ft(a,s,c,l,h)}function Kt(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var c=n[s],l=o(c);l.size>i&&(i=l.size),a(c)||(l=l.map((function(e){return de(e)}))),r.push(l)}return i>e.size&&(e=e.setSize(i)),mt(e,t,r)}function Bt(e){return e<g?0:e-1>>>y<<y}function zt(e){return null===e||void 0===e?qt():Ht(e)?e:qt().withMutations((function(t){var n=r(e);He(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ht(e){return qe(e)&&u(e)}function Vt(e,t,n,r){var o=Object.create(zt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function qt(){return xt||(xt=Vt(ot(),Pt()))}function Wt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),c=void 0!==s;if(n===b){if(!c)return e;a.size>=g&&a.size>=2*i.size?(r=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Vt(r,o)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Qt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Yt(e){var t=bn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Sn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===j){var r=e.__iterator(t,n);return new U((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===P?F:P,n)},t}function Zt(e,t,n){var r=bn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,b);return i===b?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(j,o);return new U((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return K(r,s,t.call(n,a[1],s,e),o)}))},r}function $t(e,t){var n=bn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Yt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Sn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var o=bn(e);return r&&(o.has=function(r){var o=e.get(r,b);return o!==b&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,b);return i!==b&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,c){if(t.call(n,e,i,c))return s++,o(e,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(j,i),s=0;return new U((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,l=c[0],u=c[1];if(t.call(n,u,l,e))return K(o,r?l:s++,u,i)}}))},o}function tn(e,t,n){var r=Ve().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),o=(u(e)?zt():Ve()).asMutable();e.__iterate((function(i,a){o.update(t.call(n,i,a,e),(function(e){return(e=e||[]).push(r?[a,i]:i),e}))}));var i=vn(e);return o.map((function(t){return mn(e,i(t))}))}function rn(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),M(t,n,o))return e;var i=x(t,o),a=D(n,o);if(i!==i||a!==a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-i;c===c&&(s=c<0?0:c);var l=bn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&ie(e)&&s>=0&&(l.get=function(t,n){return(t=A(this,t))>=0&&t<s?e.get(t+i,n):n}),l.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<i))return l++,!1!==t(e,r?n:l-1,o)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,c=0;return new U((function(){for(;a++<i;)o.next();if(++c>s)return B();var e=o.next();return r||t===P?e:K(t,c-1,t===F?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate((function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(j,o),s=!0;return new U((function(){if(!s)return B();var e=a.next();if(e.done)return e;var o=e.value,c=o[0],l=o[1];return t.call(n,l,c,i)?r===j?e:K(r,c,l,e):(s=!1,B())}))},r}function an(e,t,n,r){var o=bn(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return e.__iterate((function(e,i,l){if(!s||!(s=t.call(n,e,i,l)))return c++,o(e,r?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(j,i),c=!0,l=0;return new U((function(){var e,i,u;do{if((e=s.next()).done)return r||o===P?e:K(o,l++,o===F?void 0:e.value[1],e);var f=e.value;i=f[0],u=f[1],c&&(c=t.call(n,u,i,a))}while(c);return o===j?e:K(o,i,u,e)}))},o}function sn(e,t){var n=s(e),o=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||c(e)&&c(i))return i}var l=new te(o);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;function c(e,l){var u=this;e.__iterate((function(e,o){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?o:i++,u)&&(s=!0),!s}),o)}return c(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],c=0;return new U((function(){for(;i;){var e=i.next();if(!1===e.done){var l=e.value;if(r===j&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:K(r,c++,l,e);s.push(i),i=l.__iterator(r,o)}else i=s.pop()}return B()}))},r}function ln(e,t,n){var r=vn(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}function un(e,t){var n=bn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(P,r),a=0;return new U((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?K(n,a++,t):K(n,a++,o.value,o)}))},n}function fn(e,t,n){t||(t=En);var r=s(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?Q(i):c(e)?X(i):J(i)}function pn(e,t,n){if(t||(t=En),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return dn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return dn(t,e,n)?n:e}))}function dn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function hn(e,t,r){var o=bn(e);return o.size=new te(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(P,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=n(e),V(o?e.reverse():e)})),a=0,s=!1;return new U((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?B():K(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function mn(e,t){return ie(e)?t:e.constructor(t)}function yn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function gn(e){return He(e.size),C(e)}function vn(e){return s(e)?r:c(e)?o:i}function bn(e){return Object.create((s(e)?Q:c(e)?X:J).prototype)}function Sn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function En(e,t){return e>t?1:e<t?-1:0}function wn(e){var t=V(e);if(!t){if(!W(e))throw new TypeError("Expected iterable or array-like: "+e);t=V(n(e))}return t}function _n(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);An(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Ve(i)},o=r.prototype=Object.create(On);return o.constructor=r,r}t(zt,Ve),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},zt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):qt()},zt.prototype.set=function(e,t){return Wt(this,e,t)},zt.prototype.remove=function(e){return Wt(this,e,b)},zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},zt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},zt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},zt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Vt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},zt.isOrderedMap=Ht,zt.prototype[h]=!0,zt.prototype[m]=zt.prototype.remove,t(Gt,Q),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=$t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?gn(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(P,t),r=t?gn(this):0;return new U((function(){var o=n.next();return o.done?o:K(e,t?--r:r++,o.value,o)}))},Gt.prototype[h]=!0,t(Qt,X),Qt.prototype.includes=function(e){return this._iter.includes(e)},Qt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Qt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t),r=0;return new U((function(){var t=n.next();return t.done?t:K(e,r++,t.value,t)}))},t(Xt,J),Xt.prototype.has=function(e){return this._iter.includes(e)},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t);return new U((function(){var t=n.next();return t.done?t:K(e,t.value,t.value,t)}))},t(Jt,Q),Jt.prototype.entrySeq=function(){return this._iter.toSeq()},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){yn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t);return new U((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){yn(r);var o=a(r);return K(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Qt.prototype.cacheResult=Gt.prototype.cacheResult=Xt.prototype.cacheResult=Jt.prototype.cacheResult=Sn,t(_n,_e),_n.prototype.toString=function(){return this.__toString(Cn(this)+" {","}")},_n.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},_n.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},_n.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=kn(this,ot()))},_n.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Cn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:kn(this,n)},_n.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:kn(this,t)},_n.prototype.wasAltered=function(){return this._map.wasAltered()},_n.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},_n.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},_n.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?kn(this,t,e):(this.__ownerID=e,this._map=t,this)};var On=_n.prototype;function kn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Cn(e){return e._name||e.constructor.name||"Record"}function An(e,t){try{t.forEach(Tn.bind(void 0,e))}catch(n){}}function Tn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Se(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Mn(e){return null===e||void 0===e?Rn():xn(e)&&!u(e)?e:Rn().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function xn(e){return!(!e||!e[In])}On[m]=On.remove,On.deleteIn=On.removeIn=Qe.removeIn,On.merge=Qe.merge,On.mergeWith=Qe.mergeWith,On.mergeIn=Qe.mergeIn,On.mergeDeep=Qe.mergeDeep,On.mergeDeepWith=Qe.mergeDeepWith,On.mergeDeepIn=Qe.mergeDeepIn,On.setIn=Qe.setIn,On.update=Qe.update,On.updateIn=Qe.updateIn,On.withMutations=Qe.withMutations,On.asMutable=Qe.asMutable,On.asImmutable=Qe.asImmutable,t(Mn,ke),Mn.of=function(){return this(arguments)},Mn.fromKeys=function(e){return this(r(e).keySeq())},Mn.prototype.toString=function(){return this.__toString("Set {","}")},Mn.prototype.has=function(e){return this._map.has(e)},Mn.prototype.add=function(e){return Pn(this,this._map.set(e,!0))},Mn.prototype.remove=function(e){return Pn(this,this._map.remove(e))},Mn.prototype.clear=function(){return Pn(this,this._map.clear())},Mn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},Mn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},Mn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},Mn.prototype.merge=function(){return this.union.apply(this,arguments)},Mn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Mn.prototype.sort=function(e){return Nn(fn(this,e))},Mn.prototype.sortBy=function(e,t){return Nn(fn(this,t,e))},Mn.prototype.wasAltered=function(){return this._map.wasAltered()},Mn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},Mn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},Mn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Mn.isSet=xn;var Dn,In="@@__IMMUTABLE_SET__@@",Fn=Mn.prototype;function Pn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function jn(e,t){var n=Object.create(Fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Dn||(Dn=jn(ot()))}function Nn(e){return null===e||void 0===e?zn():Ln(e)?e:zn().withMutations((function(t){var n=i(e);He(n.size),n.forEach((function(e){return t.add(e)}))}))}function Ln(e){return xn(e)&&u(e)}Fn[In]=!0,Fn[m]=Fn.remove,Fn.mergeDeep=Fn.merge,Fn.mergeDeepWith=Fn.mergeWith,Fn.withMutations=Qe.withMutations,Fn.asMutable=Qe.asMutable,Fn.asImmutable=Qe.asImmutable,Fn.__empty=Rn,Fn.__make=jn,t(Nn,Mn),Nn.of=function(){return this(arguments)},Nn.fromKeys=function(e){return this(r(e).keySeq())},Nn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Nn.isOrderedSet=Ln;var Un,Kn=Nn.prototype;function Bn(e,t){var n=Object.create(Kn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zn(){return Un||(Un=Bn(qt()))}function Hn(e){return null===e||void 0===e?Xn():Vn(e)?e:Xn().unshiftAll(e)}function Vn(e){return!(!e||!e[Wn])}Kn[h]=!0,Kn.__empty=zn,Kn.__make=Bn,t(Hn,Oe),Hn.of=function(){return this(arguments)},Hn.prototype.toString=function(){return this.__toString("Stack [","]")},Hn.prototype.get=function(e,t){var n=this._head;for(e=A(this,e);n&&e--;)n=n.next;return n?n.value:t},Hn.prototype.peek=function(){return this._head&&this._head.value},Hn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Qn(e,t)},Hn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;He(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Qn(t,n)},Hn.prototype.pop=function(){return this.slice(1)},Hn.prototype.unshift=function(){return this.push.apply(this,arguments)},Hn.prototype.unshiftAll=function(e){return this.pushAll(e)},Hn.prototype.shift=function(){return this.pop.apply(this,arguments)},Hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xn()},Hn.prototype.slice=function(e,t){if(M(e,t,this.size))return this;var n=x(e,this.size);if(D(t,this.size)!==this.size)return Oe.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Qn(r,o)},Hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Qn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new U((function(){if(r){var t=r.value;return r=r.next,K(e,n++,t)}return B()}))},Hn.isStack=Vn;var qn,Wn="@@__IMMUTABLE_STACK__@@",Gn=Hn.prototype;function Qn(e,t,n,r){var o=Object.create(Gn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Xn(){return qn||(qn=Qn(0))}function Jn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Wn]=!0,Gn.withMutations=Qe.withMutations,Gn.asMutable=Qe.asMutable,Gn.asImmutable=Qe.asImmutable,Gn.wasAltered=Qe.wasAltered,n.Iterator=U,Jn(n,{toArray:function(){He(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Qt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return Ve(this.toKeyedSeq())},toObject:function(){He(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return zt(this.toKeyedSeq())},toOrderedSet:function(){return Nn(s(this)?this.valueSeq():this)},toSet:function(){return Mn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Xt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Hn(s(this)?this.valueSeq():this)},toList:function(){return Ot(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ge(t,e)}))},entries:function(){return this.__iterator(j)},every:function(e,t){He(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return He(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){He(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""})),t},keys:function(){return this.__iterator(F)},map:function(e,t){return mn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,o;return He(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,$t(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return mn(this,fn(this,e))},values:function(){return this.__iterator(P)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return C(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ve(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(T)},flatMap:function(e,t){return mn(this,ln(this,e,t))},flatten:function(e){return mn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Jt(this)},get:function(e,t){return this.find((function(t,n){return ge(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=wn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,b):b)===b)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return pn(this,e)},maxBy:function(e,t){return pn(this,t,e)},min:function(e){return pn(this,e?nr(e):ir)},minBy:function(e,t){return pn(this,t?nr(t):ir,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return mn(this,fn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Yn=n.prototype;Yn[f]=!0,Yn[L]=Yn.values,Yn.__toJS=Yn.toArray,Yn.__toStringMapper=rr,Yn.inspect=Yn.toSource=function(){return this.toString()},Yn.chain=Yn.flatMap,Yn.contains=Yn.includes,function(){try{Object.defineProperty(Yn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Jn(r,{flip:function(){return mn(this,Yt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return ge(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return ge(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var Zn=r.prototype;function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"===typeof e?JSON.stringify(e):e}function or(){return k(arguments)}function ir(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Te(e),Te(t))|0}:function(e,t){r=r+cr(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0}),r)}function sr(e,t){return t=Ce(t,3432918353),t=Ce(t<<15|t>>>-15,461845907),t=Ce(t<<13|t>>>-13,5),t=Ce((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ae((t=Ce(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[p]=!0,Zn[L]=Yn.entries,Zn.__toJS=Yn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Jn(o,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,$t(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=x(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(k(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return mn(this,cn(this,e,!1))},get:function(e,t){return(e=A(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=A(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,un(this,e))},interleave:function(){var e=[this].concat(k(arguments)),t=hn(this.toSeq(),X.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,an(this,e,t,!1))},zip:function(){return mn(this,hn(this,or,[this].concat(k(arguments))))},zipWith:function(e){var t=k(arguments);return t[0]=this,mn(this,hn(this,e,t))}}),o.prototype[d]=!0,o.prototype[h]=!0,Jn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Yn.includes,Jn(Q,r.prototype),Jn(X,o.prototype),Jn(J,i.prototype),Jn(_e,r.prototype),Jn(Oe,o.prototype),Jn(ke,i.prototype),{Iterable:n,Seq:G,Collection:we,Map:Ve,OrderedMap:zt,List:Ot,Stack:Hn,Set:Mn,OrderedSet:Nn,Record:_n,Range:Ee,Repeat:be,is:ge,fromJS:de}}()},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},,function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(675),i=n(635),a=n(861),s=n(542),c=n(572),l=s.OrderedSet,u=s.Record,f=s.Stack,p=u({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:f(),selection:null,treeMap:null,undoStack:f()}),d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._immutable=t}return e.createEmpty=function(t){return e.createWithContent(i.createFromText(""),t)},e.createWithContent=function(t,n){var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:f(),redoStack:f(),decorator:n||null,selection:c.createEmpty(r)})},e.create=function(t){var n=t.currentContent,o=t.decorator,i=r({},t,{treeMap:m(n,o),directionMap:a.getDirectionMap(n)});return new e(new p(i))},e.set=function(t,n){return new e(t.getImmutable().withMutations((function(e){var r=e.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var a=n.currentContent||t.getCurrentContent();if(i!==r){var s,c=e.get("treeMap");return s=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)})).map((function(t){return o.generate(e,t,r)})))}(a,a.getBlockMap(),c,i,r):m(a,i),void e.merge({decorator:i,treeMap:s,nativelyRenderedContent:null})}a!==t.getCurrentContent()&&e.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),a=i.getBlockMap(),s=e.getImmutable().get("treeMap");return s.merge(t.toSeq().filter((function(e,t){return e!==a.get(t)})).map((function(e){return o.generate(i,e,r)})))}(t,a.getBlockMap(),a.getEntityMap(),i)),e.merge(n)})))},e.prototype.toJS=function(){return this.getImmutable().toJS()},e.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.prototype.getSelection=function(){return this.getImmutable().get("selection")},e.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},e.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},e.prototype.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r>0)return o.getInlineStyleAt(r-1);if(o.getLength())return o.getInlineStyleAt(0);return y(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r<o.getLength())return o.getInlineStyleAt(r);if(r>0)return o.getInlineStyleAt(r-1);return y(e,n)}(t,n)},e.prototype.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.prototype.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.prototype.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return h(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),h(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent().getLastBlock(),r=n.getKey(),o=n.getLength();return e.acceptSelection(t,new c({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){if(t.getCurrentContent()===n)return t;var o="insert-characters"!==r,i=a.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var s=t.getSelection(),c=t.getCurrentContent(),l=t.getUndoStack(),u=n;s!==c.getSelectionAfter()||function(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(t,r)?(l=l.push(c),u=u.set("selectionBefore",s)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(u=u.set("selectionBefore",c.getSelectionBefore()));var p=t.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(p=null);var d={currentContent:u,directionMap:i,undoStack:l,redoStack:f(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return e.set(t,d)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=a.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=a.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.prototype.getImmutable=function(){return this._immutable},e}();function h(e,t,n){return d.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function m(e,t){return e.getBlockMap().map((function(n){return o.generate(e,n,t)})).toOrderedMap()}function y(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}e.exports=d},,,,function(e,t,n){"use strict";var r=n(551),o=n(850),i=n(563),a=n(542),s=n(851),c=n(853),l=n(598),u=n(856),f=n(857),p=n(543),d=n(858),h=n(672),m=n(859),y=n(860),g=a.OrderedSet,v={replaceText:function(e,t,n,o,i){var a=h(e,t),s=m(a,t),c=r.create({style:o||g(),entity:i||null});return f(s,s.getSelectionAfter(),n,c)},insertText:function(e,t,n,r,o){return t.isCollapsed()||p(!1),v.replaceText(e,t,n,r,o)},moveText:function(e,t,n){var r=l(e,t),o=v.removeRange(e,t,"backward");return v.replaceWithFragment(o,n,r)},replaceWithFragment:function(e,t,n){var r=h(e,t),o=m(r,t);return u(o,o.getSelectionAfter(),n)},removeRange:function(e,t,n){var r,o,a=void 0,s=void 0;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),o=t.getFocusKey(),a=e.getBlockForKey(r),s=e.getBlockForKey(o);var l=t.getStartOffset(),u=t.getEndOffset(),f=a.getEntityAt(l),p=s.getEntityAt(u-1);if(r===o&&f&&f===p){var d=c(e.getEntityMap(),a,s,t,n);return m(e,d)}var y=t;i.draft_segmented_entities_behavior&&(y=c(e.getEntityMap(),a,s,t,n));var g=h(e,y);return m(g,y)},splitBlock:function(e,t){var n=h(e,t),r=m(n,t);return y(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return o.add(e,t,n)},removeInlineStyle:function(e,t,n){return o.remove(e,t,n)},setBlockType:function(e,t,n){return d(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return d(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return d(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=h(e,t);return s(r,t,n)}};e.exports=v},,function(e,t,n){"use strict";var r=n(542),o=r.Map,i=r.OrderedSet,a=r.Record,s=i(),c={style:s,entity:null},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStyle=function(){return this.get("style")},t.prototype.getEntity=function(){return this.get("entity")},t.prototype.hasStyle=function(e){return this.getStyle().includes(e)},t.applyStyle=function(e,n){var r=e.set("style",e.getStyle().add(n));return t.create(r)},t.removeStyle=function(e,n){var r=e.set("style",e.getStyle().remove(n));return t.create(r)},t.applyEntity=function(e,n){var r=e.getEntity()===n?e:e.set("entity",n);return t.create(r)},t.create=function(e){if(!e)return u;var n=o({style:s,entity:null}).merge(e),r=f.get(n);if(r)return r;var i=new t(n);return f=f.set(n,i),i},t}(a(c)),u=new l,f=o([[o(c),u]]);l.EMPTY=u,e.exports=l},,function(e,t,n){"use strict";var r=n(551),o=n(542),i=n(585),a=o.List,s=o.Map,c=o.OrderedSet,l=o.Record,u=o.Repeat,f=c(),p={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},d=function(e,t){return e.getStyle()===t.getStyle()},h=function(e,t){return e.getEntity()===t.getEntity()},m=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(u(r.EMPTY,n.length))),e}(n)))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getType=function(){return this.get("type")},t.prototype.getText=function(){return this.get("text")},t.prototype.getCharacterList=function(){return this.get("characterList")},t.prototype.getLength=function(){return this.getText().length},t.prototype.getDepth=function(){return this.get("depth")},t.prototype.getData=function(){return this.get("data")},t.prototype.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},t.prototype.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},t.prototype.getChildKeys=function(){return this.get("children")},t.prototype.getParentKey=function(){return this.get("parent")},t.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")},t.prototype.getNextSiblingKey=function(){return this.get("nextSibling")},t.prototype.findStyleRanges=function(e,t){i(this.getCharacterList(),d,e,t)},t.prototype.findEntityRanges=function(e,t){i(this.getCharacterList(),h,e,t)},t}(l(p));e.exports=m},function(e,t,n){"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},,,function(e,t,n){"use strict";var r=n(871),o=n(873),i=n(874),a=n(875);function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var i=n.slice(e.length);return!!t&&(i=r?r(i):i,o.contains(i,t))}function c(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var l={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=i(l,a)},,,,function(e,t,n){"use strict";var r={},o=Math.pow(2,24);e.exports=function(){for(var e=void 0;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*o).toString(32);return r[e]=!0,e}},,function(e,t,n){"use strict";var r=n(849);e.exports=r},,,function(e,t,n){"use strict";var r=n(848),o=n(584),i=n(551),a=n(864),s=n(567),c=n(635),l=n(638),u=n(678),f=n(865),p=n(680),d=n(599),h=n(549),m=n(676),y=n(545),g=n(645),v=n(694),b=n(572),S=n(926),E={Editor:f,EditorBlock:p,EditorState:y,CompositeDecorator:a,Entity:d,EntityInstance:m,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:s,ContentState:c,SelectionState:b,AtomicBlockUtils:r,KeyBindingUtil:g,Modifier:h,RichUtils:v,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:u,convertFromHTML:n(692),convertFromRaw:n(929),convertToRaw:S,genKey:n(561),getDefaultKeyBinding:n(695),getVisibleSelectionRect:n(934)};e.exports=E},function(e,t,n){"use strict";var r=n(551),o=n(542),i=n(585),a=o.List,s=o.Map,c=o.OrderedSet,l=o.Record,u=o.Repeat,f=c(),p=l({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}),d=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(u(r.EMPTY,n.length))),e}(n)))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getType=function(){return this.get("type")},t.prototype.getText=function(){return this.get("text")},t.prototype.getCharacterList=function(){return this.get("characterList")},t.prototype.getLength=function(){return this.getText().length},t.prototype.getDepth=function(){return this.get("depth")},t.prototype.getData=function(){return this.get("data")},t.prototype.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},t.prototype.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},t.prototype.findStyleRanges=function(e,t){i(this.getCharacterList(),h,e,t)},t.prototype.findEntityRanges=function(e,t){i(this.getCharacterList(),m,e,t)},t}(p);function h(e,t){return e.getStyle()===t.getStyle()}function m(e,t){return e.getEntity()===t.getEntity()}e.exports=d},function(e,t,n){"use strict";var r=n(543),o=55296,i=57343,a=/[\uD800-\uDFFF]/;function s(e){return o<=e&&e<=i}function c(e){return a.test(e)}function l(e,t){return 1+s(e.charCodeAt(t))}function u(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!c(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var o=0;if(t>0){for(;t>0&&o<r;t--)o+=l(e,o);if(o>=r)return""}else if(t<0){for(o=r;t<0&&0<o;t++)o-=l(e,o-1);o<0&&(o=0)}var i=r;if(n<r)for(i=o;n>0&&i<r;n--)i+=l(e,i);return e.substring(o,i)}var f={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=l(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:l,hasSurrogateUnit:c,isCodeUnitInSurrogateRange:s,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),a=e.charCodeAt(t+1);return o<=n&&n<=56319&&56320<=a&&a<=i},strlen:function(e){if(!c(e))return e.length;for(var t=0,n=0;n<e.length;n+=l(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return u(e,t=t<n?t:n,r)},substr:u};e.exports=f},,,,function(e,t,n){"use strict";var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},t.prototype.getAnchorKey=function(){return this.get("anchorKey")},t.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},t.prototype.getFocusKey=function(){return this.get("focusKey")},t.prototype.getFocusOffset=function(){return this.get("focusOffset")},t.prototype.getIsBackward=function(){return this.get("isBackward")},t.prototype.getHasFocus=function(){return this.get("hasFocus")},t.prototype.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===e){var i=this.getStartOffset();return t<=this.getEndOffset()&&i<=n}if(e!==r&&e!==o)return!1;var a=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=a&&n>=a},t.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},t.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},t.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},t.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},t.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(e){return new t({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},t}((0,n(542).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},,,,,,function(e,t,n){"use strict";var r=n(1),o=n(138),i=n(215),a=n(548),s=n(565);function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){return function(t){var n=t.maskError,l=t.inlineError,u=(t.errorCode,c(t,["maskError","inlineError","errorCode"]));return n?r.createElement(s.a,null,r.createElement(i.a,{errorHeader:r.createElement(o.a,n.errorHeader),errorSubHeader:n.errorSubHeader?r.createElement(o.a,n.errorSubHeader):void 0})):l?r.createElement(r.Fragment,null,r.createElement(a.a,{title:r.createElement(o.a,l.title)},r.createElement(o.a,l.content)),r.createElement(e,u)):r.createElement(e,u)}}},function(e,t,n){"use strict";var r=n(1),o=n(40),i=n.n(o),a=n(65),s=n.n(a),c=n(35),l=n.n(c),u=n(43),f=n(80),p=n(610),d=n(210);function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="alert",_=Object(u.c)({backModalText:{id:"boxui.modalDialog.backModalText",defaultMessage:"Back"},closeModalText:{id:"boxui.modalDialog.closeModalText",defaultMessage:"Close Modal"}}),O=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?b(e):t}(this,(e=v(t)).call.apply(e,[this].concat(o))),E(b(n),"onBackButtonClick",(function(e){var t=n.props.onRequestBack;t&&t(e)})),E(b(n),"onCloseButtonClick",(function(e){var t=n.props.onRequestClose;t&&t(e)})),E(b(n),"modalID",l()("modal")),n}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(o=[{key:"renderBackButton",value:function(){var e=this.props.intl.formatMessage;return r.createElement("button",{"aria-label":e(_.backModalText),className:"modal-back-button","data-testid":"modal-back-button",onClick:this.onBackButtonClick,type:"button"},r.createElement(p.a,{height:18,width:18}))}},{key:"renderCloseButton",value:function(){var e=this.props,t=e.closeButtonProps,n=e.intl.formatMessage;return r.createElement("button",y({},t,{"aria-label":n(_.closeModalText),className:"modal-close-button",onClick:this.onCloseButtonClick}),r.createElement(d.a,{color:"#909090",height:18,width:18}))}},{key:"renderContent",value:function(){var e=this.props,t=e.children;if(e.type!==w)return r.createElement("div",{className:"modal-content"},t);var n=r.Children.toArray(t);if(2!==n.length)throw new Error("Alert modal must have exactly two children: A message and <ModalActions>");return r.createElement("div",{className:"modal-content"},r.createElement("p",{id:"".concat(this.modalID,"-desc")},n[0]),n[1])}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.modalRef,o=e.onRequestBack,a=e.onRequestClose,c=e.title,l=e.type,u=m(e,["className","modalRef","onRequestBack","onRequestClose","title","type"]),f=l===w,p=s()(u,["children","closeButtonProps","onRequestClose","intl"]);return p.role=f?"alertdialog":"dialog",p["aria-labelledby"]="".concat(this.modalID,"-label"),f&&(p["aria-describedby"]="".concat(this.modalID,"-desc")),r.createElement("div",y({ref:n,className:i()("modal-dialog",t)},p),r.createElement("div",{className:"modal-header-container"},r.createElement("div",{className:"modal-header"},o&&this.renderBackButton(),r.createElement("h2",{className:"modal-title",id:"".concat(this.modalID,"-label")},c)),a&&this.renderCloseButton()),this.renderContent())}}])&&g(n.prototype,o),a&&g(n,a),t}(r.Component);E(O,"defaultProps",{type:"dialog",closeButtonProps:{}}),t.a=Object(f.c)(O)},,,,function(e,t,n){"use strict";var r=n(542).OrderedMap,o={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(e.size){var o=0;e.reduce((function(e,i,a){return t(e,i)||(n(e)&&r(o,a),o=a),i})),n(e.last())&&r(o,e.count())}}},function(e,t,n){"use strict";e.exports=function(e){return"handled"===e||!0===e}},function(e,t,n){"use strict";var r=n(549);e.exports=function(e,t,n){var o=e.getSelection(),i=e.getCurrentContent(),a=o;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return i}else if(e.isSelectionAtStartOfContent())return i;if((a=t(e))===o)return i}return r.removeRange(i,a,n)}},function(e,t,n){"use strict";var r=n(2);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a={getVersionAction:function(e){var t=e.restored_at,n=e.trashed_at,o=e.version_promoted,i=r.nf;return n&&(i=r.hf),t&&(i=r.jf),o&&(i=r.if),i},getVersionUser:function(e){var t=e.modified_by,n=e.restored_by,s=e.trashed_by,c=e.uploader_display_name,l=n||s||t||r.ne,u=l.name,f=l.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a(l,["name","id"]),{id:f,name:f===r.ne.id&&c?c:u})}}},,,,,function(e,t,n){"use strict";var r=n(1),o=n(40),i=n.n(o),a=n(195),s=n.n(a),c=n(65),l=n.n(c),u=n(216),f=n(206),p=n(224),d=n(580);n(620);function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?b(e):t}(this,(e=v(t)).call.apply(e,[this].concat(o))),E(b(n),"onKeyDown",(function(e){var t=n.props,r=t.isOpen,o=t.onRequestClose;r&&o&&"Escape"===e.key&&(e.stopPropagation(),o(e))})),E(b(n),"onBackdropClick",(function(e){var t=n.props,r=t.onRequestClose,o=t.onBackdropClick;o?o(e):r&&r(e)})),E(b(n),"onModalOpen",(function(){setTimeout((function(){var e=n.props.focusElementSelector,t=e&&e.trim();t?n.focusElement(t):n.focusFirstUsefulElement()}),0)})),E(b(n),"focusFirstUsefulElement",(function(){if(n.dialog){var e=s()(n.dialog);e.length>1?e[1].focus():e.length>0&&e[0].focus()}})),E(b(n),"focusElement",(function(e){if(n.dialog){var t=n.dialog.querySelector(e);if(!t)throw new Error("Could not find element matching selector ".concat(e," to focus on."));t.focus()}})),n}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.props.isOpen&&this.onModalOpen()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isLoading,r=t.isOpen;e.isOpen&&!e.isLoading||!r||n||this.onModalOpen()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.isLoading,a=t.isOpen,s=t.onRequestClose,c=t.shouldNotUsePortal,h=t.style,g=y(t,["className","isLoading","isOpen","onRequestClose","shouldNotUsePortal","style"]);if(!a)return null;var v=l()(g,["onBackdropClick","focusElementSelector"]),b=c?"div":p.a;return r.createElement(b,{className:i()("modal",n),onKeyDown:this.onKeyDown,tabIndex:"-1"},r.createElement("div",{className:"modal-backdrop",onClick:this.onBackdropClick,style:h.backdrop}),r.createElement(u.a,{className:"modal-dialog-container"},o?r.createElement(f.b,{size:"large"}):r.createElement(d.a,m({modalRef:function(t){e.dialog=t},onRequestClose:s,style:h.dialog},v))),r.createElement("style",{type:"text/css"},"\n            body {\n                overflow:hidden;\n            }\n        "))}}])&&g(n.prototype,o),a&&g(n,a),t}(r.Component);E(w,"defaultProps",{style:{backdrop:{},dialog:{}}}),t.a=w},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(40),a=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){var t=e.className,n=c(e,["className"]);return o.a.createElement("div",s({className:a()("modal-actions",t)},n))}},,function(e,t,n){},function(e,t,n){"use strict";var r=n(550);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(671),o=n(672);e.exports=function(e,t){var n=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),c=o(e,t).getBlockMap(),l=c.keySeq(),u=l.indexOf(n),f=l.indexOf(a)+1;return r(c.slice(u,f).map((function(e,t){var r=e.getText(),o=e.getCharacterList();return n===a?e.merge({text:r.slice(i,s),characterList:o.slice(i,s)}):t===n?e.merge({text:r.slice(i),characterList:o.slice(i)}):t===a?e.merge({text:r.slice(0,s),characterList:o.slice(0,s)}):e})))}},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(676),i=n(542),a=n(543),s=(0,i.Map)(),c=0;function l(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var u={getLastCreatedEntityKey:function(){return l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),u.__getLastCreatedEntityKey()},create:function(e,t,n){return l("DraftEntity.create","contentState.createEntity"),u.__create(e,t,n)},add:function(e){return l("DraftEntity.add","contentState.addEntity"),u.__add(e)},get:function(e){return l("DraftEntity.get","contentState.getEntity"),u.__get(e)},mergeData:function(e,t){return l("DraftEntity.mergeData","contentState.mergeEntityData"),u.__mergeData(e,t)},replaceData:function(e,t){return l("DraftEntity.replaceData","contentState.replaceEntityData"),u.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return""+c},__create:function(e,t,n){return u.__add(new o({type:e,mutability:t,data:n||{}}))},__add:function(e){var t=""+ ++c;return s=s.set(t,e),t},__get:function(e){var t=s.get(e);return t||a(!1),t},__mergeData:function(e,t){var n=u.__get(e),o=r({},n.getData(),t),i=n.set("data",o);return s=s.set(e,i),i},__replaceData:function(e,t){var n=u.__get(e).set("data",t);return s=s.set(e,n),n}};e.exports=u},function(e,t,n){"use strict";var r={encode:function(e,t,n){return e+"-"+t+"-"+n},decode:function(e){var t=e.split("-"),n=t[0],r=t[1],o=t[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(o,10)}}};e.exports=r},function(e,t,n){"use strict";var r=n(1),o=n(7),i=n(34);t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,s=void 0===a?o.m:a,c=e.height,l=void 0===c?16:c,u=e.title,f=e.width,p=void 0===f?16:f;return r.createElement(i.a,{className:"icon-trash ".concat(n),height:l,title:u,viewBox:"0 0 16 16",width:p},r.createElement("path",{className:"fill-color",fill:s,fillRule:"evenodd",d:"M14 2l-1.8 11c-.1.6-.7 1-1.2 1H5c-.6 0-1.1-.5-1.2-1L2 2h12zm-1.2 1H3.2l1.6 9.9s.1.1.2.1h6c.06 0 .12-.036.158-.065l.042-.035L12.8 3zm-2.3 1c.3 0 .5.2.5.5s-.2.5-.5.5h-5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5z"}))}},,,function(e,t,n){"use strict";var r=n(80),o=n(2),i=n(547),a=n(43),s=Object(a.c)({eventTime:{id:"boxui.readableTime.eventTime",defaultMessage:"{time, date, medium}"},eventTimeToday:{id:"boxui.readableTime.eventTimeToday",defaultMessage:"Today at {time, time, short}"},eventTimeYesterday:{id:"boxui.readableTime.eventTimeYesterday",defaultMessage:"Yesterday at {time, time, short}"},eventTimeDate:{id:"boxui.readableTime.eventTimeDate",defaultMessage:"{time, date, medium} at {time, time, short}"},eventTimeDateShort:{id:"boxui.readableTime.eventTimeDateShort",defaultMessage:"{date} at {time, time, short}"},eventTimeWeekdayLong:{id:"boxui.readableTime.eventTimeWeekdayLong",defaultMessage:"{weekday}, {time, date, medium}"}}),c=["ru"];t.a=Object(r.c)((function(e){var t=e.intl,n=e.timestamp,r=e.relativeThreshold,a=void 0===r?o.Td:r,l=e.allowFutureTimestamps,u=void 0===l||l,f=e.alwaysShowTime,p=void 0!==f&&f,d=e.showWeekday,h=void 0!==d&&d,m=e.uppercase,y=void 0!==m&&m&&!c.includes(t.locale),g=Date.now()-a,v=!Object(i.g)(n);!u&&n>Date.now()&&(n=g);var b,S=s.eventTime,E=null,w=null;if(Object(i.h)(n))S=s.eventTimeToday;else if(Object(i.j)(n))S=s.eventTimeYesterday;else if(h)S=s.eventTimeWeekdayLong,w=t.formatDate(n,{weekday:"long"});else if(v&&p)S=s.eventTimeDate;else if(!v&&p)S=s.eventTimeDateShort,E=t.formatDate(n,{month:"short",day:"numeric"});else if(!v&&!p)return b=t.formatDate(n,{month:"short",day:"numeric"}),y?b.toLocaleUpperCase(t.locale):b;var _={time:n,date:E,weekday:w};b=t.formatMessage(S,_);var O=n-Date.now();return Math.abs(O)<=a&&(b=t.formatRelativeTime?t.formatRelativeTime(O):t.formatRelative(n)),y?b.toLocaleUpperCase(t.locale):b}))},,,,,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(548);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(584),o=n(551),i=n(567),a=n(553),s=n(599),c=n(563),l=n(542),u=n(572),f=n(561),p=n(636),d=l.List,h=l.Record,m=l.Repeat,y=c.draft_tree_data_support?a:i,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getEntityMap=function(){return s},t.prototype.getBlockMap=function(){return this.get("blockMap")},t.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},t.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},t.prototype.getBlockForKey=function(e){return this.getBlockMap().get(e)},t.prototype.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},t.prototype.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},t.prototype.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},t.prototype.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},t.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},t.prototype.getFirstBlock=function(){return this.getBlockMap().first()},t.prototype.getLastBlock=function(){return this.getBlockMap().last()},t.prototype.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},t.prototype.getLastCreatedEntityKey=function(){return s.__getLastCreatedEntityKey()},t.prototype.hasText=function(){var e=this.getBlockMap();return e.size>1||e.first().getLength()>0},t.prototype.createEntity=function(e,t,n){return s.__create(e,t,n),this},t.prototype.mergeEntityData=function(e,t){return s.__mergeData(e,t),this},t.prototype.replaceEntityData=function(e,t){return s.__replaceData(e,t),this},t.prototype.addEntity=function(e){return s.__add(e),this},t.prototype.getEntity=function(e){return s.__get(e)},t.createFromBlockArray=function(e,n){var o=Array.isArray(e)?e:e.contentBlocks,i=r.createFromArray(o),a=i.isEmpty()?new u:u.createEmpty(i.first().getKey());return new t({blockMap:i,entityMap:n||s,selectionBefore:a,selectionAfter:a})},t.createFromText=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=e.split(n).map((function(e){return e=p(e),new y({key:f(),text:e,type:"unstyled",characterList:d(m(o.EMPTY,e.length))})}));return t.createFromBlockArray(r)},t}(h({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));e.exports=g},function(e,t,n){"use strict";var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},function(e,t,n){"use strict";var r=n(543),o="LTR",i="RTL",a=null;function s(e){return e===o||e===i}function c(e){return s(e)||r(!1),e===o?"ltr":"rtl"}function l(e){a=e}var u={NEUTRAL:"NEUTRAL",LTR:o,RTL:i,isStrong:s,getHTMLDir:c,getHTMLDirIfDifferent:function(e,t){return s(e)||r(!1),s(t)||r(!1),e===t?null:c(e)},setGlobalDir:l,initGlobalDir:function(){l(o)},getGlobalDir:function(){return a||this.initGlobalDir(),a||r(!1),a}};e.exports=u},function(e,t,n){"use strict";var r=n(542).Map,o=n(1),i=n(573),a=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:o.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:o.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:o.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=a},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function r(e,t){return t&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var o=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(n=e.getBlockForKey(o).getEntityAt(i-1))!==e.getBlockForKey(o).getEntityAt(i)?null:r(e.getEntityMap(),n):null}var a=t.getStartKey(),s=t.getStartOffset(),c=e.getBlockForKey(a);return n=s===c.getLength()?null:c.getEntityAt(s),r(e.getEntityMap(),n)}},function(e,t,n){"use strict";var r=n(878);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";function r(e,t){var n=o.get(e,t);return"auto"===n||"scroll"===n}var o={get:n(880),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=o},function(e,t,n){"use strict";var r=n(885),o=n(886);e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=o(e),i=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-i.clientWidth,s=e.scrollHeight-i.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},function(e,t,n){"use strict";var r=n(684);e.exports=function(e){for(var t=e;t&&t!==document.documentElement;){var n=r(t);if(null!=n)return n;t=t.parentNode}return null}},function(e,t,n){"use strict";var r=n(557).isPlatform("Mac OS X"),o={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return r&&e.altKey},hasCommandModifier:function(e){return r?!!e.metaKey&&!e.altKey:o.isCtrlKeyCommand(e)}};e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,s=0;if(t>i){var c=r.getKeyBefore(o);if(null==c)a=o;else a=c,s=r.getBlockForKey(c).getText().length}else s=i-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";var r=n(553),o=n(542),i=n(561),a=o.OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t={},n=void 0;return a(e.withMutations((function(e){e.forEach((function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),c=r.getPrevSiblingKey(),l=r.getChildKeys(),u=r.getParentKey(),f=i();if(t[a]=f,s&&(e.get(s)?e.setIn([s,"prevSibling"],f):e.setIn([a,"nextSibling"],null)),c&&(e.get(c)?e.setIn([c,"nextSibling"],f):e.setIn([a,"prevSibling"],null)),u&&e.get(u)){var p=e.get(u).getChildKeys();e.setIn([u,"children"],p.set(p.indexOf(r.getKey()),f))}else e.setIn([a,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],f),e.setIn([a,"prevSibling"],t[n.getKey()])),n=e.get(a);l.forEach((function(t){e.get(t)?e.setIn([t,"parent"],f):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]})))}(e):function(e){return a(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},function(e,t,n){"use strict";var r=n(551),o=n(585),i=n(543);function a(e,t,n){var a=t.getCharacterList(),s=n>0?a.get(n-1):void 0,c=n<a.count()?a.get(n):void 0,l=s?s.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===l&&"MUTABLE"!==e.__get(u).getMutability()){for(var f,p=function(e,t,n){var r;return o(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!==typeof r&&i(!1),r}(a,u,n),d=p.start,h=p.end;d<h;)f=a.get(d),a=a.set(d,r.applyEntity(f,null)),d++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),o={},i=t.getStartKey(),s=t.getStartOffset(),c=n.get(i),l=a(r,c,s);l!==c&&(o[i]=l);var u=t.getEndKey(),f=t.getEndOffset(),p=n.get(u);i===u&&(p=l);var d=a(r,p,f);return d!==p&&(o[u]=d),Object.keys(o).length?e.merge({blockMap:n.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}},function(e,t,n){"use strict";e.exports=function(e,t,n){if(n===e.count())t.forEach((function(t){e=e.push(t)}));else if(0===n)t.reverse().forEach((function(t){e=e.unshift(t)}));else{var r=e.slice(0,n),o=e.slice(n);e=r.concat(t,o).toList()}return e}},function(e,t,n){"use strict";var r=n(553);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var o=e.getParentKey();if(!o)return null;for(var i=t.get(o);i&&!i.getNextSiblingKey();){var a=i.getParentKey();i=a?t.get(a):null}return i?i.getNextSiblingKey():null}},function(e,t,n){"use strict";var r=n(542),o=n(634),i=n(585),a=r.List,s=r.Repeat,c=r.Record,l=o.thatReturnsTrue,u=c({start:null,end:null}),f=c({start:null,end:null,decoratorKey:null,leaves:null}),p={generate:function(e,t,n){var r=t.getLength();if(!r)return a.of(new f({start:0,end:0,decoratorKey:null,leaves:a.of(new u({start:0,end:0}))}));var o=[],c=n?n.getDecorations(t,e):a(s(null,r)),p=t.getCharacterList();return i(c,h,l,(function(e,t){o.push(new f({start:e,end:t,decoratorKey:c.get(e),leaves:d(p.slice(e,t).toList(),e)}))})),a(o)},getFingerprint:function(e){return e.map((function(e){var t=e.get("decoratorKey");return(null!==t?t+"."+(e.get("end")-e.get("start")):"")+"."+e.get("leaves").size})).join("-")}};function d(e,t){var n=[],r=e.map((function(e){return e.getStyle()})).toList();return i(r,h,l,(function(e,r){n.push(new u({start:e+t,end:r+t}))})),a(n)}function h(e,t){return e===t}e.exports=p},function(e,t,n){"use strict";var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getType=function(){return this.get("type")},t.prototype.getMutability=function(){return this.get("mutability")},t.prototype.getData=function(){return this.get("data")},t}((0,n(542).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},function(e,t,n){"use strict";var r=n(637),o=n(543),i="\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f",a="\u0608\u060b\u060d\u061b\u061c\u061d\u061e-\u061f\u0620-\u063f\u0640\u0641-\u064a\u066d\u066e-\u066f\u0671-\u06d3\u06d4\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06fd-\u06fe\u06ff\u0700-\u070d\u070e\u070f\u0710\u0712-\u072f\u074b-\u074c\u074d-\u07a5\u07b1\u07b2-\u07bf\u08a0-\u08b2\u08b3-\u08e3\ufb50-\ufbb1\ufbb2-\ufbc1\ufbc2-\ufbd2\ufbd3-\ufd3d\ufd40-\ufd4f\ufd50-\ufd8f\ufd90-\ufd91\ufd92-\ufdc7\ufdc8-\ufdcf\ufdf0-\ufdfb\ufdfc\ufdfe-\ufdff\ufe70-\ufe74\ufe75\ufe76-\ufefc\ufefd-\ufefe",s=new RegExp("["+"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u01ba\u01bb\u01bc-\u01bf\u01c0-\u01c3\u01c4-\u0293\u0294\u0295-\u02af\u02b0-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0482\u048a-\u052f\u0531-\u0556\u0559\u055a-\u055f\u0561-\u0587\u0589\u0903\u0904-\u0939\u093b\u093d\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096f\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09ef\u09f0-\u09f1\u09f4-\u09f9\u09fa\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0af0\u0b02-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b70\u0b71\u0b72-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bef\u0bf0-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c7f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cbe\u0cbf\u0cc0-\u0cc4\u0cc6\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0cf1-\u0cf2\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0d70-\u0d75\u0d79\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0df4\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e46\u0e4f\u0e50-\u0e59\u0e5a-\u0e5b\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f01-\u0f03\u0f04-\u0f12\u0f13\u0f14\u0f15-\u0f17\u0f1a-\u0f1f\u0f20-\u0f29\u0f2a-\u0f33\u0f34\u0f36\u0f38\u0f3e-\u0f3f\u0f40-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd0-\u0fd4\u0fd5-\u0fd8\u0fd9-\u0fda\u1000-\u102a\u102b-\u102c\u1031\u1038\u103b-\u103c\u103f\u1040-\u1049\u104a-\u104f\u1050-\u1055\u1056-\u1057\u105a-\u105d\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106d\u106e-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108c\u108e\u108f\u1090-\u1099\u109a-\u109c\u109e-\u109f\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fb\u10fc\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u1368\u1369-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166d-\u166e\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16eb-\u16ed\u16ee-\u16f0\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7-\u17c8\u17d4-\u17d6\u17d7\u17d8-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1946-\u194f\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c0\u19c1-\u19c7\u19c8-\u19c9\u19d0-\u19d9\u19da\u1a00-\u1a16\u1a19-\u1a1a\u1a1e-\u1a1f\u1a20-\u1a54\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aa6\u1aa7\u1aa8-\u1aad\u1b04\u1b05-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b45-\u1b4b\u1b50-\u1b59\u1b5a-\u1b60\u1b61-\u1b6a\u1b74-\u1b7c\u1b82\u1b83-\u1ba0\u1ba1\u1ba6-\u1ba7\u1baa\u1bae-\u1baf\u1bb0-\u1bb9\u1bba-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1bfc-\u1bff\u1c00-\u1c23\u1c24-\u1c2b\u1c34-\u1c35\u1c3b-\u1c3f\u1c40-\u1c49\u1c4d-\u1c4f\u1c50-\u1c59\u1c5a-\u1c77\u1c78-\u1c7d\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf1\u1cf2-\u1cf3\u1cf5-\u1cf6\u1d00-\u1d2b\u1d2c-\u1d6a\u1d6b-\u1d77\u1d78\u1d79-\u1d9a\u1d9b-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2134\u2135-\u2138\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c7b\u2c7c-\u2c7d\u2c7e-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005\u3006\u3007\u3021-\u3029\u302e-\u302f\u3031-\u3035\u3038-\u303a\u303b\u303c\u3041-\u3096\u309d-\u309e\u309f\u30a1-\u30fa\u30fc-\u30fe\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u3191\u3192-\u3195\u3196-\u319f\u31a0-\u31ba\u31f0-\u31ff\u3200-\u321c\u3220-\u3229\u322a-\u3247\u3248-\u324f\u3260-\u327b\u327f\u3280-\u3289\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua015\ua016-\ua48c\ua4d0-\ua4f7\ua4f8-\ua4fd\ua4fe-\ua4ff\ua500-\ua60b\ua60c\ua610-\ua61f\ua620-\ua629\ua62a-\ua62b\ua640-\ua66d\ua66e\ua680-\ua69b\ua69c-\ua69d\ua6a0-\ua6e5\ua6e6-\ua6ef\ua6f2-\ua6f7\ua722-\ua76f\ua770\ua771-\ua787\ua789-\ua78a\ua78b-\ua78e\ua790-\ua7ad\ua7b0-\ua7b1\ua7f7\ua7f8-\ua7f9\ua7fa\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua823-\ua824\ua827\ua830-\ua835\ua836-\ua837\ua840-\ua873\ua880-\ua881\ua882-\ua8b3\ua8b4-\ua8c3\ua8ce-\ua8cf\ua8d0-\ua8d9\ua8f2-\ua8f7\ua8f8-\ua8fa\ua8fb\ua900-\ua909\ua90a-\ua925\ua92e-\ua92f\ua930-\ua946\ua952-\ua953\ua95f\ua960-\ua97c\ua983\ua984-\ua9b2\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\ua9c1-\ua9cd\ua9cf\ua9d0-\ua9d9\ua9de-\ua9df\ua9e0-\ua9e4\ua9e6\ua9e7-\ua9ef\ua9f0-\ua9f9\ua9fa-\ua9fe\uaa00-\uaa28\uaa2f-\uaa30\uaa33-\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f\uaa60-\uaa6f\uaa70\uaa71-\uaa76\uaa77-\uaa79\uaa7a\uaa7b\uaa7d\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaadd\uaade-\uaadf\uaae0-\uaaea\uaaeb\uaaee-\uaaef\uaaf0-\uaaf1\uaaf2\uaaf3-\uaaf4\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5b\uab5c-\uab5f\uab64-\uab65\uabc0-\uabe2\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabeb\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\uf8ff\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uff6f\uff70\uff71-\uff9d\uff9e-\uff9f\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"+i+a+"]"),c=new RegExp("["+i+a+"]");function l(e){var t=s.exec(e);return null==t?null:t[0]}function u(e){var t=l(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function f(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=u(e);return n===r.NEUTRAL?t:n}function p(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||o(!1),f(e,t)}var d={firstStrongChar:l,firstStrongCharDir:u,resolveBlockDir:f,getDirection:p,isDirectionLTR:function(e,t){return p(e,t)===r.LTR},isDirectionRTL:function(e,t){return p(e,t)===r.RTL}};e.exports=d},function(e,t,n){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),i=!1;return r.some((function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return o===t&&(i=!0,!0)}))})),i}},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(869),i=n(600),a=n(1),s=n(17),c=n(682),l=n(642),u=n(677),f=n(637),p=n(573),d=n(883),h=n(643),m=n(887),y=n(543),g=n(554),v=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||v(e.selection,e.block.getKey())&&e.forceSelection},t.prototype.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=s.findDOMNode(this),r=l.getScrollParent(n),o=h(r),i=void 0;if(r===window){var a=d(n);(i=a.y+a.height-m().height)>0&&window.scrollTo(o.x,o.y+i+10)}else{n instanceof HTMLElement||y(!1),(i=n.offsetHeight+n.offsetTop-(r.offsetHeight+o.y))>0&&c.setTop(r,c.getTop(r)+i+10)}}},t.prototype._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),s=t.getText(),c=this.props.tree.size-1,l=v(this.props.selection,n);return this.props.tree.map((function(p,d){var h=p.get("leaves"),m=h.size-1,y=h.map((function(r,u){var f=i.encode(n,d,u),p=r.get("start"),h=r.get("end");return a.createElement(o,{key:f,offsetKey:f,block:t,start:p,selection:l?e.props.selection:null,forceSelection:e.props.forceSelection,text:s.slice(p,h),styleSet:t.getInlineStyleAt(p),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:d===c&&u===m})})).toArray(),v=p.get("decoratorKey");if(null==v)return y;if(!e.props.decorator)return y;var b=g(e.props.decorator),S=b.getComponentForKey(v);if(!S)return y;var E=b.getPropsForKey(v),w=i.encode(n,d,0),_=s.slice(h.first().get("start"),h.last().get("end")),O=f.getHTMLDirIfDifferent(u.getDirection(_),e.props.direction);return a.createElement(S,r({},E,{contentState:e.props.contentState,decoratedText:_,dir:O,key:w,entityKey:t.getEntityAt(p.get("start")),offsetKey:w}),y)})).toArray()},t.prototype.render=function(){var e=this.props,t=e.direction,n=e.offsetKey,r=p({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return a.createElement("div",{"data-offset-key":n,className:r},this._renderChildren())},t}(a.Component);e.exports=b},function(e,t,n){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var o={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=o},function(e,t,n){"use strict";var r=n(890),o=n(891),i=n(634),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.types=t.types?o(t.types):[]}return e.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},e.prototype.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(a,"\n"):null},e.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},e.prototype.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},e.prototype.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},e.prototype.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var o=t[n].type;if(!r.isImage(o))return!1}return!0},e.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(i.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.prototype.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=l},function(e,t,n){"use strict";e.exports=function e(t){if(t instanceof Element){var n=t.getAttribute("data-offset-key");if(n)return n;for(var r=0;r<t.childNodes.length;r++){var o=e(t.childNodes[r]);if(o)return o}}return null}},function(e,t,n){"use strict";(function(t){var r=n(543),o=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var a=0,s=[];e.forEach((function(c){!function(e,n){if(!t.FileReader||e.type&&!(e.type in i))return void n("");if(""===e.type){var a="";return o.test(e.name)&&(a=e.name.replace(o,"")),void n(a)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!==typeof e&&r(!1),n(e)},s.onerror=function(){n("")},s.readAsText(e)}(c,(function(t){a++,t&&s.push(t.slice(0,5e3)),a==e.length&&n(s.join("\r"))}))}))}}).call(this,n(70))},function(e,t,n){"use strict";var r=n(600),o=n(554);e.exports=function(e,t,n,i,a){var s=o(e.getSelection()),c=r.decode(t),l=c.blockKey,u=e.getBlockTree(l).getIn([c.decoratorKey,"leaves",c.leafKey]),f=r.decode(i),p=f.blockKey,d=e.getBlockTree(p).getIn([f.decoratorKey,"leaves",f.leafKey]),h=u.get("start"),m=d.get("start"),y=u?h+n:null,g=d?m+a:null;if(s.getAnchorKey()===l&&s.getAnchorOffset()===y&&s.getFocusKey()===p&&s.getFocusOffset()===g)return s;var v=!1;if(l===p){var b=u.get("end"),S=d.get("end");v=m===h&&S===b?a<n:m<h}else{v=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===l||e===p})).first()===p}return s.merge({anchorKey:l,anchorOffset:y,focusKey:p,focusOffset:g,isBackward:v})}},function(e,t,n){"use strict";var r=n(598);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},function(e,t,n){"use strict";var r=n(557),o=n(543);var i=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var i=r===e.commonAncestorContainer;i?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a,s=Array.from(t.getClientRects());if(n.push(s),i)return n.reverse(),(a=[]).concat.apply(a,n);t.setEndBefore(r)}o(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=i},function(e,t,n){"use strict";var r=n(644),o=n(684),i=n(686),a=n(543),s=n(554);function c(e,t,n){var i=t,c=r(i);if(null!=c||e&&(e===i||e.firstChild===i)||a(!1),e===i&&((i=i.firstChild)instanceof Element&&"true"===i.getAttribute("data-contents")||a(!1),n>0&&(n=i.childNodes.length)),0===n){var u=null;if(null!=c)u=c;else{var f=function(e){for(;e.firstChild&&(e.firstChild instanceof Element&&"true"===e.firstChild.getAttribute("data-blocks")||o(e.firstChild));)e=e.firstChild;return e}(i);u=s(o(f))}return{key:u,offset:0}}var p=i.childNodes[n-1],d=null,h=null;if(o(p)){var m=function(e){for(;e.lastChild&&(e.lastChild instanceof Element&&"true"===e.lastChild.getAttribute("data-blocks")||o(e.lastChild));)e=e.lastChild;return e}(p);d=s(o(m)),h=l(m)}else d=s(c),h=l(p);return{key:d,offset:h}}function l(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,o,a,l){var u=n.nodeType===Node.TEXT_NODE,f=a.nodeType===Node.TEXT_NODE;if(u&&f)return{selectionState:i(e,s(r(n)),o,s(r(a)),l),needsRecovery:!1};var p=null,d=null,h=!0;return u?(p={key:s(r(n)),offset:o},d=c(t,a,l)):f?(d={key:s(r(a)),offset:l},p=c(t,n,o)):(p=c(t,n,o),d=c(t,a,l),n===a&&o===l&&(h=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:i(e,p.key,p.offset,d.key,d.offset),needsRecovery:h}}},function(e,t,n){"use strict";var r="['\u2018\u2019]",o="\\s|(?![_])"+n(909).getPunctuation(),i=new RegExp("^(?:"+o+")*(?:"+r+"|(?!"+o+").)*(?:(?!"+o+").)"),a=new RegExp("(?:(?!"+o+").)(?:"+r+"|(?!"+o+").)*(?:"+o+")*$");function s(e,t){var n=t?a.exec(e):i.exec(e);return n?n[0]:e}var c={getBackward:function(e){return s(e,!0)},getForward:function(e){return s(e,!1)}};e.exports=c},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=e.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=e.getCurrentContent(),s=o;return t>a.getBlockForKey(o).getText().length-i?(s=a.getKeyAfter(o),n=0):n=i+t,r.merge({focusKey:s,focusOffset:n})}},function(e,t,n){"use strict";var r,o=i||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(111);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(551),c=n(567),l=n(553),u=n(638),f=n(599),p=n(563),d=n(542),h=n(542).Set,m=n(920),y=n(573),g=n(561),v=n(693),b=n(543),S=n(636),E=p.draft_tree_data_support,w=d.List,_=d.OrderedSet,O=" ",k=new RegExp("\r","g"),C=new RegExp("\n","g"),A=new RegExp("&nbsp;","g"),T=new RegExp("&#13;?","g"),M=new RegExp("&#8203;?","g"),x=["bold","bolder","500","600","700","800","900"],D=["light","lighter","100","200","300","400"],I={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},F=(a(r={},y("public/DraftStyleDefault/depth0"),0),a(r,y("public/DraftStyleDefault/depth1"),1),a(r,y("public/DraftStyleDefault/depth2"),2),a(r,y("public/DraftStyleDefault/depth3"),3),a(r,y("public/DraftStyleDefault/depth4"),4),r),P=["className","href","rel","target","title"],j=["alt","className","height","src","width"],R=void 0,N={text:"",inlines:[],entities:[],blocks:[]},L={children:w(),depth:0,key:"",type:""},U=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null},K=function(e,t,n){var r=n.filter((function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some((function(t){return t===e}))})).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r](e,t);if(o)return o}return null}(e,t,[U])||"unstyled"}},B=function(e,t,n){var r=e.text.slice(-1),o=t.text.slice(0,1);if("\r"!==r||"\r"!==o||n||(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===r){if(t.text===O||"\n"===t.text)return e;o!==O&&"\n"!==o||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},z=function(e){e instanceof HTMLAnchorElement||b(!1);var t=e.protocol;return"http:"===t||"https:"===t||"mailto:"===t},H=function(e){var t=new Array(1);return e&&(t[0]=e),o({},N,{text:O,inlines:[_()],entities:t})},V=function(){return o({},N,{text:"\n",inlines:[_()],entities:new Array(1)})},q=function(){return o({},L,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{text:"\r",inlines:[_()],entities:new Array(1),blocks:[q({parent:n,key:g(),type:e,depth:Math.max(0,Math.min(4,t))})]}},G=function e(t,n,r,i,a,s,c,l,u,p){var d=R,h=n.nodeName.toLowerCase(),y=t,g="unstyled",v=!1,b=a&&K(a,i,l),S=o({},N),w=void 0;if("#text"===h){var _=n.textContent,k=_.trim();if(i&&""===k&&n.parentElement){var A=n.parentElement.nodeName.toLowerCase();if("ol"===A||"ul"===A)return{chunk:o({},N),entityMap:t}}return""===k&&"pre"!==a?{chunk:H(u),entityMap:t}:("pre"!==a&&(_=_.replace(C,O)),R=h,{chunk:{text:_,inlines:Array(_.length).fill(r),entities:Array(_.length).fill(u),blocks:[]},entityMap:t})}if(R=h,"br"===h)return"br"!==d||a&&"unstyled"!==b?{chunk:V(),entityMap:t}:{chunk:W("unstyled",c,p),entityMap:t};if("img"===h&&n instanceof HTMLImageElement&&n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value){var T=n,M={};j.forEach((function(e){var t=T.getAttribute(e);t&&(M[e]=t)})),n.textContent="\ud83d\udcf7",u=f.__create("IMAGE","MUTABLE",M||{})}r=function(e,t,n){var r=I[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var o=t;n=n.withMutations((function(e){var t=o.style.fontWeight,n=o.style.fontStyle,r=o.style.textDecoration;x.indexOf(t)>=0?e.add("BOLD"):D.indexOf(t)>=0&&e.remove("BOLD"),"italic"===n?e.add("ITALIC"):"normal"===n&&e.remove("ITALIC"),"underline"===r&&e.add("UNDERLINE"),"line-through"===r&&e.add("STRIKETHROUGH"),"none"===r&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))})).toOrderedSet()}return n}(h,n,r),"ul"!==h&&"ol"!==h||(i&&(c+=1),i=h),!E&&"li"===h&&n instanceof HTMLElement&&(c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(F).some((function(n){e.classList.contains(n)&&(t=F[n])})),t}(n,c));var L=K(h,i,l),U=i&&"li"===a&&"li"===h,q=(!a||E)&&-1!==s.indexOf(h);(U||q)&&(w=(S=W(L,c,p)).blocks[0].key,a=h,v=!E),U&&(g="ul"===i?"unordered-list-item":"ordered-list-item");var G=n.firstChild;null!=G&&(h=G.nodeName.toLowerCase());for(var Q=null;G;){G instanceof HTMLAnchorElement&&G.href&&z(G)?function(){var e=G,t={};P.forEach((function(n){var r=e.getAttribute(n);r&&(t[n]=r)})),t.url=new m(e.href).toString(),Q=f.__create("LINK","MUTABLE",t||{})}():Q=void 0;var X=e(y,G,r,i,a,s,c,l,Q||u,E?w:null),J=X.chunk;y=X.entityMap,S=B(S,J,E);var Y=G.nextSibling;!p&&Y&&s.indexOf(h)>=0&&a&&(S=B(S,V())),Y&&(h=Y.nodeName.toLowerCase()),G=Y}return v&&(S=B(S,W(g,c,p))),{chunk:S,entityMap:y}},Q=function(e,t,n,r){e=e.trim().replace(k,"").replace(A,O).replace(T,"").replace(M,"");var i=function(e){var t=e.get("unstyled").element,n=h([]);return e.forEach((function(e){e.aliasedElements&&e.aliasedElements.forEach((function(e){n=n.add(e)})),n=n.add(e.element)})),n.filter((function(e){return e&&e!==t})).toArray().sort()}(n),a=t(e);if(!a)return null;R=null;var s=function(e,t){return t.some((function(t){return-1!==e.indexOf("<"+t)}))}(e,i)?i:["div"],c=G(r,a,_(),"ul",null,s,-1,n),l=c.chunk,u=c.entityMap;return 0===l.text.indexOf("\r")&&(l={text:l.text.slice(1),inlines:l.inlines.slice(1),entities:l.entities.slice(1),blocks:l.blocks}),"\r"===l.text.slice(-1)&&(l.text=l.text.slice(0,-1),l.inlines=l.inlines.slice(0,-1),l.entities=l.entities.slice(0,-1),l.blocks.pop()),0===l.blocks.length&&l.blocks.push(o({},N,{type:"unstyled",depth:0})),l.text.split("\r").length===l.blocks.length+1&&l.blocks.unshift({type:"unstyled",depth:0}),{chunk:l,entityMap:u}};e.exports=function(e){var t=Q(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,f);if(null==t)return null;var n=t.chunk,r=t.entityMap,o=function(e){if(!e||!e.text||!Array.isArray(e.blocks))return null;var t=0,n=e.blocks,r=e.inlines,o=e.entities,i=E?l:c;return e.text.split("\r").reduce((function(e,a,c){a=S(a);var u=n[c],f=t+a.length,p=r.slice(t,f),d=o.slice(t,f),h=w(p.map((function(e,t){var n={style:e,entity:null};return d[t]&&(n.entity=d[t]),s.create(n)})));t=f+1;var m=u.depth,y=u.type,v=u.parent,b=u.key||g(),E=null;if(v){var _=e.cacheRef[v],O=e.contentBlocks[_];if(O.getChildKeys().isEmpty()&&O.getText()){var k=O.getCharacterList(),C=O.getText();E=g();var A=new l({key:E,text:C,characterList:k,parent:v,nextSibling:b});e.contentBlocks.push(A),O=O.withMutations((function(e){e.set("characterList",w()).set("text","").set("children",O.children.push(A.getKey()))}))}e.contentBlocks[_]=O.set("children",O.children.push(b))}var T=new i({key:b,parent:v,type:y,depth:m,text:a,characterList:h,prevSibling:E||(0===c||n[c-1].parent!==v?null:n[c-1].key),nextSibling:c===n.length-1||n[c+1].parent!==v?null:n[c+1].key});return e.contentBlocks.push(T),e.cacheRef[T.key]=c,e}),{cacheRef:{},contentBlocks:[]}).contentBlocks}(n);return{contentBlocks:o,entityMap:r}}},function(e,t,n){"use strict";var r=n(557),o=n(543),i=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||o(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},function(e,t,n){"use strict";var r=n(549),o=n(545),i=(n(572),n(921)),a=n(554),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),i=n.getBlockBefore(r);if(i&&"atomic"===i.getType()){var a=n.getBlockMap().delete(i.getKey()),c=n.merge({blockMap:a,selectionAfter:t});if(c!==n)return o.push(e,c,"remove-range")}var l=s.tryToRemoveBlockStyle(e);return l?o.push(e,l,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),i=t.getStartKey(),a=n.getBlockForKey(i).getLength();if(t.getStartOffset()<a)return null;var s=n.getBlockAfter(i);if(!s||"atomic"!==s.getType())return null;var c=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),l=r.removeRange(n,c,"forward");return l!==n?o.push(e,l,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),c=s.getBlockForKey(a),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return t;e.preventDefault();var u=s.getBlockBefore(a);if(!u)return t;var f=u.getType();if("unordered-list-item"!==f&&"ordered-list-item"!==f)return t;var p=c.getDepth();if(!e.shiftKey&&p===n)return t;n=Math.min(u.getDepth()+1,n);var d=i(s,r,e.shiftKey?-1:1,n);return o.push(t,d,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),i=n.getStartKey(),s=n.getEndKey(),c=e.getCurrentContent(),l=n;if(i!==s&&0===n.getEndOffset()){var u=a(c.getBlockBefore(s));s=u.getKey(),l=l.merge({anchorKey:i,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:u.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==i})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var f=c.getBlockForKey(i).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(c,l,f),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),i=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,i.has(t)?i.remove(t):i.add(t));var a,s=e.getCurrentContent();return a=i.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),o.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var i=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),i=e.getCurrentContent(),a=i.getBlockForKey(o),s=i.getFirstBlock();if(a.getLength()>0&&a!==s)return null;var c=a.getType(),l=i.getBlockBefore(o);if("code-block"===c&&l&&"code-block"===l.getType()&&0!==l.getLength())return null;if("unstyled"!==c)return r.setBlockType(i,t,"unstyled")}return null}};e.exports=s},function(e,t,n){"use strict";var r=n(645),o=n(639),i=n(557),a=i.isPlatform("Mac OS X"),s=i.isPlatform("Windows"),c=a&&i.isBrowser("Firefox < 29"),l=r.hasCommandModifier,u=r.isCtrlKeyCommand;function f(e){return a&&e.altKey||u(e)}e.exports=function(e){switch(e.keyCode){case 66:return l(e)?"bold":null;case 68:return u(e)?"delete":null;case 72:return u(e)?"backspace":null;case 73:return l(e)?"italic":null;case 74:return l(e)?"code":null;case 75:return!s&&u(e)?"secondary-cut":null;case 77:case 79:return u(e)?"split-block":null;case 84:return a&&u(e)?"transpose-characters":null;case 85:return l(e)?"underline":null;case 87:return a&&u(e)?"backspace-word":null;case 89:return u(e)?s?"redo":"secondary-paste":null;case 90:return function(e){return l(e)?e.shiftKey?"redo":"undo":null}(e)||null;case o.RETURN:return"split-block";case o.DELETE:return function(e){return s&&e.shiftKey?null:f(e)?"delete-word":"delete"}(e);case o.BACKSPACE:return function(e){return l(e)&&a?"backspace-to-start-of-line":f(e)?"backspace-word":"backspace"}(e);case o.LEFT:return c&&l(e)?"move-selection-to-start-of-block":null;case o.RIGHT:return c&&l(e)?"move-selection-to-end-of-block":null;default:return null}}},function(e,t,n){"use strict";var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(584),i=n(551),a=n(567),s=n(553),c=n(563),l=n(549),u=n(545),f=n(542),p=(n(572),n(561)),d=n(863),h=c.draft_tree_data_support,m=h?s:a,y=f.List,g=f.Repeat,v={insertAtomicBlock:function(e,t,n){var a=e.getCurrentContent(),s=e.getSelection(),c=l.removeRange(a,s,"backward"),f=c.getSelectionAfter(),d=l.splitBlock(c,f),v=d.getSelectionAfter(),b=l.setBlockType(d,v,"atomic"),S=i.create({entity:t}),E={key:p(),type:"atomic",text:n,characterList:y(g(S,n.length))},w={key:p(),type:"unstyled"};h&&(E=r({},E,{nextSibling:w.key}),w=r({},w,{prevSibling:E.key}));var _=[new m(E),new m(w)],O=o.createFromArray(_),k=l.replaceWithFragment(b,v,O),C=k.merge({selectionBefore:s,selectionAfter:k.getSelectionAfter().set("hasFocus",!0)});return u.push(e,C,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var o=e.getCurrentContent(),i=e.getSelection(),a=void 0;if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());a=d(o,t,s,r)}else{var c=l.removeRange(o,n,"backward"),f=c.getSelectionAfter(),p=c.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())a=d(c,t,p,"before");else if(f.getEndOffset()===p.getLength())a=d(c,t,p,"after");else{var h=l.splitBlock(c,f),m=h.getSelectionAfter(),y=h.getBlockForKey(m.getFocusKey());a=d(h,t,y,"before")}}var g=a.merge({selectionBefore:i,selectionAfter:a.getSelectionAfter().set("hasFocus",!0)});return u.push(e,g,"move-block")}};e.exports=v},function(e,t,n){"use strict";e.exports={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1,draft_handlebeforeinput_composed_text:!1,draft_tree_data_support:!1}},function(e,t,n){"use strict";var r=n(551),o=n(542).Map,i={add:function(e,t,n){return a(e,t,n,!0)},remove:function(e,t,n){return a(e,t,n,!1)}};function a(e,t,n,i){var a=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),f=a.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===l})).concat(o([[l,a.get(l)]])).map((function(e,t){var o,a;s===l?(o=c,a=u):(o=t===s?c:0,a=t===l?u:e.getLength());for(var f,p=e.getCharacterList();o<a;)f=p.get(o),p=p.set(o,i?r.applyStyle(f,n):r.removeStyle(f,n)),o++;return e.set("characterList",p)}));return e.merge({blockMap:a.merge(f),selectionBefore:t,selectionAfter:t})}e.exports=i},function(e,t,n){"use strict";var r=n(542),o=n(852);e.exports=function(e,t,n){var i=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),u=i.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(r.OrderedMap([[c,i.get(c)]])).map((function(e,t){var r=t===a?s:0,i=t===c?l:e.getLength();return o(e,r,i,n)}));return e.merge({blockMap:i.merge(u),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(551);e.exports=function(e,t,n,o){for(var i=e.getCharacterList();t<n;)i=i.set(t,r.applyEntity(i.get(t),o)),t++;return e.set("characterList",i)}},function(e,t,n){"use strict";var r=n(854),o=n(855),i=n(543);function a(e,t,n,a,s,c,l){var u=n.getStartOffset(),f=n.getEndOffset(),p=e.__get(s).getMutability(),d=l?u:f;if("MUTABLE"===p)return n;var h=o(t,s).filter((function(e){return d<=e.end&&d>=e.start}));1!=h.length&&i(!1);var m=h[0];if("IMMUTABLE"===p)return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1});c||(l?f=m.end:u=m.start);var y=r.getRemovalRange(u,f,t.getText().slice(m.start,m.end),m.start,a);return n.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:!1})}e.exports=function(e,t,n,r,o){var i=r.getStartOffset(),s=r.getEndOffset(),c=t.getEntityAt(i),l=n.getEntityAt(s-1);if(!c&&!l)return r;var u=r;if(c&&c===l)u=a(e,t,u,o,c,!0,!0);else if(c&&l){var f=a(e,t,u,o,c,!1,!0),p=a(e,n,u,o,l,!1,!1);u=u.merge({anchorOffset:f.getAnchorOffset(),focusOffset:p.getFocusOffset(),isBackward:!1})}else if(c){var d=a(e,t,u,o,c,!1,!0);u=u.merge({anchorOffset:d.getStartOffset(),isBackward:!1})}else if(l){var h=a(e,n,u,o,l,!1,!1);u=u.merge({focusOffset:h.getEndOffset(),isBackward:!1})}return u}},function(e,t,n){"use strict";e.exports={getRemovalRange:function(e,t,n,r,o){var i=n.split(" ");i=i.map((function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e}));for(var a,s=r,c=null,l=null,u=0;u<i.length;u++){if(e<(a=s+i[u].length)&&s<t)null!==c||(c=s),l=a;else if(null!==c)break;s=a}var f=r+n.length,p=c===r,d=l===f;return(!p&&d||p&&!d)&&("forward"===o?l!==f&&l++:c!==r&&c--),{start:c,end:l}}}},function(e,t,n){"use strict";var r=n(543);e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},function(e,t,n){"use strict";var r=n(584),o=n(553),i=n(542),a=n(673),s=n(543),c=n(671),l=i.List,u=function(e,t,n,i,a,s){var c=n.first()instanceof o,u=[],f=i.size,p=n.get(a),d=i.first(),h=i.last(),m=h.getLength(),y=h.getKey(),g=c&&(!p.getChildKeys().isEmpty()||!d.getChildKeys().isEmpty());n.forEach((function(e,t){t===a?(g?u.push(e):u.push(function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.slice(0,t),a=o.slice(0,t),s=n.first();return e.merge({text:i+s.getText(),characterList:a.concat(s.getCharacterList()),type:i?e.getType():s.getType(),data:s.getData()})}(e,s,i)),i.slice(g?0:1,f-1).forEach((function(e){return u.push(e)})),u.push(function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.length,a=r.slice(t,i),s=o.slice(t,i),c=n.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(s),data:c.getData()})}(e,s,i))):u.push(e)}));var v=r.createFromArray(u);return c&&(v=function(e,t,n,r){return e.withMutations((function(t){var o=n.getKey(),i=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),c=function(e,t){var n=e.getKey(),r=e,o=[];for(t.get(n)&&o.push(n);r&&r.getNextSiblingKey();){var i=r.getNextSiblingKey();if(!i)break;o.push(i),r=t.get(i)}return o}(r,e),u=c[c.length-1];if(t.get(i)?(t.setIn([o,"nextSibling"],i),t.setIn([i,"prevSibling"],o)):(t.setIn([o,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],o)),t.setIn([u,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],u),c.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var f=e.get(s).getChildKeys(),p=f.indexOf(o)+1,d=f.toArray();d.splice.apply(d,[p,0].concat(c)),t.setIn([s,"children"],l(d))}}))}(v,0,p,d)),e.merge({blockMap:v,selectionBefore:t,selectionAfter:t.merge({anchorKey:y,anchorOffset:m,focusKey:y,focusOffset:m,isBackward:!1})})};e.exports=function(e,t,n){t.isCollapsed()||s(!1);var r=e.getBlockMap(),i=c(n),l=t.getStartKey(),f=t.getStartOffset(),p=r.get(l);return p instanceof o&&(p.getChildKeys().isEmpty()||s(!1)),1===i.size?function(e,t,n,r,o,i){var s=n.get(o),c=s.getText(),l=s.getCharacterList(),u=o,f=i+r.getText().length,p=s.merge({text:c.slice(0,i)+r.getText()+c.slice(i),characterList:a(l,r.getCharacterList(),i),data:r.getData()});return e.merge({blockMap:n.set(o,p),selectionBefore:t,selectionAfter:t.merge({anchorKey:u,anchorOffset:f,focusKey:u,focusOffset:f,isBackward:!1})})}(e,t,r,i.first(),l,f):u(e,t,r,i,l,f)}},function(e,t,n){"use strict";var r=n(542),o=n(673),i=n(543),a=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||i(!1);var s=n.length;if(!s)return e;var c=e.getBlockMap(),l=t.getStartKey(),u=t.getStartOffset(),f=c.get(l),p=f.getText(),d=f.merge({text:p.slice(0,u)+n+p.slice(u,f.getLength()),characterList:o(f.getCharacterList(),a(r,s).toList(),u)}),h=u+s;return e.merge({blockMap:c.set(l,d),selectionAfter:t.merge({anchorOffset:h,focusOffset:h})})}},function(e,t,n){"use strict";var r=n(542).Map;e.exports=function(e,t,n){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat(r([[i,a.get(i)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(553),o=n(542),i=n(674),a=(o.List,o.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var o=r.getParentKey();o&&n.push(o),r=o?t.get(o):null}return n},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},f=function(e,t,n,r){return e.withMutations((function(e){s(t.getKey(),e,(function(n){return n.merge({nextSibling:l(t,e,r),prevSibling:u(t,e,r)})})),s(n.getKey(),e,(function(t){return t.merge({nextSibling:l(n,e,r),prevSibling:u(n,e,r)})})),c(t.getKey(),r).forEach((function(t){return s(t,e,(function(t){return t.merge({children:t.getChildKeys().filter((function(t){return e.get(t)})),nextSibling:l(t,e,r),prevSibling:u(t,e,r)})}))})),s(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),e,(function(n){return n.merge({nextSibling:l(t,e,r)})})),s(n.getNextSiblingKey(),e,(function(t){return t.merge({prevSibling:u(n,e,r)})})),s(n.getPrevSiblingKey(),e,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),c(n.getKey(),r).forEach((function(t){s(t,e,(function(t){return t.merge({children:t.getChildKeys().filter((function(t){return e.get(t)})),nextSibling:l(t,e,r),prevSibling:u(t,e,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n}(n,r).forEach((function(t){return s(t,e,(function(t){return t.merge({nextSibling:l(t,e,r),prevSibling:u(t,e,r)})}))}))}))},p=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),o=t.getStartKey(),s=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),d=n.get(o),h=n.get(l),m=d instanceof r,y=[];if(m){var g=h.getChildKeys(),v=c(l,n);h.getNextSiblingKey()&&(y=y.concat(v)),g.isEmpty()||(y=y.concat(v.concat([l]))),y=y.concat(c(i(h,n),n))}var b=void 0;b=d===h?p(d.getCharacterList(),s,u):d.getCharacterList().slice(0,s).concat(h.getCharacterList().slice(u));var S=d.merge({text:d.getText().slice(0,s)+h.getText().slice(u),characterList:b}),E=n.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===l})).filter((function(e,t){return-1===y.indexOf(t)})).concat(a([[l,null]])).map((function(e,t){return t===o?S:null})),w=n.merge(E).filter((function(e){return!!e}));return m&&(w=f(w,d,h,n)),e.merge({blockMap:w,selectionBefore:t,selectionAfter:t.merge({anchorKey:o,anchorOffset:s,focusKey:o,focusOffset:s,isBackward:!1})})}},function(e,t,n){"use strict";var r=n(553),o=n(542),i=n(561),a=n(543),s=o.List,c=o.Map,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),o=t.getAnchorOffset(),u=e.getBlockMap(),f=u.get(n),p=f.getText(),d=f.getCharacterList(),h=i(),m=f instanceof r,y=f.merge({text:p.slice(0,o),characterList:d.slice(0,o)}),g=y.merge({key:h,text:p.slice(o),characterList:d.slice(o),data:c()}),v=u.toSeq().takeUntil((function(e){return e===f})),b=u.toSeq().skipUntil((function(e){return e===f})).rest(),S=v.concat([[n,y],[h,g]],b).toOrderedMap();return m&&(f.getChildKeys().isEmpty()||a(!1),S=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),o=n.getKey();l(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,i=t.toArray();return i.splice(n,0,o),e.merge({children:s(i)})})),l(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:o})})),l(r,e,(function(e){return e.merge({nextSibling:o})})),l(o,e,(function(e){return e.merge({prevSibling:r})}))}))}(S,y,g)),e.merge({blockMap:S,selectionBefore:t,selectionAfter:t.merge({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1})})}},function(e,t,n){"use strict";var r,o=n(542),i=n(862),a=n(554),s=o.OrderedMap,c={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),c=n.valueSeq().map((function(e){return a(r).getDirection(e.getText())})),l=s(n.keySeq().zip(c));return null!=t&&o.is(t,l)?t:l}};e.exports=c},function(e,t,n){"use strict";var r=n(677),o=n(637),i=n(543),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?o.isStrong(t)||i(!1):t=o.getGlobalDir(),this._defaultDir=t,this.reset()}return e.prototype.reset=function(){this._lastDir=this._defaultDir},e.prototype.getDirection=function(e){return this._lastDir=r.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=a},function(e,t,n){"use strict";var r=n(553),o=n(542),i=n(674),a=n(543),s=o.OrderedMap,c=o.List,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},u=function(e,t,n,r,o){if(!o)return e;var i="after"===r,a=t.getKey(),s=n.getKey(),u=t.getParentKey(),f=t.getNextSiblingKey(),p=t.getPrevSiblingKey(),d=n.getParentKey(),h=i?n.getNextSiblingKey():s,m=i?s:n.getPrevSiblingKey();return e.withMutations((function(e){l(u,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),l(p,e,(function(e){return e.merge({nextSibling:f})})),l(f,e,(function(e){return e.merge({prevSibling:p})})),l(h,e,(function(e){return e.merge({prevSibling:a})})),l(m,e,(function(e){return e.merge({nextSibling:a})})),l(d,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=i?n+1:0!==n?n-1:0,o=t.toArray();return o.splice(r,0,a),e.merge({children:c(o)})})),l(a,e,(function(e){return e.merge({nextSibling:h,prevSibling:m,parent:d})}))}))};e.exports=function(e,t,n,o){"replace"===o&&a(!1);var c=n.getKey(),l=t.getKey();l===c&&a(!1);var f=e.getBlockMap(),p=t instanceof r,d=[t],h=f.delete(l);p&&(d=[],h=f.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===l})).takeWhile((function(e){var t=e.getKey(),o=t===l,i=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(o||i||a)})).forEach((function(t){d.push(t),e.delete(t.getKey())}))})));var m=h.toSeq().takeUntil((function(e){return e===n})),y=h.toSeq().skipUntil((function(e){return e===n})).skip(1),g=d.map((function(e){return[e.getKey(),e]})),v=s();if("before"===o){var b=e.getBlockBefore(c);b&&b.getKey()===t.getKey()&&a(!1),v=m.concat([].concat(g,[[c,n]]),y).toOrderedMap()}else if("after"===o){var S=e.getBlockAfter(c);S&&S.getKey()===l&&a(!1),v=m.concat([[c,n]].concat(g),y).toOrderedMap()}return e.merge({blockMap:u(v,t,n,o,p),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}},function(e,t,n){"use strict";var r=n(542).List,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._decorators=t.slice()}return e.prototype.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,o){var i=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(!function(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}(n,e,t,o+"."+i),i++)}),t)})),r(n)},e.prototype.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},e.prototype.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=o},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(638),i=n(678),a=n(866),s=n(867),c=n(889),l=n(892),u=n(925),f=n(545),p=n(1),d=n(17),h=n(682),m=n(642),y=n(557),g=n(573),v=n(634),b=n(561),S=n(695),E=n(643),w=n(543),_=n(554),O=y.isBrowser("IE"),k=!O,C={edit:l,composite:a,drag:c,cut:null,render:null},A=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return r.focus=function(e){var t=r.props.editorState,n=t.getSelection().getHasFocus(),o=d.findDOMNode(r.editor);if(o){var i=m.getScrollParent(o),a=e||E(i),s=a.x,c=a.y;o instanceof HTMLElement||w(!1),o.focus(),i===window?window.scrollTo(s,c):h.setTop(i,c),n||r.update(f.forceSelection(t,t.getSelection()))}},r.blur=function(){var e=d.findDOMNode(r.editor);e instanceof HTMLElement||w(!1),e.blur()},r.setMode=function(e){r._handler=C[e]},r.exitCurrentMode=function(){r.setMode("edit")},r.restoreEditorDOM=function(e){r.setState({contentsKey:r.state.contentsKey+1},(function(){r.focus(e)}))},r.setClipboard=function(e){r._clipboard=e},r.getClipboard=function(){return r._clipboard},r.update=function(e){r._latestEditorState=e,r.props.onChange(e)},r.onDragEnter=function(){r._dragCount++},r.onDragLeave=function(){r._dragCount--,0===r._dragCount&&r.exitCurrentMode()},r._blockSelectEvents=!1,r._clipboard=null,r._handler=null,r._dragCount=0,r._editorKey=n.editorKey||b(),r._placeholderAccessibilityID="placeholder-"+r._editorKey,r._latestEditorState=n.editorState,r._latestCommittedEditorState=n.editorState,r._onBeforeInput=r._buildHandler("onBeforeInput"),r._onBlur=r._buildHandler("onBlur"),r._onCharacterData=r._buildHandler("onCharacterData"),r._onCompositionEnd=r._buildHandler("onCompositionEnd"),r._onCompositionStart=r._buildHandler("onCompositionStart"),r._onCopy=r._buildHandler("onCopy"),r._onCut=r._buildHandler("onCut"),r._onDragEnd=r._buildHandler("onDragEnd"),r._onDragOver=r._buildHandler("onDragOver"),r._onDragStart=r._buildHandler("onDragStart"),r._onDrop=r._buildHandler("onDrop"),r._onInput=r._buildHandler("onInput"),r._onFocus=r._buildHandler("onFocus"),r._onKeyDown=r._buildHandler("onKeyDown"),r._onKeyPress=r._buildHandler("onKeyPress"),r._onKeyUp=r._buildHandler("onKeyUp"),r._onMouseDown=r._buildHandler("onMouseDown"),r._onMouseUp=r._buildHandler("onMouseUp"),r._onPaste=r._buildHandler("onPaste"),r._onSelect=r._buildHandler("onSelect"),r.getEditorKey=function(){return r._editorKey},r.state={contentsKey:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&r(t,n)}}},t.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},t.prototype._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:_(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return p.createElement(u,e)}return null},t.prototype.render=function(){var e=this,t=this.props,n=t.blockRenderMap,o=t.blockRendererFn,a=t.blockStyleFn,c=t.customStyleFn,l=t.customStyleMap,u=t.editorState,f=t.readOnly,d=t.textAlignment,h=t.textDirectionality,m=g({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===d,"DraftEditor/alignRight":"right"===d,"DraftEditor/alignCenter":"center"===d}),y=this.props.role||"textbox",v="combobox"===y?!!this.props.ariaExpanded:null,b={blockRenderMap:n,blockRendererFn:o,blockStyleFn:a,customStyleMap:r({},i,l),customStyleFn:c,editorKey:this._editorKey,editorState:u,key:"contents"+this.state.contentsKey,textDirectionality:h};return p.createElement("div",{className:m},this._renderPlaceholder(),p.createElement("div",{className:g("DraftEditor/editorContainer"),ref:function(t){return e.editorContainer=t}},p.createElement("div",{"aria-activedescendant":f?null:this.props.ariaActiveDescendantID,"aria-autocomplete":f?null:this.props.ariaAutoComplete,"aria-controls":f?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":f?null:v,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:g({notranslate:!f,"public/DraftEditor/content":!0}),contentEditable:!f,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(t){return e.editor=t},role:f?null:y,spellCheck:k&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},p.createElement(s,b))))},t.prototype.componentDidMount=function(){this.setMode("edit"),O&&document.execCommand("AutoUrlDetect",!1,!1)},t.prototype.componentWillUpdate=function(e){this._blockSelectEvents=!0,this._latestEditorState=e.editorState},t.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestCommittedEditorState=this.props.editorState},t}(p.Component);A.defaultProps={blockRenderMap:o,blockRendererFn:v.thatReturnsNull,blockStyleFn:v.thatReturns(""),keyBindingFn:S,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},e.exports=A},function(e,t,n){"use strict";var r=n(563),o=n(549),i=n(545),a=n(639),s=n(640),c=n(586),l=n(679),u=!1,f=!1,p="",d={onBeforeInput:function(e,t){p=(p||"")+t.data},onCompositionStart:function(e){f=!0},onCompositionEnd:function(e){u=!1,f=!1,setTimeout((function(){u||d.resolveComposition(e)}),20)},onKeyDown:function(e,t){if(!f)return d.resolveComposition(e),void e._onKeyDown(t);t.which!==a.RIGHT&&t.which!==a.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===a.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!f){u=!0;var t=p;p="";var n=i.set(e._latestEditorState,{inCompositionMode:!1}),a=n.getCurrentInlineStyle(),d=s(n.getCurrentContent(),n.getSelection()),h=!t||l(n)||a.size>0||null!==d;if(h&&e.restoreEditorDOM(),e.exitCurrentMode(),t){if(r.draft_handlebeforeinput_composed_text&&e.props.handleBeforeInput&&c(e.props.handleBeforeInput(t,n)))return;var m=o.replaceText(n.getCurrentContent(),n.getSelection(),t,a,d);e.update(i.push(n,m,"insert-characters"))}else h&&e.update(i.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}};e.exports=d},function(e,t,n){"use strict";var r=n(868);e.exports=r},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(680),i=n(600),a=(n(545),n(1)),s=n(573),c=n(888),l=n(554),u=function(e,t,n,r){return s({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||o&&i)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return o!==i||a!==s||c!==l||n.mustForceSelection()},t.prototype.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,s=e.blockStyleFn,f=e.customStyleMap,p=e.customStyleFn,d=e.editorState,h=e.editorKey,m=e.textDirectionality,y=d.getCurrentContent(),g=d.getSelection(),v=d.mustForceSelection(),b=d.getDecorator(),S=l(d.getDirectionMap()),E=y.getBlocksAsArray(),w=[],_=null,O=null,k=0;k<E.length;k++){var C=E[k],A=C.getKey(),T=C.getType(),M=n(C),x=void 0,D=void 0,I=void 0;M&&(x=M.component,D=M.props,I=M.editable);var F=m||S.get(A),P=i.encode(A,0,0),j={contentState:y,block:C,blockProps:D,blockStyleFn:s,customStyleMap:f,customStyleFn:p,decorator:b,direction:F,forceSelection:v,key:A,offsetKey:P,selection:g,tree:d.getBlockTree(A)},R=t.get(T)||t.get("unstyled"),N=R.wrapper,L=R.element||t.get("unstyled").element,U=C.getDepth(),K="";if(s&&(K=s(C)),"li"===L)K=c(K,u(T,U,O!==N||null===_||U>_,F));var B=x||o,z={className:K,"data-block":!0,"data-editor":h,"data-offset-key":P,key:A};void 0!==I&&(z=r({},z,{contentEditable:I,suppressContentEditableWarning:!0}));var H=a.createElement(L,z,a.createElement(B,j));w.push({block:H,wrapperTemplate:N,key:A,offsetKey:P}),_=N?C.getDepth():null,O=N}for(var V=[],q=0;q<w.length;){var W=w[q];if(W.wrapperTemplate){var G=[];do{G.push(w[q].block),q++}while(q<w.length&&w[q].wrapperTemplate===W.wrapperTemplate);var Q=a.cloneElement(W.wrapperTemplate,{key:W.key+"-wrap","data-offset-key":W.offsetKey},G);V.push(Q)}else V.push(W.block),q++}return a.createElement("div",{"data-contents":"true"},V)},t}(a.Component);e.exports=f},function(e,t,n){"use strict";var r=n(111);var o=n(870),i=n(1),a=n(17),s=n(543),c=n(876),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,o=t.text,i=n.getKey(),l=r+o.length;if(e.hasEdgeWithin(i,r,l)){var u=a.findDOMNode(this);u||s(!1);var f=u.firstChild;f||s(!1);var p=void 0;f.nodeType===Node.TEXT_NODE?p=f:"BR"===f.tagName?p=u:(p=f.firstChild)||s(!1),c(e,p,i,r,l)}}},t.prototype.shouldComponentUpdate=function(e){var t=a.findDOMNode(this.leaf);return t||s(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},t.prototype.componentDidUpdate=function(){this._setSelection()},t.prototype.componentDidMount=function(){this._setSelection()},t.prototype.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var a=this.props,s=a.customStyleMap,c=a.customStyleFn,l=a.offsetKey,u=a.styleSet,f=u.reduce((function(e,t){var n={},o=s[t];return void 0!==o&&e.textDecoration!==o.textDecoration&&(n.textDecoration=[e.textDecoration,o.textDecoration].join(" ").trim()),r(e,o,n)}),{});if(c){var p=c(u,t);f=r(f,p)}return i.createElement("span",{"data-offset-key":l,ref:function(t){return e.leaf=t},style:f},i.createElement(o,null,n))},t}(i.Component);e.exports=l},function(e,t,n){"use strict";var r=n(1),o=n(17),i=n(557),a=n(543),s=i.isBrowser("IE <= 11");var c=s?r.createElement("span",{key:"A","data-text":"true"},"\n"):r.createElement("br",{key:"A","data-text":"true"}),l=s?r.createElement("span",{key:"B","data-text":"true"},"\n"):r.createElement("br",{key:"B","data-text":"true"}),u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return r._forceFlag=!1,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=o.findDOMNode(this),n=""===e.children;return t instanceof Element||a(!1),n?!function(e){return s?"\n"===e.textContent:"BR"===e.tagName}(t):t.textContent!==e.children},t.prototype.componentDidMount=function(){this._forceFlag=!this._forceFlag},t.prototype.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},t.prototype.render=function(){return""===this.props.children?this._forceFlag?c:l:r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},t}(r.Component);e.exports=u},function(e,t,n){"use strict";var r=n(872),o="Unknown",i={"Mac OS":"Mac OS X"};var a,s=(new r).getResult(),c=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(s.browser.version),l={browserArchitecture:s.cpu.architecture||o,browserFullVersion:s.browser.version||o,browserMinorVersion:c.minor||o,browserName:s.browser.name||o,browserVersion:s.browser.major||o,deviceName:s.device.model||o,engineName:s.engine.name||o,engineVersion:s.engine.version||o,platformArchitecture:s.cpu.architecture||o,platformName:(a=s.os.name,i[a]||a||o),platformVersion:s.os.version||o,platformFullVersion:s.os.version||o};e.exports=l},function(e,t,n){var r;!function(o,i){"use strict";var a="function",s="undefined",c="object",l="string",u="major",f="model",p="name",d="type",h="vendor",m="version",y="architecture",g="console",v="mobile",b="tablet",S="smarttv",E="wearable",w="embedded",_="Amazon",O="Apple",k="ASUS",C="BlackBerry",A="Browser",T="Chrome",M="Firefox",x="Google",D="Huawei",I="LG",F="Microsoft",P="Motorola",j="Opera",R="Samsung",N="Sharp",L="Sony",U="Xiaomi",K="Zebra",B="Facebook",z="Chromium OS",H="Mac OS",V=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},q=function(e,t){return typeof e===l&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},Q=function(e,t){for(var n,r,o,s,l,u,f=0;f<t.length&&!l;){var p=t[f],d=t[f+1];for(n=r=0;n<p.length&&!l&&p[n];)if(l=p[n++].exec(e))for(o=0;o<d.length;o++)u=l[++r],typeof(s=d[o])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):i:this[s[0]]=u?s[1].call(this,u,s[2]):i:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):i):this[s]=u||i;f+=2}},X=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(q(t[n][r],e))return"?"===n?i:n}else if(q(t[n],e))return"?"===n?i:n;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,m],[/opios[\/ ]+([\w\.]+)/i],[m,[p,j+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[p,j+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[p,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,m],[/\bddg\/([\w\.]+)/i],[m,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[p,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[p,"Smart Lenovo "+A]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+A],m],[/\bfocus\/([\w\.]+)/i],[m,[p,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[p,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[p,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[p,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[m,[p,M]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+A]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+A],m],[/samsungbrowser\/([\w\.]+)/i],[m,[p,R+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,B],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[p,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,T+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[p,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[m,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[p,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,m],[/(cobalt)\/([\w\.]+)/i],[p,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,W]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[h,R],[d,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[h,R],[d,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[h,O],[d,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[h,O],[d,b]],[/(macintosh);/i],[f,[h,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[h,N],[d,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[h,D],[d,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[h,D],[d,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[h,U],[d,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[h,U],[d,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[h,"OPPO"],[d,v]],[/\b(opd2\d{3}a?) bui/i],[f,[h,"OPPO"],[d,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[h,"Vivo"],[d,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[h,"Realme"],[d,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[h,P],[d,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[h,P],[d,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[h,I],[d,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[h,I],[d,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[h,"Lenovo"],[d,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[h,"Nokia"],[d,v]],[/(pixel c)\b/i],[f,[h,x],[d,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[h,x],[d,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[h,L],[d,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[h,L],[d,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[h,"OnePlus"],[d,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[h,_],[d,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[h,_],[d,v]],[/(playbook);[-\w\),; ]+(rim)/i],[f,h,[d,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[h,C],[d,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[h,k],[d,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[h,k],[d,v]],[/(nexus 9)/i],[f,[h,"HTC"],[d,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[f,/_/g," "],[d,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[h,"Acer"],[d,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[h,"Meizu"],[d,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[h,"Ulefone"],[d,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,f,[d,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,f,[d,b]],[/(surface duo)/i],[f,[h,F],[d,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[h,"Fairphone"],[d,v]],[/(u304aa)/i],[f,[h,"AT&T"],[d,v]],[/\bsie-(\w*)/i],[f,[h,"Siemens"],[d,v]],[/\b(rct\w+) b/i],[f,[h,"RCA"],[d,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[h,"Dell"],[d,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[h,"Verizon"],[d,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[h,"Barnes & Noble"],[d,b]],[/\b(tm\d{3}\w+) b/i],[f,[h,"NuVision"],[d,b]],[/\b(k88) b/i],[f,[h,"ZTE"],[d,b]],[/\b(nx\d{3}j) b/i],[f,[h,"ZTE"],[d,v]],[/\b(gen\d{3}) b.+49h/i],[f,[h,"Swiss"],[d,v]],[/\b(zur\d{3}) b/i],[f,[h,"Swiss"],[d,b]],[/\b((zeki)?tb.*\b) b/i],[f,[h,"Zeki"],[d,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],f,[d,b]],[/\b(ns-?\w{0,9}) b/i],[f,[h,"Insignia"],[d,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[h,"NextBook"],[d,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],f,[d,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],f,[d,v]],[/\b(ph-1) /i],[f,[h,"Essential"],[d,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[h,"Envizen"],[d,b]],[/\b(trio[-\w\. ]+) b/i],[f,[h,"MachSpeed"],[d,b]],[/\btu_(1491) b/i],[f,[h,"Rotor"],[d,b]],[/(shield[\w ]+) b/i],[f,[h,"Nvidia"],[d,b]],[/(sprint) (\w+)/i],[h,f,[d,v]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[h,F],[d,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[h,K],[d,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[h,K],[d,v]],[/smart-tv.+(samsung)/i],[h,[d,S]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[h,R],[d,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,I],[d,S]],[/(apple) ?tv/i],[h,[f,O+" TV"],[d,S]],[/crkey/i],[[f,T+"cast"],[h,x],[d,S]],[/droid.+aft(\w+)( bui|\))/i],[f,[h,_],[d,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[h,N],[d,S]],[/(bravia[\w ]+)( bui|\))/i],[f,[h,L],[d,S]],[/(mitv-\w{5}) bui/i],[f,[h,U],[d,S]],[/Hbbtv.*(technisat) (.*);/i],[h,f,[d,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,G],[f,G],[d,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,f,[d,g]],[/droid.+; (shield) bui/i],[f,[h,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[f,[h,L],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[h,F],[d,g]],[/((pebble))app/i],[h,f,[d,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[h,O],[d,E]],[/droid.+; (glass) \d/i],[f,[h,x],[d,E]],[/droid.+; (wt63?0{2,3})\)/i],[f,[h,K],[d,E]],[/(quest( \d| pro)?)/i],[f,[h,B],[d,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,w]],[/(aeobc)\b/i],[f,[h,_],[d,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[d,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[d,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,v]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[m,X,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,X,J],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,H],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,m],[/\(bb(10);/i],[m,[p,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[p,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[p,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,z],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,m],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,m]]},Z=function e(t,n){if(typeof t===c&&(n=t,t=i),!(this instanceof e))return new e(t,n).getResult();var r=typeof o!==s&&o.navigator?o.navigator:i,g=t||(r&&r.userAgent?r.userAgent:""),S=r&&r.userAgentData?r.userAgentData:i,E=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Y,n):Y,w=r&&r.userAgent==g;return this.getBrowser=function(){var e,t={};return t[p]=i,t[m]=i,Q.call(t,g,E.browser),t[u]=typeof(e=t[m])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:i,w&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[y]=i,Q.call(e,g,E.cpu),e},this.getDevice=function(){var e={};return e[h]=i,e[f]=i,e[d]=i,Q.call(e,g,E.device),w&&!e[d]&&S&&S.mobile&&(e[d]=v),w&&"Macintosh"==e[f]&&r&&typeof r.standalone!==s&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[d]=b),e},this.getEngine=function(){var e={};return e[p]=i,e[m]=i,Q.call(e,g,E.engine),e},this.getOS=function(){var e={};return e[p]=i,e[m]=i,Q.call(e,g,E.os),w&&!e[p]&&S&&S.platform&&"Unknown"!=S.platform&&(e[p]=S.platform.replace(/chrome os/i,z).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return g},this.setUA=function(e){return g=typeof e===l&&e.length>500?G(e,500):e,this},this.setUA(g),this};Z.VERSION="0.7.38",Z.BROWSER=V([p,m,u]),Z.CPU=V([y]),Z.DEVICE=V([f,h,d,g,v,S,b,E,w]),Z.ENGINE=Z.OS=V([p,m]),typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=Z),t.UAParser=Z):n(307)?(r=function(){return Z}.call(t,n,t,e))===i||(e.exports=r):typeof o!==s&&(o.UAParser=Z);var $=typeof o!==s&&(o.jQuery||o.Zepto);if($&&!$.ua){var ee=new Z;$.ua=ee.getResult(),$.ua.get=function(){return ee.getUA()},$.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)$.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){"use strict";var r=n(543),o=/\./,i=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function l(e,t){var n=e.split(i);return n.length>1?n.some((function(e){return S.contains(e,t)})):function(e,t){var n=e.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return u(n[0],t);var o=n[0],i=n[1];return m(o)&&m(i)||r(!1),u(">="+o,t)&&u("<="+i,t)}(e=n[0].trim(),t)}function u(e,t){if(""===(e=e.trim()))return!0;var n=t.split(o),r=d(e),i=r.modifier,a=r.rangeComponents;switch(i){case"<":return f(n,a);case"<=":return function(e,t){var n=b(e,t);return-1===n||0===n}(n,a);case">=":return p(n,a);case">":return 1===b(n,a);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var o=r.length-1,i=parseInt(r[o],10);h(i)&&(r[o]=i+1+"");return p(e,n)&&f(e,r)}(n,a);default:return function(e,t){return 0===b(e,t)}(n,a)}}function f(e,t){return-1===b(e,t)}function p(e,t){var n=b(e,t);return 1===n||0===n}function d(e){var t=e.split(o),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function h(e){return!isNaN(e)&&isFinite(e)}function m(e){return!d(e).modifier}function y(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function g(e,t){var n=e.match(c)[1],r=t.match(c)[1],o=parseInt(n,10),i=parseInt(r,10);return h(o)&&h(i)&&o!==i?v(o,i):v(e,t)}function v(e,t){return typeof e!==typeof t&&r(!1),e>t?1:e<t?-1:0}function b(e,t){for(var n=function(e,t){y(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var o=n;o<e.length;o++)e[o]="0"}return y(t,e.length),[e,t]}(e,t),r=n[0],o=n[1],i=0;i<o.length;i++){var a=g(r[i],o[i]);if(a)return a}return 0}var S={contains:function(e,t){return l(e.trim(),t.trim())}};e.exports=S},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var o={};for(var i in e)r.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";(function(t){var r=n(877),o=n(641),i=n(681),a=n(543);function s(e,t){if(!e)return"[empty]";var n=c(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||a(!1),n.outerHTML)}function c(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return document.createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var o=e.cloneNode();1===o.nodeType&&n.length&&o.setAttribute("data-labels",n.join(", "));for(var i=e.childNodes,a=0;a<i.length;a++)o.appendChild(c(i[a],t));return o}function l(e,t){for(var n=e;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return s(n,t);n=n.parentNode}return"Could not find contentEditable parent of node"}function u(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function f(e,t,n,a){var s=i();if(e.extend&&o(s,t)){n>u(t)&&r.logSelectionStateFailure({anonymizedDom:l(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(a.toJS())});var c=t===e.focusNode;try{e.extend(t,n)}catch(p){throw r.logSelectionStateFailure({anonymizedDom:l(t,(function(t){var n=[];return t===s&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:s?s.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:p?""+p:null,offset:n},null,2),selectionState:JSON.stringify(a.toJS(),null,2)}),p}}else{var f=e.getRangeAt(0);f.setEnd(t,n),e.addRange(f.cloneRange())}}function p(e,t,n,o){var i=document.createRange();n>u(t)&&r.logSelectionStateFailure({anonymizedDom:l(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),i.setStart(t,n),e.addRange(i)}e.exports=function(e,n,r,i,a){if(o(document.documentElement,n)){var s=t.getSelection(),c=e.getAnchorKey(),l=e.getAnchorOffset(),u=e.getFocusKey(),d=e.getFocusOffset(),h=e.getIsBackward();if(!s.extend&&h){var m=c,y=l;c=u,l=d,u=m,d=y,h=!1}var g=c===r&&i<=l&&a>=l,v=u===r&&i<=d&&a>=d;if(g&&v)return s.removeAllRanges(),p(s,n,l-i,e),void f(s,n,d-i,e);if(h){if(v&&(s.removeAllRanges(),p(s,n,d-i,e)),g){var b=s.focusNode,S=s.focusOffset;s.removeAllRanges(),p(s,n,l-i,e),f(s,b,S,e)}}else g&&(s.removeAllRanges(),p(s,n,l-i,e)),v&&f(s,n,d-i,e)}}}).call(this,n(70))},function(e,t,n){"use strict";e.exports={logSelectionStateFailure:function(){return null}}},function(e,t,n){"use strict";var r=n(879);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(881),o=n(882);function i(e){return null==e?e:String(e)}e.exports=function(e,t){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return i(n.getPropertyValue(o(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return i(n.getPropertyValue(o(t)));if("display"===t)return"none"}return e.currentStyle?i("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):i(e.style&&e.style[r(t)])}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(884);e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},function(e,t,n){"use strict";var r=n(641);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},function(e,t,n){"use strict";var r="undefined"!==typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";function r(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function o(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function i(){return{width:window.innerWidth||r(),height:window.innerHeight||o()}}i.withoutScrollbars=function(){return{width:r(),height:o()}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){e||(e="");var t=void 0,n=arguments.length;if(n>1)for(var r=1;r<n;r++)(t=arguments[r])&&(e=(e?e+" ":"")+t);return e}},function(e,t,n){"use strict";var r=n(683),o=n(549),i=n(545),a=n(644),s=n(685),c=n(686),l=n(586),u=n(554);var f={onDragEnd:function(e){e.exitCurrentMode()},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),f=e._latestEditorState,d=function(e,t){var n=null,r=null;if("function"===typeof document.caretRangeFromPoint){var o=document.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=u(n),r=u(r);var i=u(a(n));return c(t,i,r,i,r)}(t.nativeEvent,f);if(t.preventDefault(),e.exitCurrentMode(),null!=d){var h=n.getFiles();if(h.length>0){if(e.props.handleDroppedFiles&&l(e.props.handleDroppedFiles(d,h)))return;s(h,(function(t){t&&e.update(p(f,d,t))}))}else{var m=e._internalDrag?"internal":"external";e.props.handleDrop&&l(e.props.handleDrop(d,n,m))||(e._internalDrag?e.update(function(e,t){var n=o.moveText(e.getCurrentContent(),e.getSelection(),t);return i.push(e,n,"insert-fragment")}(f,d)):e.update(p(f,d,n.getText())))}}}};function p(e,t,n){var r=o.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return i.push(e,r,"insert-fragment")}e.exports=f},function(e,t,n){"use strict";var r={isImage:function(e){return"image"===o(e)[0]},isJpeg:function(e){var t=o(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function o(e){return e.split("/")}e.exports=r},function(e,t,n){"use strict";var r=n(543);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&r(!1),"number"!==typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"===typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(i){}for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}(e):[e]}},function(e,t,n){"use strict";var r={onBeforeInput:n(893),onBlur:n(896),onCompositionStart:n(897),onCopy:n(898),onCut:n(899),onDragOver:n(900),onDragStart:n(901),onFocus:n(902),onInput:n(903),onKeyDown:n(904),onPaste:n(918),onSelect:n(923)};e.exports=r},function(e,t,n){"use strict";(function(t){var r=n(675),o=n(549),i=n(545),a=n(557),s=n(640),c=n(586),l=n(679),u=n(554),f=n(894),p="'",d="/",h=a.isBrowser("Firefox");function m(e,t,n,r){var a=o.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return i.push(e,a,"insert-characters")}e.exports=function(e,n){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var o=e._latestEditorState,a=n.data;if(a)if(e.props.handleBeforeInput&&c(e.props.handleBeforeInput(a,o)))n.preventDefault();else{var y=o.getSelection(),g=y.getStartOffset(),v=y.getEndOffset(),b=y.getAnchorKey();if(!y.isCollapsed())return n.preventDefault(),void(a===o.getCurrentContent().getPlainText().slice(g,v)?e.update(i.forceSelection(o,y.merge({focusOffset:v}))):e.update(m(o,a,o.getCurrentInlineStyle(),s(o.getCurrentContent(),o.getSelection()))));var S,E=m(o,a,o.getCurrentInlineStyle(),s(o.getCurrentContent(),o.getSelection())),w=!1;if(w||(w=l(e._latestCommittedEditorState)),!w){var _=t.getSelection();if(_.anchorNode&&_.anchorNode.nodeType===Node.TEXT_NODE){var O=_.anchorNode.parentNode;w="SPAN"===O.nodeName&&O.firstChild.nodeType===Node.TEXT_NODE&&-1!==O.firstChild.nodeValue.indexOf("\t")}}if(!w)w=r.getFingerprint(o.getBlockTree(b))!==r.getFingerprint(E.getBlockTree(b));if(w||(S=a,w=h&&(S==p||S==d)),w||(w=u(E.getDirectionMap()).get(b)!==u(o.getDirectionMap()).get(b)),w)return n.preventDefault(),void e.update(E);E=i.set(E,{nativelyRenderedContent:E.getCurrentContent()}),e._pendingStateFromBeforeInput=E,f((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}}).call(this,n(70))},function(e,t,n){"use strict";(function(t){n(895),e.exports=t.setImmediate}).call(this,n(70))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){u(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(u,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},c.clearImmediate=l}function l(e){delete i[e]}function u(e){if(a)setTimeout(u,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{l(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(70),n(170))},function(e,t,n){"use strict";(function(t){var r=n(545),o=n(641),i=n(681);e.exports=function(e,n){if(i()===document.body){var a=t.getSelection(),s=e.editor;1===a.rangeCount&&o(s,a.anchorNode)&&o(s,a.focusNode)&&a.removeAllRanges()}var c=e._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var u=l.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(n),e.update(r.acceptSelection(c,u))}}}).call(this,n(70))},function(e,t,n){"use strict";var r=n(545);e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},function(e,t,n){"use strict";var r=n(687);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},function(e,t,n){"use strict";var r=n(549),o=n(545),i=n(642),a=n(687),s=n(643);e.exports=function(e,t){var n=e._latestEditorState,c=n.getSelection(),l=t.target,u=void 0;if(c.isCollapsed())t.preventDefault();else{l instanceof Node&&(u=s(i.getScrollParent(l)));var f=a(n);e.setClipboard(f),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(u),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return o.push(e,t,"remove-range")}(n))}),0)}}},function(e,t,n){"use strict";e.exports=function(e,t){e._internalDrag=!1,e.setMode("drag"),t.preventDefault()}},function(e,t,n){"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},function(e,t,n){"use strict";var r=n(545),o=n(557);e.exports=function(e,t){var n=e._latestEditorState,i=n.getSelection();if(!i.getHasFocus()){var a=i.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),o.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,a)):e.update(r.acceptSelection(n,a))}}},function(e,t,n){"use strict";(function(t){var r=n(563),o=n(549),i=n(600),a=n(545),s=n(557),c=n(644),l=n(554),u=s.isEngine("Gecko");e.exports=function(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=t.getSelection(),s=n.anchorNode,f=n.isCollapsed,p=s.nodeType!==Node.TEXT_NODE,d=s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.ELEMENT_NODE;if(r.draft_killswitch_allow_nontextnodes){if(p)return}else if(d)return;if(s.nodeType===Node.TEXT_NODE&&(null!==s.previousSibling||null!==s.nextSibling)){var h=s.parentNode;s.nodeValue=h.textContent;for(var m=h.firstChild;null!==m;m=m.nextSibling)m!==s&&h.removeChild(m)}var y=s.textContent,g=e._latestEditorState,v=l(c(s)),b=i.decode(v),S=b.blockKey,E=b.decoratorKey,w=b.leafKey,_=g.getBlockTree(S).getIn([E,"leaves",w]),O=_.start,k=_.end,C=g.getCurrentContent(),A=C.getBlockForKey(S),T=A.getText().slice(O,k);if(y.endsWith("\n\n")&&(y=y.slice(0,-1)),y!==T){var M,x,D,I,F=g.getSelection(),P=F.merge({anchorOffset:O,focusOffset:k,isBackward:!1}),j=A.getEntityAt(O),R=j&&C.getEntity(j),N="MUTABLE"===(R&&R.getMutability()),L=N?"spellcheck-change":"apply-entity",U=o.replaceText(C,P,y,A.getInlineStyleAt(O),N?A.getEntityAt(O):null);if(u)M=n.anchorOffset,x=n.focusOffset,I=(D=O+Math.min(M,x))+Math.abs(M-x),M=D,x=I;else{var K=y.length-T.length;D=F.getStartOffset(),I=F.getEndOffset(),M=f?I+K:D,x=I+K}var B=U.merge({selectionBefore:C.getSelectionAfter(),selectionAfter:F.merge({anchorOffset:M,focusOffset:x})});e.update(a.push(g,B,L))}}}).call(this,n(70))},function(e,t,n){"use strict";var r=n(549),o=n(545),i=n(645),a=n(639),s=n(905),c=n(557),l=n(586),u=n(906),f=n(908),p=n(910),d=n(911),h=n(912),m=n(913),y=n(914),g=n(915),v=n(916),b=n(917),S=i.isOptionKeyCommand,E=c.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,i=e._latestEditorState;switch(n){case a.RETURN:if(t.preventDefault(),e.props.handleReturn&&l(e.props.handleReturn(t,i)))return;break;case a.ESC:return t.preventDefault(),void(e.props.onEscape&&e.props.onEscape(t));case a.TAB:return void(e.props.onTab&&e.props.onTab(t));case a.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(t));case a.RIGHT:return void(e.props.onRightArrow&&e.props.onRightArrow(t));case a.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(t));case a.LEFT:return void(e.props.onLeftArrow&&e.props.onLeftArrow(t));case a.SPACE:if(E&&S(t)){t.preventDefault();var c=r.replaceText(i.getCurrentContent(),i.getSelection(),"\xa0");return void e.update(o.push(i,c,"insert-characters"))}}var w=e.props.keyBindingFn(t);if(w)if("undo"!==w){if(t.preventDefault(),!e.props.handleKeyCommand||!l(e.props.handleKeyCommand(w,i))){var _=function(e,t){switch(e){case"redo":return o.redo(t);case"delete":return g(t);case"delete-word":return p(t);case"backspace":return y(t);case"backspace-word":return f(t);case"backspace-to-start-of-line":return u(t);case"split-block":return d(t);case"transpose-characters":return v(t);case"move-selection-to-start-of-block":return m(t);case"move-selection-to-end-of-block":return h(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(w,i);_!==i&&e.update(_)}}else b(t,i,e.update)}},function(e,t,n){"use strict";var r=n(549),o=n(545),i=n(598),a=n(554),s=null,c={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var l=n.getAnchorKey(),u=t.getBlockForKey(l).getLength();if(u===n.getAnchorOffset())return e;c=n.set("focusOffset",u)}else c=n;c=a(c),s=i(t,c);var f=r.removeRange(t,c,"forward");return f===t?e:o.push(e,f,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return o.push(e,t,"insert-fragment")}};e.exports=c},function(e,t,n){"use strict";(function(t){var r=n(545),o=n(907),i=n(689),a=n(646),s=n(587);e.exports=function(e){var n=s(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(e,1);var r=t.getSelection().getRangeAt(0);return r=o(r),i(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}}).call(this,n(70))},function(e,t,n){"use strict";var r=n(568),o=n(688),i=n(543);function a(e,t){for(var n=1/0,r=1/0,o=-1/0,i=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),o=Math.max(o,s.top),i=Math.max(i,s.bottom))}return o<=r&&o-n<t&&i-r<t}function s(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||i(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=document.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var r=document.body;r||i(!1),r.appendChild(n);var o=n.getBoundingClientRect();return r.removeChild(n),o.height}(t),c=e.endContainer,l=e.endOffset;for(e.setStart(e.startContainer,0);a(o(e),n)&&(c=e.startContainer,l=e.startOffset,c.parentNode||i(!1),e.setStartBefore(c),1!==c.nodeType||"inline"===getComputedStyle(c).display););for(var u=c,f=l-1;;){for(var p=u.nodeValue,d=f;d>=0;d--)if(!(null!=p&&d>0&&r.isSurrogatePair(p,d-1))){if(e.setStart(u,d),!a(o(e),n))break;c=u,l=d}if(-1===d||0===u.childNodes.length)break;f=s(u=u.childNodes[d])}return e.setStart(c,l),e}},function(e,t,n){"use strict";var r=n(690),o=n(545),i=n(646),a=n(587);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return i(e,1);var o=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(o).getText().slice(0,n),s=r.getBackward(a);return i(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},function(e,t,n){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf]"}}},function(e,t,n){"use strict";var r=n(690),o=n(545),i=n(691),a=n(587);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),o=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(o).getText().slice(n),s=r.getForward(a);return i(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},function(e,t,n){"use strict";var r=n(549),o=n(545);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return o.push(e,t,"split-block")}},function(e,t,n){"use strict";var r=n(545);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),o=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(545);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(545),o=n(568),i=n(646),a=n(587);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return i(e,s?o.getUTF16Length(s,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},function(e,t,n){"use strict";var r=n(545),o=n(568),i=n(691),a=n(587);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return i(e,s?o.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},function(e,t,n){"use strict";var r=n(549),o=n(545),i=n(598);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,s,c=t.getAnchorKey(),l=e.getCurrentContent(),u=l.getBlockForKey(c).getLength();if(u<=1)return e;n===u?(a=t.set("anchorOffset",n-1),s=t):s=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var f=i(l,a),p=r.removeRange(l,a,"backward"),d=p.getSelectionAfter(),h=d.getAnchorOffset()-1,m=d.merge({anchorOffset:h,focusOffset:h}),y=r.replaceWithFragment(p,m,f),g=o.push(e,y,"insert-fragment");return o.acceptSelection(g,s)}},function(e,t,n){"use strict";var r=n(545);e.exports=function(e,t,n){var o=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(o)}),0)):n(o);else{var i=o.getCurrentContent();n(r.set(o,{nativelyRenderedContent:i}))}}},function(e,t,n){"use strict";var r=n(584),o=n(551),i=n(683),a=n(549),s=n(919),c=n(545),l=n(694),u=n(640),f=n(685),p=n(586),d=n(922);function h(e,t,n){var r=a.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new i(t.clipboardData);if(!n.isRichText()){var m=n.getFiles(),y=n.getText();if(m.length>0){if(e.props.handlePastedFiles&&p(e.props.handlePastedFiles(m)))return;return void f(m,(function(t){if(t=t||y){var n=e._latestEditorState,i=d(t),f=o.create({style:n.getCurrentInlineStyle(),entity:u(n.getCurrentContent(),n.getSelection())}),p=l.getCurrentBlockType(n),h=s.processText(i,f,p),m=r.createFromArray(h),g=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),m);e.update(c.push(n,g,"insert-fragment"))}}))}}var g=[],v=n.getText(),b=n.getHTML(),S=e._latestEditorState;if(!e.props.handlePastedText||!p(e.props.handlePastedText(v,b,S))){if(v&&(g=d(v)),!e.props.stripPastedStyles){var E=e.getClipboard();if(n.isRichText()&&E){if(-1!==b.indexOf(e.getEditorKey())||1===g.length&&1===E.size&&E.first().getText()===v)return void e.update(h(e._latestEditorState,E))}else if(E&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(g,E))return void e.update(h(e._latestEditorState,E));if(b){var w=s.processHTML(b,e.props.blockRenderMap);if(w){var _=w.contentBlocks,O=w.entityMap;if(_){var k=r.createFromArray(_);return void e.update(h(e._latestEditorState,k,O))}}}e.setClipboard(null)}if(g.length){var C=o.create({style:S.getCurrentInlineStyle(),entity:u(S.getCurrentContent(),S.getSelection())}),A=l.getCurrentBlockType(S),T=s.processText(g,C,A),M=r.createFromArray(T);e.update(h(e._latestEditorState,M))}}}},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(n(551),n(567)),i=n(553),a=n(563),s=n(542),c=n(692),l=n(561),u=n(693),f=n(636),p=s.List,d=s.Repeat,h=a.draft_tree_data_support,m=h?i:o,y={processHTML:function(e,t){return c(e,u,t)},processText:function(e,t,n){return e.reduce((function(e,o,i){o=f(o);var a=l(),s={key:a,type:n,text:o,characterList:p(d(t,o.length))};if(h&&0!==i){var c=i-1,u=e[c]=e[c].merge({nextSibling:a});s=r({},s,{prevSibling:u.getKey()})}return e.push(new m(s)),e}),[])}};e.exports=y},function(e,t,n){"use strict";var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uri=t}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat([[i,a.get(i)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},function(e,t,n){"use strict";var r=n(545),o=n(17),i=n(924),a=n(543);e.exports=function(e){if(!e._blockSelectEvents&&e._latestEditorState===e.props.editorState){var t=e.props.editorState,n=o.findDOMNode(e.editorContainer);n||a(!1),n.firstChild instanceof HTMLElement||a(!1);var s=i(t,n.firstChild),c=s.selectionState;c!==t.getSelection()&&(t=s.needsRecovery?r.forceSelection(t,c):r.acceptSelection(t,c),e.update(t))}}},function(e,t,n){"use strict";(function(t){var r=n(689);e.exports=function(e,n){var o=t.getSelection();return 0===o.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,n,o.anchorNode,o.anchorOffset,o.focusNode,o.focusOffset)}}).call(this,n(70))},function(e,t,n){"use strict";var r=n(1),o=n(573),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},t.prototype.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=o({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:o("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},t}(r.Component);e.exports=i},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(567),i=n(553),a=n(696),s=n(927),c=n(928),l=n(543),u=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:s(e,t),data:e.getData().toObject()}},f=function(e,t){var n=t.entityMap,s=[],c={},f={},p=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),o=a.stringify(r);f[o]||(f[o]=r,n[o]=""+p,p++)})),function(e,t,n,a){if(e instanceof o)n.push(u(e,t));else{e instanceof i||l(!1);var s=e.getParentKey(),c=a[e.getKey()]=r({},u(e,t),{children:[]});s?a[s].children.push(c):n.push(c)}}(e,n,s,c)})),{blocks:s,entityMap:n}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.blocks,r=t.entityMap,o={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(a.unstringify(t));o[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:o}}(e,t=f(e,t)),t}},function(e,t,n){"use strict";var r=n(696),o=n(568).strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(i,a){var s=e.getText(),c=e.getEntityAt(i);n.push({offset:o(s.slice(0,i)),length:o(s.slice(i,a)),key:Number(t[r.stringify(c)])})})),n}},function(e,t,n){"use strict";var r=n(568),o=n(585),i=function(e,t){return e===t},a=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var s=[],c=t.map((function(e){return e.has(n)})).toList();return o(c,i,a,(function(t,o){var i=e.getText();s.push({offset:r.strlen(i.slice(0,t)),length:r.strlen(i.slice(t,o)),style:n})})),s}(e,t,n)}));return Array.prototype.concat.apply(s,n.toJS())}},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(567),i=n(553),a=n(635),s=n(599),c=n(563),l=n(930),u=n(542),f=n(572),p=n(931),d=n(932),h=n(933),m=n(561),y=n(543),g=c.draft_tree_data_support,v=u.List,b=u.Map,S=u.OrderedMap,E=function(e,t){var n=e.key,r=e.type,o=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||m(),data:b(o),characterList:w(e,t)}},w=function(e,t){var n=e.text,o=e.entityRanges,i=e.inlineStyleRanges,a=o||[];return p(h(n,i||[]),d(n,a.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},_=function(e){return r({},e,{key:e.key||m()})},O=function(e,t,n){var o=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(o.reverse())},k=function(e,t){var n=Array.isArray(e.blocks[0].children),a=g&&!n?l.fromRawStateToRawTreeState(e).blocks:e.blocks;return g?function(e,t){return e.map(_).reduce((function(n,o,a){Array.isArray(o.children)||y(!1);var s=o.children.map(_),c=new i(r({},E(o,t),{prevSibling:0===a?null:e[a-1].key,nextSibling:a===e.length-1?null:e[a+1].key,children:v(s.map((function(e){return e.key})))}));n=n.set(c.getKey(),c);for(var l=O([],s,c);l.length>0;){var u=l.pop(),f=u.parentRef,p=f.getChildKeys(),d=p.indexOf(u.key),h=Array.isArray(u.children);if(!h){h||y(!1);break}var m=u.children.map(_),g=new i(r({},E(u,t),{parent:f.getKey(),children:v(m.map((function(e){return e.key}))),prevSibling:0===d?null:p.get(d-1),nextSibling:d===p.size-1?null:p.get(d+1)}));n=n.set(g.getKey(),g),l=O(l,m,g)}return n}),S())}(a,t):function(e,t){return S(e.map((function(e){var n=new o(E(e,t));return[n.getKey(),n]})))}(n?l.fromRawTreeStateToRawState(e).blocks:a,t)};e.exports=function(e){Array.isArray(e.blocks)||y(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],o=r.type,i=r.mutability,a=r.data;n[e]=s.__create(o,i,a||{})})),n}(e),n=k(e,t),r=n.isEmpty()?new f:f.createEmpty(n.first().getKey());return new a({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},function(e,t,n){"use strict";var r=n(111)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(543),i=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},a={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||o(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var i=r.children;Array.isArray(i)||o(!1),n=n.concat([].concat(i.reverse()))}}(t,(function(e){var t=r({},e);i(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(e)),delete t.children,n.push(t)})),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t={},n=[];return e.blocks.forEach((function(e){var a=i(e),s=e.depth||0,c=r({},e,{children:[]});if(!a)return t={},void n.push(c);if(t[s]=c,s>0){var l=t[s-1];return l||o(!1),void l.children.push(c)}n.push(c)})),r({},e,{blocks:n})}};e.exports=a},function(e,t,n){"use strict";var r=n(551),o=n(542).List;e.exports=function(e,t){var n=e.map((function(e,n){var o=t[n];return r.create({style:e,entity:o})}));return o(n)}},function(e,t,n){"use strict";var r=n(568).substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var o=r(e,0,t.offset).length,i=o+r(e,t.offset,t.length).length,a=o;a<i;a++)n[a]=t.key})),n}},function(e,t,n){"use strict";var r=n(542).OrderedSet,o=n(568).substr,i=r();e.exports=function(e,t){var n=Array(e.length).fill(i);return t&&t.forEach((function(t){for(var r=o(e,0,t.offset).length,i=r+o(e,t.offset,t.length).length;r<i;)n[r]=n[r].add(t.style),r++})),n}},function(e,t,n){"use strict";var r=n(935);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),o=r(n),i=o.top,a=o.right,s=o.bottom,c=o.left;return 0===i&&0===a&&0===s&&0===c?null:o}},function(e,t,n){"use strict";var r=n(688);e.exports=function(e){var t=r(e),n=0,o=0,i=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,o=s.right,i=s.bottom,a=s.left}else{var c=t[0];n=c.top,o=c.right,i=c.bottom,a=c.left}for(var l=1;l<t.length;l++){var u=t[l];0!==u.height&&0!==u.width&&(n=Math.min(n,u.top),o=Math.max(o,u.right),i=Math.max(i,u.bottom),a=Math.min(a,u.left))}}return{top:n,right:o,bottom:i,left:a,width:o-a,height:i-n}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(956),o=n(297)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},function(e,t,n){var r=n(112),o=n(592);e.exports=function(e){return o(r(e).toLowerCase())}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(303),o=n(119),i=n(117),a=n(49),s=n(102),c=n(118),l=n(173),u=n(172),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"activityFeedInlineError",(function(){return es})),n.d(t,"ActivitySidebarComponent",(function(){return os}));var r=n(6),o=n(1),i=n.n(o),a=n(40),s=n.n(a),c=n(174),l=n.n(c),u=n(205),f=n.n(u),p=n(13),d=n.n(p),h=n(12),m=n.n(h),y=n(35),g=n.n(y),v=n(138),b=n(22),S=n(219),E=n.n(S),w=n(541),_=n(209),O=n.n(_),k=n(7),C=n(11);function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var T=function(e){return o.createElement(C.a,A({width:16,height:16,viewBox:"0 0 16 16"},e),o.createElement("path",{fill:k.g,fillRule:"evenodd",d:"M3.727 7.792L2.273 9.165l4.05 4.285 8.399-8.758-1.444-1.384-6.944 7.242z"}))};function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}var x=function(e){return o.createElement(C.a,M({width:16,height:16,viewBox:"0 0 16 16"},e),o.createElement("path",{fill:k.g,fillRule:"evenodd",d:"M14 2l-1.8 11c-.1.6-.7 1-1.2 1H5c-.6 0-1.1-.5-1.2-1L2 2h12zm-1.2 1H3.2l1.6 9.9s.1.1.2.1h6c.06 0 .12-.036.158-.065l.042-.035L12.8 3zm-2.3 1c.3 0 .5.2.5.5s-.2.5-.5.5h-5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5z"}))};function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}var I=function(e){return o.createElement(C.a,D({width:16,height:16,viewBox:"0 0 16 16"},e),o.createElement("path",{fill:k.g,fillRule:"evenodd",d:"M3.829 9.096l7.392-7.392a.997.997 0 011.418.01l1.4 1.4c.395.395.397 1.032.01 1.419l-7.392 7.392L3.83 9.096zm1.414 0l1.414 1.414 6.685-6.684c-.005.004-.005 0-.01-.004l-1.4-1.401c-.005-.005-.006-.007-.006-.008L5.243 9.096zM2.925 10l2.829 2.828-3.398 1.184c-.52.18-.791-.105-.614-.614L2.925 10zm3.904 3h7v1h-7v-1z"}))},F=n(210),P=n(647);function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?L(e):t}(this,(e=N(t)).call.apply(e,[this].concat(o))),K(L(n),"state",{avatarUrl:null}),K(L(n),"isMounted",!1),K(L(n),"getAvatarUrlHandler",(function(e){n.isMounted&&n.setState({avatarUrl:e})})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,e),n=t,(r=[{key:"getAvatarUrl",value:function(){var e=this.props,t=e.user,n=void 0===t?{}:t,r=e.getAvatarUrl,o=n.avatar_url,i=void 0===o?null:o,a=n.id;return(a&&r?r("".concat(a)):Promise.resolve(i)).then(this.getAvatarUrlHandler)}},{key:"componentDidMount",value:function(){this.isMounted=!0,this.getAvatarUrl()}},{key:"componentWillUnmount",value:function(){this.isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.badgeIcon,n=e.className,r=e.user,i=this.state.avatarUrl,a=r.id,s=r.name;return o.createElement(P.a,{avatarUrl:i,badgeIcon:t,className:n,id:a,name:s})}}])&&R(n.prototype,r),i&&R(n,i),t}(o.PureComponent),z=B;n(596);function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var q=function(e){var t=e.as,n=void 0===t?"div":t,r=e.className,i=e.children,a=V(e,["as","className","children"]);return o.createElement(n,H({className:s()("bdl-Media-figure",r)},a),i)};function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Q=function(e){var t=e.className,n=e.children,r=G(e,["className","children"]);return o.createElement("div",W({className:s()("bdl-Media-body",t)},r),n)},X=n(80),J=n(43),Y=Object(J.c)({menuButtonArialLabel:{id:"boxui.media.menuButtonArialLabel",defaultMessage:"Options"}}),Z=n(589),$=n(204),ee=n(569),te=n(555);function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var oe=Object(X.c)((function(e){var t=e.className,n=e.children,r=e.isDisabled,i=void 0!==r&&r,a=e.dropdownProps,c=void 0===a?{}:a,l=e.menuProps,u=void 0===l?{}:l,f=e.intl,p=re(e,["className","children","isDisabled","dropdownProps","menuProps","intl"]);return o.createElement(ee.b,ne({constrainToScrollParent:!0,isRightAligned:!0},c),o.createElement(w.a,ne({"aria-label":f.formatMessage(Y.menuButtonArialLabel),className:s()("bdl-Media-menu",t),isDisabled:i,type:$.a.BUTTON},p),o.createElement(Z.a,{color:k.k,height:16,width:16})),o.createElement(te.a,u,n))}));function ie(){return ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var se=function(e){var t=e.as,n=void 0===t?"div":t,r=e.children,i=e.className,a=ae(e,["as","children","className"]);return o.createElement(n,ie({className:s()("bdl-Media",i)},a),r)};se.Body=Q,se.Menu=oe,se.Figure=q;var ce=se,le=n(544),ue=n(27),fe=n(597),pe=n(2),de=n(700);n(842);function he(e){return he="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function ye(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){return Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Se(e,t)}var Ee=function(e){function t(){var e,n,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=function(e,t){return!t||"object"!==he(t)&&"function"!==typeof t?be(e):t}(this,(e=ve(t)).call.apply(e,[this].concat(s))),r=be(n),i=function(e){var t=e.nativeEvent,r=n.props,o=r.isOpen,i=r.onDeleteCancel;t.stopImmediatePropagation(),e.key===pe.Jd.escape&&(e.stopPropagation(),e.preventDefault(),o&&i())},(o="onKeyDown")in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=(e.isOpen,e.message),n=e.onDeleteCancel,r=e.onDeleteConfirm,i=ye(e,["isOpen","message","onDeleteCancel","onDeleteConfirm"]);return o.createElement(de.b,me({className:"be-modal bcs-DeleteConfirmation",onKeyDown:this.onKeyDown,role:"dialog",shouldDefaultFocus:!0,shouldOutlineFocus:!1},i),o.createElement("div",{className:"bcs-DeleteConfirmation-promptMessage"},o.createElement(v.a,t)),o.createElement("div",null,o.createElement($.b,{className:"bcs-DeleteConfirmation-cancel",onClick:n,type:"button","data-resin-target":le.a.INLINE_DELETE_CANCEL},o.createElement(v.a,ue.a.cancel)),o.createElement(fe.a,{className:"bcs-DeleteConfirmation-delete",onClick:r,type:"button","data-resin-target":le.a.INLINE_DELETE_CONFIRM},o.createElement(v.a,ue.a.delete))))}}])&&ge(n.prototype,r),i&&ge(n,i),t}(o.Component),we=Ee,_e=n(604);function Oe(){return Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ce=function(e){var t=e.date,n=ke(e,["date"]),r=(new Date).getTime(),i=new Date(t).getTime(),a=r-i<31536e6;return o.createElement(_e.a,Oe({timestamp:i,alwaysShowTime:a,relativeThreshold:0},n))},Ae=n(546),Te=Object(J.c)({fullDateTime:{id:"be.activityFeed.fullDateTime",defaultMessage:"{time, date, full} at {time, time, short}"}});n(843);function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}var xe=function(e){var t=e.date;return o.createElement(Ae.c,{text:o.createElement(v.a,Me({},Te.fullDateTime,{values:{time:t}}))},o.createElement("small",{className:"bcs-ActivityTimestamp"},o.createElement(Ce,{date:t})))},De=n(624);n(655);function Ie(e){return Ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==Ie(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Re(e,t){return Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Re(e,t)}var Ne,Le,Ue,Ke=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,je(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,r=e.className;return o.createElement("div",{className:"link-group ".concat(r)},t?o.createElement("div",{className:"link-group-title"},t):null,o.createElement("ul",null,o.Children.map(n,(function(e,t){return e?o.createElement("li",{key:t},e," "):null}))))}}])&&Fe(n.prototype,r),i&&Fe(n,i),t}(o.Component);Ue={title:"",className:""},(Le="defaultProps")in(Ne=Ke)?Object.defineProperty(Ne,Le,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):Ne[Le]=Ue;n(844);function Be(e){return Be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function ze(){return ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==Be(t)&&"function"!==typeof t?We(e):t}(this,(e=qe(t)).call.apply(e,[this].concat(o))),Qe(We(n),"state",{}),Qe(We(n),"getProfileUrlHandler",(function(e){n.setState({profileUrl:e})})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,e),n=t,(r=[{key:"getUserProfileUrl",value:function(){var e=this.props,t=e.id,n=e.getUserProfileUrl;return n?n(t).then(this.getProfileUrlHandler):Promise.resolve()}},{key:"componentDidMount",value:function(){this.getUserProfileUrl()}},{key:"render",value:function(){var e=this.props,t=e.name,n=(e.getUserProfileUrl,e.className),r=He(e,["name","getUserProfileUrl","className"]),i=this.state.profileUrl;return i?o.createElement(De.a,ze({className:s()("bcs-UserLink",n)},r,{href:i}),t):o.createElement("span",r,t)}}])&&Ve(n.prototype,r),i&&Ve(n,i),t}(o.PureComponent),Je=Xe;n(845);function Ye(){return Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var $e=o.forwardRef((function(e,t){var n=e.children,r=e.className,i=Ze(e,["children","className"]);return o.createElement("div",Ye({ref:t,className:s()("bcs-ActivityCard",r)},i),n)})),et=n(633);n(846);function tt(){return tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rt=function(e){var t=e.action,n=e.message,r=e.title,i=e.className,a=nt(e,["action","message","title","className"]);return o.createElement(et.a,{className:s()("bcs-ActivityError",i),title:o.createElement(v.a,tt({},r,a))},o.createElement("div",null,o.createElement(v.a,n)),t?o.createElement(w.a,{className:"bcs-ActivityError-action lnk",onClick:t.onAction,type:"button"},t.text):null)},ot=Object(J.c)({activityMessageShowOriginal:{id:"be.contentSidebar.activityFeed.commmon.showOriginalMessage",defaultMessage:"Show Original"},activityMessageTranslate:{id:"be.contentSidebar.activityFeed.common.translateMessage",defaultMessage:"Translate"},activityMessageSeeMore:{id:"be.contentSidebar.activityFeed.common.seeMoreMessage",defaultMessage:"See more"},activityMessageSeeLess:{id:"be.contentSidebar.activityFeed.common.seeLessMessage",defaultMessage:"See less"},activityMessageEdited:{id:"be.contentSidebar.activityFeed.common.editedMessage",defaultMessage:"\\ (edited)"}}),it=function(e){var t=e.isMore,n=e.onClick;return o.createElement(w.a,{className:"bcs-ActivityMessage-toggleMoreLess",onClick:n,type:"button"},o.createElement(v.a,t?ot.activityMessageSeeMore:ot.activityMessageSeeLess))};n(670);function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function st(e){var t=e.children,n=at(o.useState(!0),2),r=n[0],i=n[1],a=at(o.useState(!1),2),c=a[0],l=a[1],u=o.useRef(null);return o.useLayoutEffect((function(){if(u.current){var e=u.current,t=e.clientHeight,n=e.scrollHeight;l(t!==n)}}),[]),o.createElement(o.Fragment,null,o.createElement("div",{className:s()({"bcs-ActivityMessage-collapsed":r}),ref:u},t),c&&o.createElement(it,{isMore:r,onClick:function(){return i((function(e){return!e}))}}))}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var lt=/((?:[@\uff20\ufe6b]\[[0-9]+:[^\]]+])|(?:\b(?:(?:ht|f)tps?:\/\/)[\w\._\-]+(?::\d+)?(?:\/[\w\-_\.~\+\/#\?&%=:\[\]@!$'\(\)\*;,]*)?))/gim,ut=function(e,t,n,r){var i=e.split(lt).map((function(e,i){var a="".concat(i,"-").concat(t),s=e.match(/([@\uff20\ufe6b])\[([0-9]+):([^\]]+)]/i);if(s){var c=ct(s,4),l=c[1],u=c[2],f=c[3];return n?"".concat(l).concat(f):o.createElement(Je,{key:a,className:"bcs-comment-mention","data-resin-target":le.a.MENTION,getUserProfileUrl:r,id:u,name:"".concat(l).concat(f)})}if(!n){var p=e.match(/((?:(?:ht|f)tps?:\/\/)[\w\._\-]+(?::\d+)?(?:\/[\w\-_\.~\+\/#\?&%=:\[\]@!$'\(\)\*;,]*)?)/i);if(p){var d=ct(p,2)[1];return o.createElement(De.a,{key:a,href:d},d)}}return e}));return n?i.join(""):i},ft=n(206),pt=function(e){var t=e.handleShowOriginal;return o.createElement(w.a,{className:"bcs-ActivityMessage-translate",onClick:t},o.createElement(v.a,ot.activityMessageShowOriginal))},dt=function(e){var t=e.handleTranslate;return o.createElement(w.a,{className:"bcs-ActivityMessage-translate",onClick:t},o.createElement(v.a,ot.activityMessageTranslate))},ht=n(208);function mt(e){return mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e){return gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gt(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){return bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bt(e,t)}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==mt(t)&&"function"!==typeof t?vt(e):t}(this,(e=gt(t)).call.apply(e,[this].concat(o))),St(vt(n),"state",{isLoading:!1,isTranslation:!1}),St(vt(n),"handleTranslate",(function(e){var t=n.props,r=t.id,o=t.tagged_message,i=t.onTranslate,a=void 0===i?m.a:i;t.translatedTaggedMessage||(n.setState({isLoading:!0}),a({id:r,tagged_message:o})),n.setState({isTranslation:!0}),e.preventDefault()})),St(vt(n),"handleShowOriginal",(function(e){n.setState({isTranslation:!1}),e.preventDefault()})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.translatedTaggedMessage,r=t.translationFailed,o=e.translatedTaggedMessage,i=e.translationFailed;o!==n&&i!==r&&(n||r)&&this.setState({isLoading:!1})}},{key:"getButton",value:function(e){return e?o.createElement(pt,{handleShowOriginal:this.handleShowOriginal}):o.createElement(dt,{handleTranslate:this.handleTranslate})}},{key:"render",value:function(){var e=this.props,t=e.features,n=e.getUserProfileUrl,r=e.id,i=e.isEdited,a=e.tagged_message,s=e.translatedTaggedMessage,c=e.translationEnabled,l=this.state,u=l.isLoading,f=l.isTranslation,p=c&&f&&s?s:a,d=Object(ht.isFeatureEnabled)(t,"activityFeed.collapsableMessages.enabled")?st:o.Fragment;return u?o.createElement("div",{className:"bcs-ActivityMessageLoading"},o.createElement(ft.b,{size:"small"})):o.createElement("div",{className:"bcs-ActivityMessage"},o.createElement(d,null,ut(p,r,!1,n),i&&o.createElement("span",{className:"bcs-ActivityMessage-edited"},o.createElement(v.a,ot.activityMessageEdited))),c?this.getButton(f):null)}}])&&yt(n.prototype,r),i&&yt(n,i),t}(o.Component);St(Et,"defaultProps",{isEdited:!1,translationEnabled:!1});var wt=Object(ht.withFeatureConsumer)(Et),_t=n(564),Ot=Object(J.c)({activityStatusResolved:{id:"be.contentSidebar.activityFeed.common.activityStatusResolved",defaultMessage:"RESOLVED"}}),kt=(n(847),function(e){return e.status!==pe.z?null:o.createElement("div",{className:"bcs-ActivityStatus","data-testid":"bcs-ActivityStatus"},o.createElement(_t.a.Pill,{type:"success"},o.createElement(_t.a.Text,null,o.createElement(v.a,Ot.activityStatusResolved))))}),Ct=n(99),At=n(550),Tt=Object(J.c)({commentCancel:{id:"be.contentSidebar.activityFeed.commentForm.commentCancel",defaultMessage:"Cancel"},commentLabel:{id:"be.contentSidebar.activityFeed.commentForm.commentLabel",defaultMessage:"Write a comment"},commentPost:{id:"be.contentSidebar.activityFeed.commentForm.commentPost",defaultMessage:"Post"},commentWrite:{id:"be.contentSidebar.activityFeed.commentForm.commentWrite",defaultMessage:"Write a comment"},approvalAddAssignee:{id:"be.contentSidebar.activityFeed.commentForm.approvalAddAssignee",defaultMessage:"Add an assignee"},approvalAddTask:{id:"be.contentSidebar.activityFeed.commentForm.approvalAddTask",defaultMessage:"Add Task"},approvalAddTaskTooltip:{id:"be.contentSidebar.activityFeed.commentForm.approvalAddTaskTooltip",defaultMessage:"Assigning a task to someone will send them a notification with the message in the comment box and allow them to approve or deny."},approvalAssignees:{id:"be.contentSidebar.activityFeed.commentForm.approvalAssignees",defaultMessage:"Assignees"},approvalDueDate:{id:"be.contentSidebar.activityFeed.commentForm.approvalDueDate",defaultMessage:"Due Date"},approvalSelectDate:{id:"be.contentSidebar.activityFeed.commentForm.approvalSelectDate",defaultMessage:"Select a date"},atMentionTip:{id:"be.contentSidebar.activityFeed.commentForm.atMentionTip",defaultMessage:"@mention users to notify them."},atMentionTipDescription:{id:"be.contentSidebar.activityFeed.commentForm.atMentionTipDescription",defaultMessage:"Use the @ symbol to mention users and use the up and down arrow keys to scroll through autocomplete suggestions."}}),Mt=function(e){var t=e.onCancel;return o.createElement("div",{className:"bcs-CommentFormControls"},o.createElement(Ct.b,{"data-resin-target":le.a.APPROVAL_FORM_CANCEL,onClick:t,type:"button"},o.createElement(v.a,Tt.commentCancel)),o.createElement(At.a,{"data-resin-target":le.a.APPROVAL_FORM_POST},o.createElement(v.a,Tt.commentPost)))},xt=n(566),Dt=["@","\uff20","\ufe6b"],It=Dt.reduce((function(e,t){return"".concat(e,"\\").concat(t)}),""),Ft=new RegExp("([".concat(It,"])([^").concat(It,"]*)$"));var Pt=n(603),jt=(n(936),n(559));n(937);function Rt(e){return Rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Nt(){return Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(this,arguments)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t){return Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bt(e,t)}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht=function(){return o.createElement("span",{className:"bdl-Label-optional"},"(",o.createElement(v.a,jt.a.optional),")")},Vt=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==Rt(t)&&"function"!==typeof t?Kt(e):t}(this,(e=Ut(t)).call.apply(e,[this].concat(o))),zt(Kt(n),"handleChange",(function(e){(0,n.props.onChange)(e)})),zt(Kt(n),"handleBlur",(function(e){(0,n.props.onBlur)(e)})),zt(Kt(n),"handleReturn",(function(e){var t=n.props,r=t.onReturn,o=t.inputProps;return r&&!o["aria-activedescendant"]&&r(e)?"handled":"not-handled"})),zt(Kt(n),"labelID",g()("label")),zt(Kt(n),"descriptionID",g()("description")),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.editorState,n=e.error,r=e.hideLabel,i=e.inputProps,a=e.isDisabled,c=e.isRequired,l=e.label,u=e.description,f=e.onFocus,p=e.placeholder,d=this.handleBlur,h=this.handleChange,m=s()({"draft-js-editor":!0,"is-disabled bdl-is-disabled":a,"show-error":!!n}),y={};return i.role&&(y={ariaActiveDescendantID:i["aria-activedescendant"],ariaAutoComplete:i["aria-autocomplete"],ariaExpanded:i["aria-expanded"],ariaOwneeID:i["aria-owns"],ariaMultiline:!0,role:"textbox"}),o.createElement("div",{className:m},o.createElement("span",{className:s()("bdl-Label",{"accessibility-hidden":r}),id:this.labelID},l,!c&&o.createElement(Ht,null)),o.createElement("span",{className:"accessibility-hidden screenreader-description",id:this.descriptionID},u),o.createElement(Ae.c,{isShown:!!n,position:"bottom-left",text:n?n.message:"",theme:"error"},o.createElement("div",null,o.createElement(xt.Editor,Nt({},y,{ariaLabelledBy:this.labelID,ariaDescribedBy:this.descriptionID,editorState:t,handleReturn:this.handleReturn,onBlur:d,onChange:h,onFocus:f,placeholder:p,readOnly:a,stripPastedStyles:!0})))))}}])&&Lt(n.prototype,r),i&&Lt(n,i),t}(o.Component);zt(Vt,"defaultProps",{inputProps:{},isRequired:!1,isFocused:!1});var qt=Vt,Wt=n(648),Gt=Object(J.c)({startMention:{id:"boxui.draftjs.mentionSelector.startMention",defaultMessage:"Mention someone to notify them"},noUsersFound:{id:"boxui.draftjs.mentionSelector.noUsersFound",defaultMessage:"No users found"},usersFound:{id:"boxui.draftjs.mentionSelector.usersFound",defaultMessage:"{usersCount, plural, one {one user found} other {{usersCount} users found}}"}});n(938);function Qt(e){return Qt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zt(e)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function en(e,t){return en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},en(e,t)}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rn=function(e){var t=e.message;return o.createElement("div",{role:"alert",className:"mention-start-state"},t)},on=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Qt(t)&&"function"!==typeof t?$t(e):t}(this,Zt(t).call(this,e)),tn($t(n),"handleMention",(function(){var e=n.props.onMention,t=n.state.activeMention;e&&e(t?t.mentionString:"")})),tn($t(n),"handleContactSelected",(function(e){var t=n.props.contacts;n.addMention(t[e]),n.setState({activeMention:null,isFocused:!0},(function(){n.handleMention()}))})),tn($t(n),"handleBlur",(function(e){var t=n.props.onBlur;n.setState({isFocused:!1}),t&&t(e)})),tn($t(n),"handleFocus",(function(e){var t=n.props.onFocus;n.setState({isFocused:!0}),t&&t(e)})),tn($t(n),"handleChange",(function(e){var t=n.props.onChange,r=n.getActiveMentionForEditorState(e);n.setState({activeMention:r},(function(){t&&t(e),r&&r.mentionString&&n.handleMention()}))})),tn($t(n),"shouldDisplayMentionLookup",(function(){var e=n.props.contacts,t=n.state.activeMention;return!!(t&&t.mentionString&&e.length)}));var r=e.mentionTriggers.reduce((function(e,t){return"".concat(e,"\\").concat(t)}),"");return n.state={activeMention:null,isFocused:!1,mentionPattern:new RegExp("([".concat(r,"])([^").concat(r,"]*)$"))},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(t,e),n=t,r=[{key:"componentDidUpdate",value:function(e){var t=e.contacts,n=this.props.contacts;null===this.state.activeMention||n.length||t.length===n.length||this.setState({activeMention:null})}},{key:"getActiveMentionForEditorState",value:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft,n=e.getCurrentContent(),r=e.getSelection(),o=r.getStartKey(),i=n.getBlockForKey(o),a=r.getStartOffset(),s=null;return i.findEntityRanges((function(e){return null===e.getEntity()}),(function(e,n){if(e<=a&&a<=n){var r=i.getText().substr(e,a-e).match(t);r&&(s={blockID:o,mentionString:r[2],mentionTrigger:r[1],start:e+r.index,end:a})}return null})),s}(e,this.state.mentionPattern)}},{key:"addMention",value:function(e){var t=this,n=this.state.activeMention,r=function(e,t,n){var r=t||{},o=r.start,i=r.end,a=n.id,s=n.name,c=e.getCurrentContent(),l=e.getSelection().merge({anchorOffset:o,focusOffset:i}),u="@".concat(s),f=c.createEntity("MENTION","IMMUTABLE",{id:a}).getLastCreatedEntityKey(),p=xt.Modifier.replaceText(c,l,u,null,f),d=l.getStartOffset()+u.length,h=l.merge({anchorOffset:d,focusOffset:d}),m=xt.Modifier.insertText(p,h," ");return xt.EditorState.push(e,m,"change-block-type")}(this.props.editorState,n,e);this.setState({activeMention:null},(function(){t.handleChange(r)}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.contacts,r=e.contactsLoaded,i=e.editorState,a=e.error,c=e.hideLabel,l=e.isDisabled,u=e.isRequired,f=e.label,p=e.description,d=e.onReturn,h=e.placeholder,m=e.selectorRow,y=e.startMentionMessage,g=e.onMention,b=this.state,S=b.activeMention,E=b.isFocused,w=s()("mention-selector-wrapper",t),_=!(!g||!S||S.mentionString||!E),O=this.shouldDisplayMentionLookup()?Jt({},Gt.usersFound,{values:{usersCount:n.length}}):Gt.noUsersFound;return o.createElement("div",{className:w},o.createElement(Wt.a,{onSelect:this.handleContactSelected,selector:o.createElement(qt,{editorState:i,error:a,hideLabel:c,isDisabled:l,isFocused:E,isRequired:u,label:f,description:p,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onReturn:d,placeholder:h})},this.shouldDisplayMentionLookup()?n.map((function(e){return o.cloneElement(m,Jt({},m.props,{},e,{key:e.id}))})):[]),_?o.createElement(rn,{message:y}):null,r&&o.createElement("span",{className:"accessibility-hidden","data-testid":"accessibility-alert",role:"alert"},o.createElement(v.a,O)))}}],r&&Yt(n.prototype,r),i&&Yt(n,i),t}(o.Component);tn(on,"defaultProps",{className:"",contacts:[],isDisabled:!1,isRequired:!1,mentionTriggers:Dt,selectorRow:o.createElement((function(e){var t=e.item,n=void 0===t?{}:t,r=nn(e,["item"]);return o.createElement(Pt.a,r,n.name," ",o.createElement("span",{className:"dropdown-secondary-text"},n.email))}),null),startMentionMessage:o.createElement((function(){return o.createElement(v.a,Gt.startMention)}),null)});var an=on,sn=function(e){var t=e.contentState,n=e.entityKey,r=e.children,i="";return n&&(i=t.getEntity(n).getData().id),o.createElement("a",{href:"/profile/".concat(i)},r)},cn=n(3),ln=n.n(cn);function un(e){return un="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return!t||"object"!==un(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dn(e)}function hn(e,t){return hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hn(e,t)}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pn(this,dn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.onValidityStateUpdate;this.context.form&&this.context.form.registerInput(t,n)}},{key:"componentWillUnmount",value:function(){this.context.form&&this.context.form.unregisterInput(this.props.name)}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.children)}}])&&fn(n.prototype,r),o&&fn(n,o),t}(o.Component);mn(yn,"propTypes",{children:ln.a.node.isRequired,onValidityStateUpdate:ln.a.func.isRequired,name:ln.a.string.isRequired}),mn(yn,"contextTypes",{form:ln.a.shape({registerInput:ln.a.func.isRequired,unregisterInput:ln.a.func.isRequired})});var gn=yn;function vn(){return vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vn.apply(this,arguments)}function bn(e){return bn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e){return En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},En(e)}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e,t){return _n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_n(e,t)}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kn=function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"MENTION"===n.getEntity(t).getType()}),t)},Cn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==bn(t)&&"function"!==typeof t?wn(e):t}(this,En(t).call(this,e)),On(wn(n),"handleBlur",(function(e){n.props.validateOnBlur&&n.containerEl&&e.relatedTarget instanceof Node&&!n.containerEl.contains(e.relatedTarget)&&n.checkValidity()})),On(wn(n),"handleFocus",(function(e){var t=n.props.onFocus;t&&t(e)})),On(wn(n),"handleChange",(function(e){var t=n.state.internalEditorState;(0,n.props.onChange)(e),t&&n.setState({internalEditorState:e})})),On(wn(n),"handleValidityStateUpdateHandler",(function(){if(n.state.isTouched){var e=n.getErrorFromValidityState();n.setState({error:e})}})),On(wn(n),"checkValidity",(function(){n.handleValidityStateUpdateHandler()}));var r=new xt.CompositeDecorator([{strategy:kn,component:sn}]);return n.state={contacts:[],isTouched:!1,internalEditorState:e.editorState?null:xt.EditorState.createEmpty(r),error:null},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e){var t=e.contacts;return t?{contacts:t}:null}}],(r=[{key:"componentDidUpdate",value:function(e,t){var n=t.internalEditorState,r=this.state.internalEditorState,o=e.editorState,i=this.props.editorState,a=n||o,s=r||i;if(a&&s&&a!==s){var c=this.getDerivedStateFromEditorState(s,a);c?this.setState(c,this.checkValidityIfAllowed):this.checkValidityIfAllowed()}}},{key:"getDerivedStateFromEditorState",value:function(e,t){var n=this.isEditorStateEmpty(t),r=this.isEditorStateEmpty(e),o=null;return r&&!n?o={isTouched:!1,error:null}:n&&!r&&(o={isTouched:!0}),o}},{key:"checkValidityIfAllowed",value:function(){this.props.validateOnBlur||this.checkValidity()}},{key:"isEditorStateEmpty",value:function(e){var t=e.getCurrentContent().getPlainText().trim(),n=e.getLastChangeType();return 0===t.length&&null===n}},{key:"getErrorFromValidityState",value:function(){var e=this.props,t=e.editorState,n=e.isRequired,r=e.maxLength,o=e.minLength,a=(this.state.internalEditorState||t).getCurrentContent().getPlainText().trim().length;return n&&!a?{code:"valueMissing",message:i.a.createElement(v.a,jt.a.requiredFieldError)}:"undefined"!==typeof o&&a<o?function(e){return{code:"tooShort",message:i.a.createElement(v.a,vn({},jt.a.minLengthError,{values:{min:e}}))}}(o):"undefined"!==typeof r&&a>r?function(e){return{code:"tooLong",message:i.a.createElement(v.a,vn({},jt.a.maxLengthError,{values:{max:e}}))}}(r):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=void 0===n?"":n,i=t.contactsLoaded,a=t.editorState,s=t.hideLabel,c=t.isDisabled,l=t.isRequired,u=t.label,f=t.description,p=t.mentionTriggers,d=t.name,h=t.onMention,m=t.placeholder,y=t.selectorRow,g=t.startMentionMessage,v=t.onReturn,b=this.state,S=b.contacts,E=b.internalEditorState,w=b.error,_=this.handleBlur,O=this.handleChange,k=this.handleFocus,C=E||a;return o.createElement("div",{ref:function(t){e.containerEl=t},className:r},o.createElement(gn,{name:d,onValidityStateUpdate:this.handleValidityStateUpdateHandler},o.createElement(an,{contacts:S,contactsLoaded:i,editorState:C,error:w,hideLabel:s,isDisabled:c,isRequired:l,label:u,description:f,mentionTriggers:p,onBlur:_,onChange:O,onFocus:k,onMention:h,onReturn:v,placeholder:m,selectorRow:y,startMentionMessage:g})))}}])&&Sn(n.prototype,r),a&&Sn(n,a),t}(o.Component);On(Cn,"defaultProps",{isRequired:!1,onChange:m.a,validateOnBlur:!0});var An=Cn,Tn=new xt.CompositeDecorator([{strategy:function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"MENTION"===n.getEntity(t).getType()}),t)},component:sn}]);function Mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xn=function(e){var t=/([@\uff20\ufe6b])\[([0-9]+):([^\]]+)]/gi.exec(e);if(!t)return null;var n=Mn(t,4),r=n[0],o=n[1],i=n[2],a=n[3],s=t.index;return{start:s,end:s+r.length,data:{id:i,name:a,content:"".concat(o).concat(a)}}},Dn=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=xt.ContentState.createFromText(e),n=t.getFirstBlock();null!=n;){var r=n.getText(),o=r?xn(r):null;if(null==o)n=t.getBlockAfter(n.getKey());else{var i=o.data,a=o.start,s=o.end;t.createEntity("MENTION","IMMUTABLE",i);var c=t.getLastCreatedEntityKey(),l=xt.SelectionState.createEmpty(n.getKey()).merge({anchorOffset:a,focusOffset:s});n=(t=xt.Modifier.replaceText(t,l,i.content,null,c)).getBlockForKey(n.getKey())}}return xt.EditorState.createWithContent(t,Tn)},In=n(623);n(939);function Fn(e){return Fn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jn(e)}function Rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e,t){return Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nn(e,t)}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Un=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==Fn(t)&&"function"!==typeof t?Rn(e):t}(this,(e=jn(t)).call.apply(e,[this].concat(o))),Ln(Rn(n),"state",{commentEditorState:Dn(n.props.tagged_message)}),Ln(Rn(n),"onFormValidSubmitHandler",(function(){var e=n.props,t=e.createComment,r=void 0===t?m.a:t,o=e.updateComment,i=void 0===o?m.a:o,a=e.onSubmit,s=e.entityId,c=n.getFormattedCommentText(),l=c.text,u=c.hasMention;l&&(s?i({id:s,text:l,hasMention:u}):r({text:l,hasMention:u}),a&&a(),n.setState({commentEditorState:Dn()}))})),Ln(Rn(n),"onMentionSelectorChangeHandler",(function(e){return n.setState({commentEditorState:e})})),Ln(Rn(n),"getFormattedCommentText",(function(){return function(e){var t=e.getCurrentContent(),n=t.getBlockMap(),r=[],o=!1;return n.forEach((function(e){var n=e.getText(),i=[];e.findEntityRanges((function(){return!0}),(function(r,a){var s=e.getEntityAt(r);if(s){var c=t.getEntity(s),l="@[".concat(c.getData().id,":").concat(n.substring(r+1,a),"]");i.push(l),o=!0}else i.push(n.substring(r,a))})),r.push(i.join(""))})),{text:r.join("\n"),hasMention:o}}(n.state.commentEditorState)})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=e.isOpen,n=this.props.isOpen;n===t||n||this.setState({commentEditorState:Dn()})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.getMentionWithQuery,r=e.intl.formatMessage,i=e.isDisabled,a=e.isOpen,c=e.mentionSelectorContacts,l=void 0===c?[]:c,u=e.contactsLoaded,f=e.onCancel,p=e.onFocus,d=e.user,h=e.isEditing,m=e.tagged_message,y=e.getAvatarUrl,g=e.showTip,b=void 0===g||g,S=e.placeholder,E=void 0===S?r(Tt.commentWrite):S,w=this.state.commentEditorState,_=s()("bcs-CommentForm",t,{"bcs-is-open":a});return o.createElement(ce,{className:_},!h&&!!d&&o.createElement(ce.Figure,{className:"bcs-CommentForm-avatar"},o.createElement(z,{getAvatarUrl:y,user:d})),o.createElement(ce.Body,{className:"bcs-CommentForm-body","data-testid":"bcs-CommentForm-body"},o.createElement(In.a,{onValidSubmit:this.onFormValidSubmitHandler},o.createElement(An,{className:"bcs-CommentForm-input",contacts:a?l:[],contactsLoaded:u,editorState:w,hideLabel:!0,isDisabled:i,isRequired:a,name:"commentText",label:r(Tt.commentLabel),description:r(Tt.atMentionTipDescription),onChange:this.onMentionSelectorChangeHandler,onFocus:p,onMention:n,placeholder:m?void 0:E,validateOnBlur:!1}),b&&o.createElement("div",{className:"bcs-CommentForm-tip"},o.createElement(v.a,Tt.atMentionTip)),a&&o.createElement(Mt,{onCancel:f}))))}}])&&Pn(n.prototype,r),i&&Pn(n,i),t}(o.Component);Ln(Un,"defaultProps",{isOpen:!1});var Kn=Object(X.c)(Un),Bn=Object(J.c)({annotationBadge:{id:"be.contentSidebar.activityFeed.comment.annotationBadge",defaultMessage:"Annotation Badge"},commentDeleteMenuItem:{id:"be.contentSidebar.activityFeed.comment.commentDeleteMenuItem",defaultMessage:"Delete"},commentDeletePrompt:{id:"be.contentSidebar.activityFeed.comment.commentDeletePrompt",defaultMessage:"Are you sure you want to permanently delete this comment?"},commentEditMenuItem:{id:"be.contentSidebar.activityFeed.comment.commentEditMenuItem",defaultMessage:"Modify"},commentPostedFullDateTime:{id:"be.contentSidebar.activityFeed.comment.commentPostedFullDateTime",defaultMessage:"{time, date, full} at {time, time, short}"},commentResolveMenuItem:{id:"be.contentSidebar.activityFeed.comment.commentResolveMenuItem",defaultMessage:"Resolve"},commentUnresolveMenuItem:{id:"be.contentSidebar.activityFeed.comment.commentUnresolveMenuItem",defaultMessage:"Unresolve"},reply:{id:"be.contentSidebar.activityFeed.comment.reply",defaultMessage:"Reply"},replyInThread:{id:"be.contentSidebar.activityFeed.comment.replyInThread",defaultMessage:"Reply in thread"},hideReplies:{id:"be.contentSidebar.activityFeed.comment.hideReplies",defaultMessage:"Hide replies"},showReplies:{id:"be.contentSidebar.activityFeed.comment.showReplies",defaultMessage:"See {repliesToLoadCount, plural, one {# reply} other {# replies}}"}});n(697);function zn(e){return zn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(e)}function Hn(){return Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hn.apply(this,arguments)}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e){return qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qn(e)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e,t){return Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gn(e,t)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==zn(t)&&"function"!==typeof t?Wn(e):t}(this,(e=qn(t)).call.apply(e,[this].concat(o))),Qn(Wn(n),"state",{isConfirmingDelete:!1,isEditing:!1,isInputOpen:!1}),Qn(Wn(n),"selectComment",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,n.props.onSelect)(e)})),Qn(Wn(n),"handleDeleteConfirm",(function(){var e=n.props,t=e.id;(0,e.onDelete)({id:t,permissions:e.permissions}),n.selectComment(!1)})),Qn(Wn(n),"handleDeleteCancel",(function(){n.setState({isConfirmingDelete:!1}),n.selectComment(!1)})),Qn(Wn(n),"handleDeleteClick",(function(){n.setState({isConfirmingDelete:!0}),n.selectComment()})),Qn(Wn(n),"handleEditClick",(function(){n.setState({isEditing:!0,isInputOpen:!0}),n.selectComment()})),Qn(Wn(n),"handleMenuClose",(function(){var e=n.state,t=e.isConfirmingDelete,r=e.isEditing,o=e.isInputOpen;t||r||o||n.selectComment(!1)})),Qn(Wn(n),"handleMenuOpen",(function(){n.selectComment()})),Qn(Wn(n),"commentFormFocusHandler",(function(){n.setState({isInputOpen:!0}),n.selectComment()})),Qn(Wn(n),"commentFormCancelHandler",(function(){n.setState({isInputOpen:!1,isEditing:!1}),n.selectComment(!1)})),Qn(Wn(n),"commentFormSubmitHandler",(function(){n.setState({isInputOpen:!1,isEditing:!1}),n.selectComment(!1)})),Qn(Wn(n),"handleMessageUpdate",(function(e){var t=e.id,r=e.text,o=e.hasMention,i=n.props;(0,i.onEdit)({id:t,text:r,hasMention:o,permissions:i.permissions}),n.commentFormSubmitHandler()})),Qn(Wn(n),"handleStatusUpdate",(function(e){var t=n.props,r=t.id;(0,t.onEdit)({id:r,status:e,hasMention:!1,permissions:t.permissions})})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.created_by,r=t.created_at,i=t.permissions,a=void 0===i?{}:i,c=t.id,l=t.isPending,u=t.error,f=t.tagged_message,p=void 0===f?"":f,d=t.translatedTaggedMessage,h=t.translations,y=t.currentUser,g=t.isDisabled,b=t.getAvatarUrl,S=t.getUserProfileUrl,E=t.getMentionWithQuery,w=t.mentionSelectorContacts,_=t.modified_at,k=t.onEdit,C=t.status,A=this.state,M=A.isConfirmingDelete,D=A.isEditing,P=A.isInputOpen,j=a.can_delete,R=k!==m.a&&a.can_edit,N=k!==m.a&&a.can_resolve,L=new Date(r).getTime(),U=n||pe.ne,K=void 0!==_&&_!==r,B=(j||R||N)&&!l,H=C===pe.z;return o.createElement($e,{className:"bcs-Comment"},o.createElement(ce,{className:s()("bcs-Comment-media",{"bcs-is-pending":l||u})},o.createElement(ce.Figure,null,o.createElement(z,{getAvatarUrl:b,user:U})),o.createElement(ce.Body,null,B&&o.createElement(O.a,{attachment:"top right",className:"bcs-Comment-deleteConfirmationModal",constraints:[{to:"scrollParent",attachment:"together"}],targetAttachment:"bottom right"},o.createElement(ce.Menu,{isDisabled:M,"data-testid":"comment-actions-menu",dropdownProps:{onMenuOpen:this.handleMenuOpen,onMenuClose:this.handleMenuClose},menuProps:{"data-resin-component":le.a.COMMENT_OPTIONS}},N&&H&&o.createElement(te.b,{className:"bcs-Comment-unresolveComment","data-resin-target":le.a.COMMENT_OPTIONS_EDIT,"data-testid":"unresolve-comment",onClick:function(){return e.handleStatusUpdate(pe.y)}},o.createElement(F.a,null),o.createElement(v.a,Bn.commentUnresolveMenuItem)),N&&!H&&o.createElement(te.b,{"data-resin-target":le.a.COMMENT_OPTIONS_EDIT,"data-testid":"resolve-comment",onClick:function(){return e.handleStatusUpdate(pe.z)}},o.createElement(T,null),o.createElement(v.a,Bn.commentResolveMenuItem)),R&&o.createElement(te.b,{"data-resin-target":le.a.COMMENT_OPTIONS_EDIT,"data-testid":"edit-comment",onClick:this.handleEditClick},o.createElement(I,null),o.createElement(v.a,Bn.commentEditMenuItem)),j&&o.createElement(te.b,{"data-resin-target":le.a.COMMENT_OPTIONS_DELETE,"data-testid":"delete-comment",onClick:this.handleDeleteClick},o.createElement(x,null),o.createElement(v.a,Bn.commentDeleteMenuItem))),M&&o.createElement(we,{"data-resin-component":le.a.COMMENT_OPTIONS,isOpen:M,message:Bn.commentDeletePrompt,onDeleteCancel:this.handleDeleteCancel,onDeleteConfirm:this.handleDeleteConfirm})),o.createElement("div",{className:"bcs-Comment-headline"},o.createElement(Je,{"data-resin-target":le.a.PROFILE,id:U.id,name:U.name,getUserProfileUrl:S})),o.createElement("div",{className:"bcs-Comment-timestamp"},o.createElement(xe,{date:L})),o.createElement(kt,{status:C}),D?o.createElement(Kn,{isDisabled:g,className:s()("bcs-Comment-editor",{"bcs-is-disabled":g}),updateComment:this.handleMessageUpdate,isOpen:P,user:y,onCancel:this.commentFormCancelHandler,onFocus:this.commentFormFocusHandler,isEditing:D,entityId:c,tagged_message:p,getAvatarUrl:b,mentionSelectorContacts:w,getMentionWithQuery:E}):o.createElement(wt,Hn({id:c,isEdited:K&&!H,tagged_message:p,translatedTaggedMessage:d},h,{translationFailed:!!u||null,getUserProfileUrl:S})))),u?o.createElement(rt,u):null)}}])&&Vn(n.prototype,r),i&&Vn(n,i),t}(o.Component);Qn(Xn,"defaultProps",{onDelete:m.a,onEdit:m.a});var Jn=Xn;function Yn(){return Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yn.apply(this,arguments)}var Zn=function(e){return o.createElement(C.a,Yn({width:16,height:16,viewBox:"0 0 16 16"},e),o.createElement("path",{d:"M8.802 14c.329 0 .596-.138.918-.433l4.944-4.851C14.918 8.482 15 8.22 15 8c0-.227-.082-.482-.336-.722L9.72 2.475C9.364 2.138 9.138 2 8.815 2 8.335 2 8 2.378 8 2.84V5h-.353C3.05 5.001 1 8.206 1 12.995c0 .647.336 1.005.713 1.005.301 0 .603-.09.836-.523 1.096-2.057 2.638-2.476 5.098-2.476H8v2.2c0 .462.336.799.802.799z",fill:k.k,fillRule:"evenodd"}))},$n=(n(940),Object(X.c)((function(e){var t=e.mentionSelectorContacts,n=e.getMentionWithQuery,r=e.isDisabled,i=void 0!==r&&r,a=e.intl,s=e.onFocus,c=void 0===s?m.a:s,l=e.onCancel,u=e.onSubmit,f=e.onClick,p=e.placeholder,d=void 0===p?a.formatMessage(Bn.replyInThread):p,h=e.showReplyForm;return o.createElement("div",{className:"bcs-CreateReply"},h&&!i?o.createElement(Kn,{className:"bcs-CreateReply-form",isOpen:!0,isEditing:!0,showTip:!1,onCancel:l,onFocus:c,createComment:function(e){var t=e.text;u(t)},mentionSelectorContacts:t,getMentionWithQuery:n,placeholder:d}):o.createElement(w.a,{className:"bcs-CreateReply-toggle",onClick:f,type:"button",isDisabled:i},o.createElement(Zn,{className:"bcs-CreateReply-arrow"}),o.createElement(v.a,Bn.reply)))}))),er=n(34),tr=function(e){var t=e.className,n=void 0===t?"":t,r=e.height,i=void 0===r?24:r,a=e.title,s=e.width,c=void 0===s?24:s;return o.createElement(er.a,{className:"bdl-IconAnnotation ".concat(n),height:i,title:a,viewBox:"0 0 32 32",width:c},o.createElement("g",{fillRule:"nonzero",fill:"none"},o.createElement("circle",{className:"background-color",fill:k.x,cx:"16.162",cy:"16.162",r:"16"}),o.createElement("path",{d:"M8.8 14.31c0 5.272 4.8 7.19 7.2 7.19v1.798a1.088 1.088 0 0 0 1.8.838c2.16-1.917 5.4-5.512 5.4-9.826 0-2.518-2.4-6.71-7.2-6.71-4.2 0-7.2 3.595-7.2 6.71Z",className:"foreground-color",fill:k.A})))};n(941);function nr(){return nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}var rr=function(e){var t=e.onShowReplies,n=e.onHideReplies,r=e.repliesShownCount,i=e.repliesTotalCount;if(i<=1)return null;var a=i>r,s=a?Bn.showReplies:Bn.hideReplies,c=Math.max(i-r,0);return o.createElement(w.a,{className:"bcs-RepliesToggle",onClick:function(){a?t():r&&n(r-1)},type:"button","data-testid":"replies-toggle"},o.createElement(v.a,nr({values:{repliesToLoadCount:c}},s)))};n(942),n(943);function or(){return or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},or.apply(this,arguments)}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ar=function(e){var t=e.annotationActivityLink,n=e.created_at,r=e.created_by,i=e.currentUser,a=e.error,c=e.getAvatarUrl,l=e.getMentionWithQuery,u=e.getUserProfileUrl,f=e.hasReplies,p=void 0!==f&&f,d=e.id,h=e.isDisabled,y=e.isPending,g=void 0!==y&&y,b=e.isRepliesLoading,S=void 0!==b&&b,E=e.mentionSelectorContacts,w=e.modified_at,_=e.onAnnotationEdit,k=e.onCommentEdit,C=e.onDelete,A=e.onHideReplies,M=e.onReplyCreate,D=e.onSelect,P=e.onShowReplies,j=e.permissions,R=void 0===j?{}:j,N=e.replies,L=void 0===N?[]:N,U=e.repliesTotalCount,K=void 0===U?0:U,B=e.status,H=e.tagged_message,V=void 0===H?"":H,q=e.translatedTaggedMessage,W=e.translations,G=ir(o.useState(!1),2),Q=G[0],X=G[1],J=ir(o.useState(!1),2),Y=J[0],Z=J[1],$=ir(o.useState(!1),2),ee=$[0],ne=$[1],re=function(e){_?_({id:d,permissions:R}):k&&k({id:d,status:e,hasMention:!1,permissions:R})},oe=null!==_&&void 0!==_?_:k,ie=R.can_delete,ae=oe!==m.a&&R.can_edit,se=oe!==m.a&&R.can_resolve,ue=new Date(n).getTime(),fe=r||pe.ne,de=void 0!==w&&w!==n,he=(ie||ae||se)&&!g,me=B===pe.z,ye={currentUser:i,getUserProfileUrl:u,getAvatarUrl:c,getMentionWithQuery:l,mentionSelectorContacts:E,translations:W};return o.createElement("div",{className:"bcs-BaseComment"},o.createElement(ce,{className:s()("bcs-Comment-media",{"bcs-is-pending":g||a})},o.createElement(ce.Figure,null,o.createElement(z,{getAvatarUrl:c,user:fe,badgeIcon:t&&o.createElement(tr,{title:o.createElement(v.a,Bn.annotationBadge)})})),o.createElement(ce.Body,null,he&&o.createElement(O.a,{attachment:"top right",className:"bcs-Comment-deleteConfirmationModal",constraints:[{to:"scrollParent",attachment:"together"}],targetAttachment:"bottom right"},o.createElement(ce.Menu,{isDisabled:Q,"data-testid":"comment-actions-menu",dropdownProps:{onMenuOpen:function(){return D(!0)},onMenuClose:function(){Q||Y||ee||D(!1)}},menuProps:{"data-resin-component":le.a.COMMENT_OPTIONS}},se&&me&&o.createElement(te.b,{className:"bcs-Comment-unresolveComment","data-resin-target":le.a.COMMENT_OPTIONS_EDIT,"data-testid":"unresolve-comment",onClick:function(){return re(pe.y)}},o.createElement(F.a,null),o.createElement(v.a,Bn.commentUnresolveMenuItem)),se&&!me&&o.createElement(te.b,{"data-resin-target":le.a.COMMENT_OPTIONS_EDIT,"data-testid":"resolve-comment",onClick:function(){return re(pe.z)}},o.createElement(T,null),o.createElement(v.a,Bn.commentResolveMenuItem)),ae&&o.createElement(te.b,{"data-resin-target":le.a.COMMENT_OPTIONS_EDIT,"data-testid":"edit-comment",onClick:function(){Z(!0),ne(!0),D(!0)}},o.createElement(I,null),o.createElement(v.a,Bn.commentEditMenuItem)),ie&&o.createElement(te.b,{"data-resin-target":le.a.COMMENT_OPTIONS_DELETE,"data-testid":"delete-comment",onClick:function(){X(!0),D(!0)}},o.createElement(x,null),o.createElement(v.a,Bn.commentDeleteMenuItem))),Q&&o.createElement(we,{"data-resin-component":le.a.COMMENT_OPTIONS,isOpen:Q,message:Bn.commentDeletePrompt,onDeleteCancel:function(){X(!1),D(!1)},onDeleteConfirm:function(){C({id:d,permissions:R}),D(!1)}})),o.createElement("div",{className:"bcs-Comment-headline"},o.createElement(Je,{"data-resin-target":le.a.PROFILE,id:fe.id,name:fe.name,getUserProfileUrl:u})),o.createElement("div",{className:"bcs-Comment-timestamp"},o.createElement(xe,{date:ue}),t),o.createElement(kt,{status:B}),Y?o.createElement(Kn,{isDisabled:h,className:s()("bcs-Comment-editor",{"bcs-is-disabled":h}),updateComment:function(e){var t=e.id,n=e.text,r=e.hasMention;_?_({id:t,text:n,permissions:R}):k&&k({id:t,text:n,hasMention:r,permissions:R}),ne(!1),Z(!1),D(!1)},isOpen:ee,user:i,onCancel:function(){ne(!1),Z(!1),D(!1)},onFocus:function(){ne(!0),D(!0)},isEditing:Y,entityId:d,tagged_message:V,getAvatarUrl:c,mentionSelectorContacts:E,getMentionWithQuery:l}):o.createElement(wt,or({id:d,isEdited:de&&!me,tagged_message:V,translatedTaggedMessage:q},W,{translationFailed:!!a||null,getUserProfileUrl:u})))),a?o.createElement(rt,a):null,p&&o.createElement(sr,or({},ye,{isParentPending:g,isRepliesLoading:S,onCommentEdit:k,onHideReplies:A,onReplyCreate:M,onReplySelect:D,onShowReplies:P,replies:L,repliesTotalCount:K})))},sr=function(e){var t=e.currentUser,n=e.getAvatarUrl,r=e.getMentionWithQuery,i=e.getUserProfileUrl,a=e.isParentPending,s=void 0!==a&&a,c=e.isRepliesLoading,l=void 0!==c&&c,u=e.mentionSelectorContacts,f=e.onCommentEdit,p=e.onReplyCreate,d=e.onReplySelect,h=void 0===d?m.a:d,y=e.onShowReplies,g=e.onHideReplies,v=e.replies,b=e.repliesTotalCount,S=void 0===b?0:b,E=e.translations,w=ir(o.useState(!1),2),_=w[0],O=w[1],k=function(e){var t=e.permissions,n=(t=void 0===t?{}:t).can_delete,r=void 0!==n&&n,o=t.can_edit,i=void 0!==o&&o,a=t.can_resolve;return{can_delete:r,can_edit:i,can_resolve:void 0!==a&&a}};return o.createElement("div",{className:"bcs-Replies"},!!y&&!!g&&o.createElement(rr,{onHideReplies:function(e){return g([v[e]])},onShowReplies:y,repliesShownCount:v.length,repliesTotalCount:S}),o.createElement("div",{className:"bcs-Replies-content"},l&&o.createElement("div",{className:"bcs-Replies-loading","data-testid":"replies-loading"},o.createElement(ft.b,null)),o.createElement("ol",{className:"bcs-Replies-list"},v.map((function(e){var a=e.id,c=e.type;return o.createElement("li",{key:"".concat(c).concat(a)},o.createElement(ar,or({},e,{currentUser:t,getAvatarUrl:n,getMentionWithQuery:r,getUserProfileUrl:i,isPending:s||e.isPending,mentionSelectorContacts:u,onCommentEdit:f,onSelect:h,onDelete:m.a,permissions:k(e),translations:E})))})))),!!p&&o.createElement($n,{getMentionWithQuery:r,isDisabled:s,mentionSelectorContacts:u,onCancel:function(){O(!1),h(!1)},onClick:function(){O(!0),h(!0)},onFocus:function(){return h(!0)},onSubmit:function(e){return function(e,t){O(!1),t(e)}(e,p)},showReplyForm:_}))};n(944);function cr(){return cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cr.apply(this,arguments)}var lr=function(e){var t=e.currentUser,n=e.getAvatarUrl,r=e.getMentionWithQuery,o=e.getUserProfileUrl,a=e.hasNewThreadedReplies,s=void 0!==a&&a,c=e.isRepliesLoading,l=e.mentionSelectorContacts,u=e.onDelete,f=e.onEdit,p=e.onSelect,d=e.replies,h=e.translations,m=function(e){var t=e.permissions,n=(t=void 0===t?{}:t).can_delete,r=void 0!==n&&n,o=t.can_edit,i=void 0!==o&&o,a=t.can_resolve;return{can_delete:r,can_edit:i,can_resolve:void 0!==a&&a}};return i.a.createElement("div",{className:"bcs-ActivityThreadReplies","data-testid":"activity-thread-replies"},c&&i.a.createElement("div",{className:"bcs-ActivityThreadReplies-loading","data-testid":"activity-thread-replies-loading"},i.a.createElement(ft.b,null)),d.map((function(e){return function(e){return s?i.a.createElement(ar,cr({key:"".concat(e.type).concat(e.id)},e,{currentUser:t,getAvatarUrl:n,getMentionWithQuery:r,getUserProfileUrl:o,mentionSelectorContacts:l,onDelete:u,onCommentEdit:f,onSelect:p,permissions:m(e),translations:h})):i.a.createElement(Jn,cr({key:"".concat(e.type).concat(e.id)},e,{currentUser:t,getAvatarUrl:n,getMentionWithQuery:r,getUserProfileUrl:o,mentionSelectorContacts:l,onDelete:u,onEdit:f,onSelect:p,permissions:m(e),translations:h}))}(e)})))},ur=Object(J.c)({annotationMissingError:{id:"be.activitySidebar.activityFeed.annotationMissingError",defaultMessage:"This comment no longer exists"},feedInlineErrorTitle:{id:"be.activitySidebar.activityFeed.feedInlineErrorTitle",defaultMessage:"Error"},taskMissingError:{id:"be.activitySidebar.activityFeed.taskMissingError",defaultMessage:"This task no longer exists"},commentMissingError:{id:"be.activitySidebar.activityFeed.commentMissingError",defaultMessage:"This comment no longer exists"},showReplies:{id:"be.activitySidebar.activityFeed.showReplies",defaultMessage:"See {repliesToLoadCount, plural, one {# reply} other {# replies}}"},hideReplies:{id:"be.activitySidebar.activityFeed.hideReplies",defaultMessage:"Hide replies"},reply:{id:"be.activitySidebar.activityFeed.reply",defaultMessage:"Reply"},replyInThread:{id:"be.activitySidebar.activityFeed.replyInThread",defaultMessage:"Reply in thread"}});n(945);function fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var pr=Object(X.c)((function(e){var t=e.mentionSelectorContacts,n=e.getMentionWithQuery,r=e.isDisabled,i=e.onFocus,a=e.onHide,s=e.onReplyCreate,c=e.onShow,l=e.intl,u=fr(o.useState(!1),2),f=u[0],p=u[1],d=l.formatMessage(ur.replyInThread),h=function(){p(!1),a()};return f?o.createElement(Kn,{className:"bcs-ActivityThreadReplyForm-comment",isOpen:!0,isEditing:!0,showTip:!1,user:{},getAvatarUrl:function(){return Promise.resolve()},onCancel:h,onFocus:i,createComment:function(e){var t=e.text;s(t),h()},mentionSelectorContacts:t,getMentionWithQuery:n,placeholder:d}):o.createElement(w.a,{className:"bcs-ActivityThreadReplyForm-toggle",onClick:function(){p(!0),c()},type:"button",isDisabled:r},o.createElement(Zn,{className:"bcs-ActivityThreadReplyForm-arrow"}),o.createElement(v.a,ur.reply))}));n(946);function dr(){return dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dr.apply(this,arguments)}var hr=function(e){var t=e.children,n=e.currentUser,r=e.getAvatarUrl,i=e.getMentionWithQuery,a=e.getUserProfileUrl,s=e.hasNewThreadedReplies,c=void 0!==s&&s,l=e.hasReplies,u=e.isAlwaysExpanded,f=void 0!==u&&u,p=e.isPending,d=e.isRepliesLoading,h=e.mentionSelectorContacts,y=e.onHideReplies,g=void 0===y?m.a:y,b=e.onReplyCreate,S=e.onReplyDelete,E=void 0===S?m.a:S,_=e.onReplyEdit,O=void 0===_?m.a:_,k=e.onReplySelect,C=void 0===k?m.a:k,A=e.onShowReplies,T=void 0===A?m.a:A,M=e.replies,x=void 0===M?[]:M,D=e.repliesTotalCount,I=void 0===D?0:D,F=e.translations,P=x.length,j=Math.max(I-P,0),R=function(){P&&g(x[P-1])},N=function(){C(!0)};return l?o.createElement("div",{className:"bcs-ActivityThread","data-testid":"activity-thread"},o.createElement("div",{className:"bcs-ActivityThread-selectWrapper"},o.createElement("div",{className:"bcs-ActivityThread-content"},t,f||d?null:I>P?o.createElement(w.a,{className:"bcs-ActivityThread-toggle",onClick:T,type:"button","data-testid":"activity-thread-button"},o.createElement(v.a,dr({values:{repliesToLoadCount:j}},ur.showReplies))):I>1&&I===P?o.createElement(w.a,{className:"bcs-ActivityThread-toggle",onClick:R,type:"button","data-testid":"activity-thread-button"},o.createElement(v.a,ur.hideReplies)):null,I>0&&P>0&&o.createElement(lr,{currentUser:n,getAvatarUrl:r,getMentionWithQuery:i,getUserProfileUrl:a,hasNewThreadedReplies:c,isRepliesLoading:d,mentionSelectorContacts:h,onDelete:E,onEdit:O,onSelect:C,replies:x,translations:F})),b&&o.createElement(pr,{getMentionWithQuery:i,isDisabled:p,mentionSelectorContacts:h,onFocus:N,onHide:function(){C(!1)},onShow:N,onReplyCreate:b}))):t};n(947);function mr(){return mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(this,arguments)}function yr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var gr=o.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.isFocused,a=e.isHoverable,c=void 0!==a&&a,l=e.hasNewThreadedReplies,u=void 0!==l&&l,f=yr(e,["children","className","isFocused","isHoverable","hasNewThreadedReplies"]);return o.createElement("li",mr({className:s()("bcs-ActivityItem",r,{"bcs-is-focused":i,"bcs-is-hoverable":c&&u,hasNewThreadedReplies:u}),ref:t},f),n)})),vr=n(601),br=Object(J.c)({appActivityDeleteMenuItem:{id:"be.appActivity.deleteMenuItem",defaultMessage:"Delete"},appActivityDeletePrompt:{id:"be.appActivity.deletePrompt",defaultMessage:"Are you sure you want to permanently delete this app activity?"},appActivityAltIcon:{id:"be.appActivity.altIcon",defaultMessage:"{appActivityName} Icon"}});n(948);function Sr(e){return Sr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e,t){return Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Or(e,t)}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e){var t=e.dataset,n=void 0===t?{}:t,r=e.href,i=void 0===r?"#":r,a=e.tagName,s=e.textContent;return"A"===a?o.createElement(De.a,{href:i,"data-resin-target":n.resinTarget,"data-resin-action":n.resinAction,key:"app_actvity_link_".concat(i),rel:"roreferrer noopener",className:"bcs-AppActivity-link",target:"_blank"},s):s}var Ar=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==Sr(t)&&"function"!==typeof t?_r(e):t}(this,(e=wr(t)).call.apply(e,[this].concat(o))),kr(_r(n),"parser",new DOMParser),kr(_r(n),"state",{isConfirmingDelete:!1}),kr(_r(n),"handleDeleteCancel",(function(){n.setState({isConfirmingDelete:!1})})),kr(_r(n),"handleDeleteClick",(function(){n.setState({isConfirmingDelete:!0})})),kr(_r(n),"handleDeleteConfirm",(function(){var e=n.props,t=e.id;(0,e.onDelete)({id:t,permissions:e.permissions})})),kr(_r(n),"parseActivity",(function(){var e=n.props.rendered_text,t=n.parser.parseFromString(e,"text/html");if(!t)return[];var r=d()(t,"body.childNodes",[]);return Array.from(r)})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activity_template.id,n=e.app,r=n.name,i=n.icon_url,a=e.created_at,c=e.created_by,l=e.currentUser,u=e.error,f=e.intl,p=e.isPending,h=e.permissions,m=d()(h,"can_delete",!1)||l&&l.id===c.id,y=new Date(a).getTime(),g=m&&!p,b=this.state.isConfirmingDelete;return o.createElement($e,{className:"bcs-AppActivity","data-resin-target":"loaded","data-resin-feature":"appActivityCard".concat(t)},o.createElement(ce,{className:s()({"bcs-is-pending":p||u})},o.createElement(ce.Figure,null,o.createElement("img",{className:"bcs-AppActivity-icon",alt:f.formatMessage(br.appActivityAltIcon,{appActivityName:r}),src:i})),o.createElement(ce.Body,{className:"bcs-AppActivity-body"},g&&o.createElement(O.a,{attachment:"top right",className:"bcs-AppActivity-confirm",constraints:[{to:"scrollParent",attachment:"together"}],targetAttachment:"bottom right"},o.createElement(ce.Menu,{isDisabled:b},o.createElement(te.b,{onClick:this.handleDeleteClick},o.createElement(vr.a,{color:k.m}),o.createElement(v.a,br.appActivityDeleteMenuItem))),b&&o.createElement(we,{isOpen:b,message:br.appActivityDeletePrompt,onDeleteCancel:this.handleDeleteCancel,onDeleteConfirm:this.handleDeleteConfirm})),o.createElement("figcaption",{className:"bcs-AppActivity-headline"},r),o.createElement("div",null,o.createElement(xe,{date:y})),this.parseActivity().map(Cr))))}}])&&Er(n.prototype,r),i&&Er(n,i),t}(o.PureComponent);kr(Ar,"defaultProps",{onDelete:m.a,permissions:{}});var Tr=Object(X.c)(Ar);n(949);function Mr(){return Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mr.apply(this,arguments)}function xr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Dr=Object(X.c)((function(e){var t=e.className,n=e.id,r=e.intl,i=e.isDisabled,a=void 0!==i&&i,c=e.message,l=e.onClick,u=void 0===l?m.a:l,f=xr(e,["className","id","intl","isDisabled","message","onClick"]),p=c.values,d=xr(c,["values"]),h=r.formatMessage(d,p);return o.createElement(w.a,Mr({className:s()("bcs-AnnotationActivityLink",t),"data-testid":"bcs-AnnotationActivity-link",isDisabled:a,onClick:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.focus(),u(n)},onMouseDown:function(e){a||e.nativeEvent.stopImmediatePropagation()},title:h,type:$.a.BUTTON},f),o.createElement("span",{className:"bcs-AnnotationActivityLink-message"},h))}));function Ir(){return Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ir.apply(this,arguments)}var Fr=function(e){return o.createElement(C.a,Ir({width:16,height:16,viewBox:"0 0 16 16"},e),o.createElement("path",{fill:k.k,d:"M6.617 14c.55 0 .968-.2 1.253-.603l6.34-9.273c.102-.15.175-.296.221-.438.046-.143.069-.28.069-.41a1.2 1.2 0 00-.387-.912C13.855 2.121 13.53 2 13.139 2c-.26 0-.482.05-.666.15-.183.101-.357.275-.52.523l-5.357 8.152-2.693-3.12a1.327 1.327 0 00-1.05-.476c-.39 0-.714.121-.97.364-.255.243-.383.55-.383.919 0 .163.029.319.087.466.058.147.162.302.311.466l3.518 4.023c.318.355.719.533 1.201.533z"}))},Pr=Object(J.c)({annotationActivityDeleteMenuItem:{id:"be.contentSidebar.activityFeed.annotationActivity.annotationActivityDeleteMenuItem",defaultMessage:"Delete"},annotationActivityDeletePrompt:{id:"be.contentSidebar.activityFeed.annotationActivity.annotationActivityDeletePrompt",defaultMessage:"Are you sure you want to permanently delete this comment?"},annotationActivityEditMenuItem:{id:"be.contentSidebar.activityFeed.annotationActivity.annotationActivityEditMenuItem",defaultMessage:"Modify"},annotationActivityPostedFullDateTime:{id:"be.contentSidebar.activityFeed.annotationActivity.annotationActivityPostedFullDateTime",defaultMessage:"{time, date, full} at {time, time, short}"},annotationActivityPageItem:{id:"be.contentSidebar.activityFeed.annotationActivityPageItem",defaultMessage:"Page {number}"},annotationActivityResolveMenuItem:{id:"be.contentSidebar.activityFeed.annotationActivity.annotationActivityResolveMenuItem",defaultMessage:"Resolve"},annotationActivityVersionLink:{id:"be.contentSidebar.activityFeed.annotationActivityVersionLink",defaultMessage:"Version {number}"},annotationActivityVersionUnavailable:{id:"be.contentSidebar.activityFeed.annotationActivityVersionUnavailable",defaultMessage:"Version Unavailable"},annotationActivityUnresolveMenuItem:{id:"be.contentSidebar.activityFeed.annotationActivity.annotationActivityUnresolveMenuItem",defaultMessage:"Unresolve"}}),jr=(n(950),function(e){var t=e.canDelete,n=e.canEdit,r=e.canResolve,i=e.className,a=e.id,c=e.isDisabled,l=e.onDelete,u=e.onEdit,f=e.onMenuClose,p=e.onMenuOpen,d=e.onStatusChange,h=e.status===pe.z;return o.createElement(ee.b,{constrainToScrollParent:!0,isRightAligned:!0,onMenuClose:f,onMenuOpen:p},o.createElement(w.a,{className:s()("bcs-AnnotationActivityMenu",i),isDisabled:c,"data-testid":"annotation-activity-actions-menu",type:"button"},o.createElement(Z.a,{color:k.k,height:16,width:16})),o.createElement(te.a,{"data-resin-component":"preview","data-resin-feature":"annotations"},r&&h&&o.createElement(te.b,{className:"bcs-AnnotationActivityMenu-unresolveAnnotation","data-resin-itemid":a,"data-resin-target":le.a.ANNOTATION_OPTIONS_UNRESOLVE,"data-testid":"unresolve-annotation-activity",onClick:function(){return d(pe.y)}},o.createElement(F.a,null),o.createElement(v.a,Pr.annotationActivityUnresolveMenuItem)),r&&!h&&o.createElement(te.b,{"data-resin-itemid":a,"data-resin-target":le.a.ANNOTATION_OPTIONS_RESOLVE,"data-testid":"resolve-annotation-activity",onClick:function(){return d(pe.z)}},o.createElement(Fr,null),o.createElement(v.a,Pr.annotationActivityResolveMenuItem)),n&&o.createElement(te.b,{"data-resin-itemid":a,"data-resin-target":le.a.ANNOTATION_OPTIONS_EDIT,"data-testid":"edit-annotation-activity",onClick:u},o.createElement(I,null),o.createElement(v.a,Pr.annotationActivityEditMenuItem)),t&&o.createElement(te.b,{"data-resin-itemid":a,"data-resin-target":le.a.ANNOTATION_OPTIONS_DELETE,"data-testid":"delete-annotation-activity",onClick:l},o.createElement(x,null),o.createElement(v.a,Pr.annotationActivityDeleteMenuItem))))}),Rr=n(259);n(951);function Nr(){return Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nr.apply(this,arguments)}function Lr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ur=["A","BUTTON"];function Kr(e){var t=e.target;return t instanceof HTMLElement&&Ur.includes(t.nodeName)}var Br=function(e){var t=e.children,n=e.className,r=e.isDisabled,i=void 0!==r&&r,a=e.onSelect,c=Lr(e,["children","className","isDisabled","onSelect"]),l=o.useRef(null);return o.createElement($e,Nr({ref:l,"aria-disabled":i,className:s()("bcs-SelectableActivityCard",n),onClick:function(e){i||Kr(e)||(e.preventDefault(),e.stopPropagation(),e.currentTarget.focus(),a())},onKeyDown:function(e){if(!i&&!Kr(e)){var t=Object(Rr.a)(e);"Space"!==t&&"Enter"!==t||a()}},role:"button",tabIndex:0},c),t)};n(952);function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qr=function(e){var t=e.currentUser,n=e.item,r=e.getAvatarUrl,i=e.getMentionWithQuery,a=e.getUserProfileUrl,c=e.hasVersions,l=e.isCurrentVersion,u=e.mentionSelectorContacts,f=e.onDelete,p=void 0===f?m.a:f,h=e.onEdit,y=void 0===h?m.a:h,g=e.onSelect,v=void 0===g?m.a:g,b=e.onStatusChange,S=void 0===b?m.a:b,E=Vr(o.useState(!1),2),w=E[0],_=E[1],k=Vr(o.useState(!1),2),C=k[0],A=k[1],T=Vr(o.useState(!1),2),M=T[0],x=T[1],D=n.created_at,I=n.created_by,F=n.description,P=n.error,j=n.file_version,R=n.id,N=n.isPending,L=n.modified_at,U=n.permissions,K=void 0===U?{}:U,B=n.status,H=n.target,V=K.can_delete,q=K.can_edit,W=K.can_resolve,G=void 0!==L&&L!==D,Q=null===j,X=!!P||w||M||C||Q,J=(V||q||W)&&!N,Y=B===pe.z,Z=function(){return v(n)},$=new Date(D).getTime(),ee=I||pe.ne,te=l?Pr.annotationActivityPageItem:Pr.annotationActivityVersionLink,ne=l?H.location.value:d()(j,"version_number"),re=F&&F.message||"",oe=Q?Pr.annotationActivityVersionUnavailable:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},te,{values:{number:ne}});return o.createElement(o.Fragment,null,o.createElement(Br,{className:"bcs-AnnotationActivity","data-resin-feature":"annotations","data-resin-iscurrent":l,"data-resin-itemid":R,"data-resin-target":"annotationButton",isDisabled:X,onMouseDown:function(e){X||e.stopPropagation()},onSelect:Z},o.createElement(ce,{className:s()("bcs-AnnotationActivity-media",{"bcs-is-pending":N||P})},o.createElement(ce.Figure,{className:"bcs-AnnotationActivity-avatar"},o.createElement(z,{getAvatarUrl:r,user:ee,badgeIcon:o.createElement(tr,null)})),o.createElement(ce.Body,null,o.createElement("div",{className:"bcs-AnnotationActivity-headline"},o.createElement(Je,{"data-resin-target":le.a.PROFILE,getUserProfileUrl:a,id:ee.id,name:ee.name})),o.createElement("div",{className:"bcs-AnnotationActivity-timestamp"},o.createElement(xe,{date:$}),c&&o.createElement(Dr,{className:"bcs-AnnotationActivity-link","data-resin-target":"annotationLink",id:R,isDisabled:Q,message:oe,onClick:Z})),o.createElement(kt,{status:B}),C&&t?o.createElement(Kn,{className:"bcs-AnnotationActivity-editor",entityId:R,getAvatarUrl:r,getMentionWithQuery:i,isEditing:C,isOpen:C,mentionSelectorContacts:u,onCancel:function(){return A(!1)},updateComment:function(e){var t=e.text;A(!1),y({id:R,text:t,permissions:K})},user:t,tagged_message:re}):o.createElement(wt,{getUserProfileUrl:a,id:R,isEdited:G&&!Y,tagged_message:re}))),P?o.createElement(rt,P):null),o.createElement(O.a,{attachment:"top right",className:"bcs-AnnotationActivity-deleteConfirmationModal",constraints:[{to:"scrollParent",attachment:"together"}],targetAttachment:"bottom right"},J&&o.createElement(jr,{canDelete:V,canEdit:q,canResolve:W,className:"bcs-AnnotationActivity-menu",id:R,isDisabled:w,status:B,onDelete:function(){return _(!0)},onEdit:function(){return A(!0)},onMenuClose:function(){return x(!1)},onMenuOpen:function(){return x(!0)},onStatusChange:function(e){return S(R,e,K)}}),w&&o.createElement(we,{"data-resin-component":le.a.ANNOTATION_OPTIONS,isOpen:w,message:Pr.annotationActivityDeletePrompt,onDeleteCancel:function(){return _(!1)},onDeleteConfirm:function(){_(!1),p({id:R,permissions:K})}})))},Wr=n(562),Gr=function(e){var t=e.className,n=void 0===t?"":t,r=e.height,i=void 0===r?24:r,a=e.title,s=e.width,c=void 0===s?24:s;return o.createElement(er.a,{className:"bdl-IconTaskApproval ".concat(n),height:i,title:a,viewBox:"0 0 32 32",width:c},o.createElement("g",{fill:"none",fillRule:"nonzero"},o.createElement("circle",{className:"background-color",fill:k.b,cx:"16",cy:"16",r:"16"}),o.createElement("g",{transform:"translate(8 5.333)",className:"foreground-color",fill:k.A},o.createElement("path",{d:"M11.267 6.51c-1.133 2.242-1.669 4.276-1.614 6.102.006.213-.177.388-.405.388H6.752c-.228 0-.41-.175-.405-.388.055-1.826-.481-3.86-1.614-6.102C2.953 2.986 4.557 0 8 0s5.047 2.986 3.267 6.51z"}),o.createElement("rect",{y:"14.337",width:"16",height:"3.353",rx:"1.676"}),o.createElement("rect",{x:"1.143",y:"18.808",width:"13.714",height:"1.192",rx:".596"}))))},Qr=function(e){var t=e.className,n=void 0===t?"":t,r=e.height,i=void 0===r?24:r,a=e.title,s=e.width,c=void 0===s?24:s;return o.createElement(er.a,{className:"bdl-IconTaskGeneral ".concat(n),height:i,title:a,viewBox:"0 0 32 32",width:c},o.createElement("g",{fillRule:"nonzero",fill:"none"},o.createElement("circle",{className:"background-color",fill:k.b,cx:"16.162",cy:"16.162",r:"16"}),o.createElement("path",{d:"M11.717 8.162v.889c0 1.472.995 2.666 2.222 2.666h4.445c1.227 0 2.222-1.194 2.222-2.666v-.89h1.281c.766 0 1.386.62 1.386 1.386v13.23c0 .764-.62 1.385-1.386 1.385H10.436c-.765 0-1.385-.62-1.385-1.386V9.546c0-.764.62-1.384 1.385-1.384h1.281zm6.463 6.503l-2.741 2.924-1.354-1.203a.889.889 0 1 0-1.18 1.329l2 1.778c.36.32.909.295 1.238-.057l3.334-3.555a.889.889 0 1 0-1.297-1.216zm-4.981-6.503h5.926v.889c0 .49-.332.888-.741.888h-4.445c-.409 0-.74-.398-.74-.888v-.89z",className:"foreground-color",fill:k.A})))},Xr=function(e){var t=e.className,n=void 0===t?"":t,r=e.color,i=void 0===r?"#777777":r,a=e.height,s=void 0===a?13:a,c=e.title,l=e.width,u=void 0===l?13:l;return o.createElement(er.a,{className:"icon-pencil ".concat(n),height:s,title:c,viewBox:"0 0 13 13",width:u},o.createElement("path",{className:"fill-color",d:"M12,1c-0.8-0.8-2.1-0.8-2.9,0L2,8.1c0,0,0,0-0.1,0.1l0,0c0,0,0,0,0,0.1l0,0L0.6,12c-0.1,0.2,0,0.4,0.2,0.5 c0.1,0,0.2,0,0.2,0l3.7-1.3l0,0c0,0,0,0,0.1,0l0,0c0,0,0,0,0.1-0.1l6.5-6.5l0,0L12,3.9C12.8,3.1,12.8,1.8,12,1z M4.6,10.2L2.8,8.4 l6-6l1.8,1.8L4.6,10.2z M2.4,9.1l1.5,1.5l-2.4,0.8L2.4,9.1z M11.5,3.4l-0.4,0.4L9.3,1.9l0.4-0.4c0.5-0.5,1.3-0.5,1.8,0 C12,2.1,12,2.9,11.5,3.4z",fill:i}))},Jr=(n(223),Object(J.c)({taskCollaboratorLoadErrorMessage:{id:"be.contentSidebar.activityFeed.taskNew.taskCollaboratorLoadErrorMessage",defaultMessage:"An error has occurred while loading collaborators for this task. Please try again."},taskShowMoreAssignees:{id:"be.contentSidebar.activityFeed.taskNew.taskShowMoreAssignees",defaultMessage:"Show {additionalAssigneeCount} More"},taskShowMoreAssigneesOverflow:{id:"be.contentSidebar.activityFeed.taskNew.taskShowMoreAssigneesOverflow",defaultMessage:"{additionalAssigneeCount, plural, one {Show #+ More} other {Show #+ More}}"},taskShowLessAssignees:{id:"be.contentSidebar.activityFeed.taskNew.taskShowLessAssignees",defaultMessage:"Show Less"},taskDueDateLabel:{id:"be.contentSidebar.activityFeed.taskNew.taskDueDateLabel",defaultMessage:"Due: {date}"},tasksFeedApproveAction:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedApproveAction",defaultMessage:"Approve"},tasksFeedCompleteAction:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedCompleteAction",defaultMessage:"Mark as Complete"},tasksFeedRejectAction:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedRejectAction",defaultMessage:"Reject"},tasksFeedViewDetailsAction:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedViewDetailsAction",defaultMessage:"View Task Details"},tasksFeedCompletedLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedCompletedLabel",defaultMessage:"Completed"},taskFeedCompletedUppercaseLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedCompletedUppercaseLabel",defaultMessage:"COMPLETED"},tasksFeedApprovedLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedApprovedLabel",defaultMessage:"Approved"},taskFeedApprovedUppercaseLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedApprovedUppercaseLabel",defaultMessage:"APPROVED"},tasksFeedRejectedLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedRejectedLabel",defaultMessage:"Rejected"},taskFeedRejectedUppercaseLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedRejectedUppercaseLabel",defaultMessage:"REJECTED"},tasksFeedInProgressLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedInProgressLabel",defaultMessage:"In Progress"},taskFeedInProgressUppercaseLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedInProgressUppercaseLabel",defaultMessage:"IN PROGRESS"},tasksFeedHeadlineApprovalCurrentUser:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedHeadlineApprovalCurrentUser",defaultMessage:"{user} assigned you an Approval Task"},tasksFeedHeadlineApproval:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedHeadlineApproval",defaultMessage:"{user} assigned an Approval Task"},tasksFeedHeadlineGeneralCurrentUser:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedHeadlineGeneralCurrentUser",defaultMessage:"{user} assigned you a Task"},tasksFeedHeadlineGeneral:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedHeadlineGeneral",defaultMessage:"{user} assigned a Task"},tasksFeedMoreAssigneesLabel:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedMoreAssigneesLabel",defaultMessage:"See all assignees"},tasksFeedAssigneeListTitle:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedAssigneeListTitle",defaultMessage:"Assignees"},tasksFeedStatusRejected:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedStatusRejected",defaultMessage:"Rejected {dateTime}"},tasksFeedStatusApproved:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedStatusApproved",defaultMessage:"Approved {dateTime}"},tasksFeedStatusCompleted:{id:"be.contentSidebar.activityFeed.taskNew.tasksFeedStatusCompleted",defaultMessage:"Completed {dateTime}"},taskFeedStatusDue:{id:"be.contentSidebar.activityFeed.taskNew.taskFeedStatusDue",defaultMessage:"DUE {dateTime}"},taskAssignmentCompleted:{id:"be.contentSidebar.activityFeed.taskNew.taskAssignmentCompleted",defaultMessage:"Completed"},taskDeleteMenuItem:{id:"be.contentSidebar.activityFeed.task.taskDeleteMenuItem",defaultMessage:"Delete task"},taskEditMenuItem:{id:"be.contentSidebar.activityFeed.task.taskEditMenuItem",defaultMessage:"Modify task"},taskDeletePrompt:{id:"be.contentSidebar.activityFeed.task.taskDeletePrompt",defaultMessage:"Are you sure you want to permanently delete this task?"},taskAnyAffordanceTooltip:{id:"be.contentSidebar.activityFeed.task.taskAnyAffordanceTooltip",defaultMessage:"Only one assignee is required to complete this task"},taskMultipleFilesAffordanceTooltip:{id:"be.contentSidebar.activityFeed.task.taskMultipleFilesAffordanceTooltip",defaultMessage:"There are multiple files associated with this task"}})),Yr=(n(953),function(e){var t=e.isMultiFile,n=e.onTaskApproval,r=e.onTaskReject,i=e.onTaskComplete,a=e.onTaskView,s=e.taskType,c=null;return t?c=a&&o.createElement(fe.a,{className:"bcs-TaskActions-button","data-testid":"view-task",onClick:a,"data-resin-target":le.a.TASK_VIEW_DETAILS},o.createElement(v.a,Jr.tasksFeedViewDetailsAction)):s===pe.Ze?c=o.createElement(o.Fragment,null,o.createElement($.b,{className:"bcs-TaskActions-button","data-testid":"reject-task",onClick:r,"data-resin-target":le.a.TASK_REJECT},o.createElement(v.a,Jr.tasksFeedRejectAction)),o.createElement(fe.a,{className:"bcs-TaskActions-button","data-testid":"approve-task",onClick:n,"data-resin-target":le.a.TASK_APPROVE},o.createElement(v.a,Jr.tasksFeedApproveAction))):s===pe.af&&(c=o.createElement(fe.a,{className:"bcs-TaskActions-button","data-testid":"complete-task",onClick:i,"data-resin-target":le.a.TASK_COMPLETE},o.createElement(v.a,Jr.tasksFeedCompleteAction))),o.createElement("div",{className:"bcs-TaskActions"},c)});function Zr(){return Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zr.apply(this,arguments)}var $r=function(e){return o.createElement(C.a,Zr({width:16,height:16,viewBox:"0 0 16 16"},e),o.createElement("path",{fill:k.g,fillRule:"evenodd",d:"M8 9.5a6.497 6.497 0 015.63 3.251.5.5 0 01-.865.5A5.497 5.497 0 008 10.5a5.497 5.497 0 00-4.767 2.754.5.5 0 11-.866-.5A6.497 6.497 0 018 9.5zM8 2a3 3 0 110 6 3 3 0 010-6zm0 1a2 2 0 100 4 2 2 0 000-4z"}))},eo=(n(954),function(e){return e.completionRule===pe.Qe&&o.createElement("span",{className:"bcs-TaskCompletionRuleIcon"},o.createElement(Ae.c,{position:"top-center",text:o.createElement(v.a,Jr.taskAnyAffordanceTooltip)},o.createElement(_t.a.Pill,null,o.createElement(_t.a.Icon,{Component:$r}),o.createElement(_t.a.Text,{className:"bcs-TaskCompletionRuleIcon-oneSize"},"1"))))});function to(){return to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},to.apply(this,arguments)}var no,ro,oo=function(e){var t=e.dueDate,n=e.status,r=!!t&&(n===pe.Xe&&new Date(t)<Date.now()),i=new Date(t),a=r?{"data-testid":"task-overdue-date",type:"error"}:{type:"default"};return o.createElement("div",{"data-testid":"task-due-date"},o.createElement(_t.a.Pill,a,o.createElement(_t.a.Text,null,o.createElement(v.a,to({},Jr.taskFeedStatusDue,{values:{dateTime:o.createElement(Ce,{date:i.getTime(),uppercase:!0})}})))))};function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ao=(io(no={},pe.Ue,Jr.taskFeedApprovedUppercaseLabel),io(no,pe.Ve,Jr.taskFeedCompletedUppercaseLabel),io(no,pe.Ye,Jr.taskFeedRejectedUppercaseLabel),io(no,pe.Xe,Jr.taskFeedInProgressUppercaseLabel),io(no,pe.We,Jr.taskFeedInProgressUppercaseLabel),no),so=(io(ro={},pe.Ue,"success"),io(ro,pe.Ve,"success"),io(ro,pe.Ye,"error"),io(ro,pe.Xe,"default"),io(ro,pe.We,"default"),ro),co=o.memo((function(e){var t=e.status;return o.createElement(_t.a.Pill,{type:so[t]},o.createElement(_t.a.Text,null,o.createElement(v.a,ao[t])))})),lo=n(955),uo=n.n(lo),fo=n(622),po=function(e){var t=e.className,n=void 0===t?"":t,r=e.color,i=void 0===r?"#ED3757":r,a=e.height,s=void 0===a?18:a,c=e.title,l=e.width,u=void 0===l?18:l;return o.createElement(er.a,{className:"icon-rejected ".concat(n),height:s,title:c,viewBox:"0 0 18 18",width:u},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("circle",{cx:9,cy:9,fill:i,r:9}),o.createElement("path",{d:"M9 7.586l2.828-2.829 1.415 1.415L10.414 9l2.829 2.828-1.415 1.415L9 10.414l-2.828 2.829-1.415-1.415L7.586 9 4.757 6.172l1.415-1.415z",fill:"#FFF",fillRule:"nonzero"})))};n(957);function ho(){return ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(this,arguments)}function mo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var yo,go=function(e){var t=e.status,n=mo(e,["status"]);switch(t){case pe.Ue:case pe.Ve:return o.createElement(fo.a,n);case pe.Ye:return o.createElement(po,n);case pe.Xe:default:return null}},vo=o.memo((function(e){var t=e.user,n=e.status,r=e.getAvatarUrl,i=e.className,a=mo(e,["user","status","getAvatarUrl","className"]);return o.createElement("div",ho({className:s()("bcs-AvatarGroupAvatar",i),"data-testid":"avatar-group-avatar-container"},a),o.createElement(z,{badgeIcon:o.createElement(go,{className:"".concat(uo()(n)),status:n,title:o.createElement(v.a,Jr.taskAssignmentCompleted)}),className:"bcs-AvatarGroupAvatar-avatar",getAvatarUrl:r,user:t}))}));n(958);function bo(){return bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eo=(So(yo={},pe.Ue,Jr.tasksFeedStatusApproved),So(yo,pe.Ye,Jr.tasksFeedStatusRejected),So(yo,pe.Ve,Jr.tasksFeedStatusCompleted),So(yo,pe.Xe,null),yo),wo=o.memo((function(e){var t=e.user,n=e.status,r=e.completedAt,i=e.className,a=Eo[n]||null;return o.createElement("div",{className:s()(i,"bcs-AssigneeDetails")},o.createElement("div",{className:"bcs-AssigneeDetails-name"},t.name?t.name:o.createElement(v.a,ue.a.priorCollaborator)),a&&r&&o.createElement("div",{className:"bcs-AssigneeDetails-status"},o.createElement(v.a,bo({},a,{values:{dateTime:o.createElement(Ce,{date:r})}}))))}));n(959);function _o(){return _o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(this,arguments)}var Oo=function(e){var t=e.initialAssigneeCount,n=void 0===t?3:t,r=e.users,i=void 0===r?{}:r,a=e.getAvatarUrl,s=e.isOpen,c=e.onCollapse,l=e.onExpand,u=i.entries,f=void 0===u?[]:u,p=i.next_marker,d=f.length,h=s?d:n,m=f.slice(0,h).map((function(e){var t=e.id,n=e.target,r=e.status,i=e.completed_at;return o.createElement("li",{key:t,className:"bcs-AssigneeList-listItem","data-testid":"assignee-list-item"},o.createElement(vo,{status:r,className:"bcs-AssigneeList-listItemAvatar",user:n,getAvatarUrl:a}),o.createElement(wo,{user:n,status:r,completedAt:i}))})),y=Math.max(0,d-n),g=20-n,b=y>g||p,S=b?Jr.taskShowMoreAssigneesOverflow:Jr.taskShowMoreAssignees;return o.createElement("div",{className:"bcs-AssigneeList"},o.createElement("ul",{className:"bcs-AssigneeList-list","data-testid":"task-assignee-list"},m),!s&&y>0&&o.createElement("div",{className:"bcs-AssigneeList-toggleBtn"},o.createElement(w.a,{"data-resin-target":"showmorebtn","data-testid":"show-more-assignees",onClick:l,className:"lnk"},o.createElement(v.a,_o({},S,{values:{additionalAssigneeCount:b?g:y}})))),s&&o.createElement("div",{className:"bcs-AssigneeList-toggleBtn"},o.createElement(w.a,{"data-resin-target":"showlessbtn","data-testid":"show-less-assignees",onClick:c,className:"lnk"},o.createElement(v.a,Jr.taskShowLessAssignees))))},ko=n(593),Co=n(960),Ao=n.n(Co),To=Object(J.c)({taskCreateErrorTitle:{id:"be.contentSidebar.activityFeed.taskForm.taskCreateErrorTitle",defaultMessage:"Error"},taskEditWarningTitle:{id:"be.contentSidebar.activityFeed.taskForm.taskEditWarningTitle",defaultMessage:"Task Updated with Errors"},taskGroupExceedsLimitWarningTitle:{id:"be.contentSidebar.activityFeed.taskForm.taskGroupExceedsWarningTitle",defaultMessage:"Exceeded max assignees per group"},taskUpdateErrorMessage:{id:"be.contentSidebar.activityFeed.taskForm.taskUpdateErrorMessage",defaultMessage:"An error occurred while modifying this task. Please try again."},taskApprovalAssigneeRemovalWarningMessage:{id:"be.contentSidebar.activityFeed.taskForm.taskApprovalAssigneeRemovalWarningMessage",defaultMessage:"Unable to remove assignee(s) because the task is now approved."},taskGeneralAssigneeRemovalWarningMessage:{id:"be.contentSidebar.activityFeed.taskForm.taskGeneralAssigneeRemovalWarningMessage",defaultMessage:"Unable to remove assignee(s) because the task is now completed."},tasksAddTaskFormSelectAssigneesLabel:{id:"be.contentSidebar.activityFeed.taskForm.tasksAddTaskFormSelectAssigneesLabel",defaultMessage:"Select Assignees"},tasksAddTaskFormMessageLabel:{id:"be.contentSidebar.activityFeed.taskForm.tasksAddTaskFormMessageLabel",defaultMessage:"Message"},tasksAddTaskFormDueDateLabel:{id:"be.contentSidebar.activityFeed.taskForm.tasksAddTaskFormDueDateLabel",defaultMessage:"Due Date"},tasksAddTaskFormSubmitLabel:{id:"be.contentSidebar.activityFeed.taskForm.tasksAddTaskFormSubmitLabel",defaultMessage:"Create"},tasksEditTaskFormSubmitLabel:{id:"be.contentSidebar.activityFeed.taskForm.tasksEditTaskFormSubmitLabel",defaultMessage:"Update"},tasksAddTaskFormCancelLabel:{id:"be.contentSidebar.activityFeed.taskForm.tasksAddTaskFormCancelLabel",defaultMessage:"Cancel"},taskAnyCheckboxLabel:{id:"be.contentSidebar.activityFeed.taskForm.taskAnyCheckboxLabel",defaultMessage:"Only one assignee is required to complete this task"},taskAnyInfoTooltip:{id:"be.contentSidebar.activityFeed.taskForm.taskAnyInfoTooltip",defaultMessage:"By default, all assignees are required to take action before a task is complete. Selecting this option will require only one assignee to complete this task."},taskAnyInfoGroupTooltip:{id:"be.contentSidebar.activityFeed.taskForm.taskAnyInfoGroupTooltip",defaultMessage:"Selecting this option will require only one assignee to complete this task. This will include assignees across all groups."},taskCreateGroupLabel:{id:"be.contentSidebar.activityFeed.taskForm.taskCreateGroupLabel",defaultMessage:"Group"}}),Mo=n(594);n(961);function xo(e){return xo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(e)}function Do(){return Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(this,arguments)}function Io(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Po(e)}function jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ro(e,t){return Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ro(e,t)}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==xo(t)&&"function"!==typeof t?jo(e):t}(this,Po(t).call(this,e)),No(jo(n),"isMounted",!1),No(jo(n),"getAvatarUrlHandler",(function(e){n.isMounted&&n.setState({avatarUrl:e})})),n.state={avatarUrl:void 0},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}(t,e),n=t,(r=[{key:"getAvatarUrl",value:function(){var e=this.props,t=e.getContactAvatarUrl,n=e.id;Promise.resolve(t&&n?t({id:n}):void 0).then(this.getAvatarUrlHandler).catch((function(){}))}},{key:"componentDidMount",value:function(){this.isMounted=!0,this.getAvatarUrl()}},{key:"componentWillUnmount",value:function(){this.isMounted=!1}},{key:"render",value:function(){var e=this.props,t=(e.getContactAvatarUrl,e.id),n=e.isExternal,r=e.name,i=e.showAvatar,a=e.subtitle,s=Io(e,["getContactAvatarUrl","id","isExternal","name","showAvatar","subtitle"]),c=this.state.avatarUrl;return o.createElement(Pt.a,Do({className:"contact-data-list-item"},s),i&&o.createElement(P.a,{className:"contact-avatar",id:t,name:r,isExternal:n,shouldShowExternal:!0,avatarUrl:c}),o.createElement("div",{className:"contact-name-container"},o.createElement("div",{className:"contact-text contact-name"},r),a&&o.createElement("div",{className:"contact-text contact-sub-name"},a)))}}])&&Fo(n.prototype,r),i&&Fo(n,i),t}(o.PureComponent),Uo=n(582);n(962);function Ko(){return Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}function Bo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var zo=function(e){var t=e.className,n=void 0===t?"":t,r=e.description,i=e.error,a=e.errorTooltipPosition,c=e.hideLabel,l=e.hideOptionalLabel,u=e.isRequired,f=e.isResizable,p=e.label,d=e.textareaRef,h=e.tooltipTetherClassName,m=Bo(e,["className","description","error","errorTooltipPosition","hideLabel","hideOptionalLabel","isRequired","isResizable","label","textareaRef","tooltipTetherClassName"]),y=!!i,v=s()(n,"text-area-container",{"show-error":y}),b=o.useRef(g()("errorMessage")).current,S=o.useRef(g()("description")).current,E={"aria-invalid":y,"aria-required":u,"aria-errormessage":b,"aria-describedby":r?S:void 0};return o.createElement("div",{className:v},o.createElement(Uo.a,{hideLabel:c,showOptionalText:!l&&!u,text:p},!!r&&o.createElement("div",{id:S,className:"text-area-description"},r),o.createElement(Ae.c,{isShown:y,position:a||"bottom-left",tetherElementClassName:h,text:i||"",theme:"error"},o.createElement("textarea",Ko({ref:d,required:u,style:{resize:f?"":"none"}},E,m))),o.createElement("span",{id:b,className:"accessibility-hidden",role:"alert"},i)))};zo.displayName="TextArea";var Ho=zo;var Vo=n(602),qo=n(571),Wo=Object(J.c)({checkboxTooltipIconInfoText:{id:"boxui.checkboxTooltip.iconInfoText",defaultMessage:"Info"}}),Go=function(e){var t=e.tooltip;return o.createElement("div",{className:"checkbox-tooltip-wrapper"},o.createElement(Ae.c,{text:t},o.createElement("div",{className:"info-tooltip"},o.createElement(qo.a,{height:16,title:o.createElement(v.a,Wo.checkboxTooltipIconInfoText),width:16}))))};n(963);function Qo(){return Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qo.apply(this,arguments)}function Xo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Jo=function(e){var t=e.className,n=void 0===t?"":t,r=e.description,i=e.fieldLabel,a=e.hideLabel,c=e.id,l=e.inputClassName,u=e.isChecked,f=e.isDisabled,p=e.label,d=e.name,h=e.onFocus,m=e.onChange,y=e.subsection,v=e.tooltip,b=Xo(e,["className","description","fieldLabel","hideLabel","id","inputClassName","isChecked","isDisabled","label","name","onFocus","onChange","subsection","tooltip"]),S=o.useRef(g()("checkbox")).current,E=c||S,w=o.createElement("span",{className:"checkbox-label"},o.createElement("input",Qo({"aria-describedby":r?"description_".concat(E):"",checked:u,className:l,disabled:f,id:E,name:d,onFocus:h,onChange:m,type:"checkbox"},b)),o.createElement("span",{className:"checkbox-pointer-target"}),o.createElement("span",{className:s()("bdl-Checkbox-labelTooltipWrapper",{"accessibility-hidden":a})},p&&o.createElement("label",{htmlFor:E},p),v&&o.createElement(Go,{tooltip:v})));return o.createElement("div",{className:s()("checkbox-container",n,{"is-disabled bdl-is-disabled":f})},i&&o.createElement("div",{className:"label"},i),w,r?o.createElement("div",{id:"description_".concat(E),className:"checkbox-description"},r):null,y?o.createElement("div",{className:"checkbox-subsection"},y):null)};n(651);var Yo=function(e){if(null===e||"undefined"===typeof e)return[];var t=e.match(/(".*?"|[^",\r\n]+)(?=\s*[,\r\n]|\s*$)/g);return t?t.map((function(e){for(e=e.trim();e.length>=2&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1);)e=e.substr(1,e.length-2);return e})):[]},Zo=n(701);n(964);function $o(e){return $o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function ei(){return ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(this,arguments)}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e){return ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ni(e)}function ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oi(e,t){return oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oi(e,t)}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ai=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==$o(t)&&"function"!==typeof t?ri(e):t}(this,(e=ni(t)).call.apply(e,[this].concat(o))),ii(ri(n),"state",{inputValue:"",isInCompositionMode:!1}),ii(ri(n),"parsePills",(function(e){var t=n.props,r=t.allowInvalidPills,o=t.parseItems,i=t.validator,a=o?o(e):Yo(e);return a?(r||(a=a.filter((function(e){return i(e)}))),a.map((function(e){return"string"===typeof e?{displayText:e,text:e,value:e}:e}))):[]})),ii(ri(n),"addPillsFromInput",(function(e){var t=n.props,r=t.allowCustomPills,o=t.onPillCreate,i=t.onSelect,a=t.selectedOptions,s=t.shouldClearUnmatchedInput,c=t.validateForError;if(r){var l=n.parsePills(e);l.length>0?(i(l),o(l),n.resetInputValue()):(!c||""===e&&0!==a.length||c(e),s&&n.resetInputValue())}})),ii(ri(n),"handleBlur",(function(e){var t=n.props.onBlur,r=n.state.inputValue;n.addPillsFromInput(r),t(e)})),ii(ri(n),"handleInput",(function(e){var t=e.target.value;n.setState({inputValue:t}),n.props.onInput(t,e)})),ii(ri(n),"handleEnter",(function(e){var t=n.state,r=t.isInCompositionMode,o=t.inputValue;r||(e.preventDefault(),n.addPillsFromInput(o))})),ii(ri(n),"handlePaste",(function(e){e.preventDefault();var t=e.clipboardData.getData("text");n.setState({inputValue:t}),n.props.onInput(t,e),n.addPillsFromInput(t)})),ii(ri(n),"handleSelect",(function(e,t){var r=n.props,o=r.onPillCreate,i=r.onSelect,a=r.selectorOptions,s="function"===typeof a.get?a.get(e):a[e];i([s],t),o([s]),n.handleInput({target:{value:""}})})),ii(ri(n),"handleCompositionStart",(function(){n.setState({isInCompositionMode:!0})})),ii(ri(n),"handleCompositionEnd",(function(){n.setState({isInCompositionMode:!1})})),ii(ri(n),"resetInputValue",(function(){var e=n.props.onInput;n.setState({inputValue:""}),e("")})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.allowInvalidPills,n=e.children,r=e.className,i=e.disabled,a=e.dividerIndex,c=e.dropdownScrollBoundarySelector,l=e.error,u=e.errorTooltipPosition,f=e.getPillClassName,p=e.getPillImageUrl,d=e.inputProps,h=e.isPositionDynamic,y=e.label,g=e.onRemove,v=e.onSuggestedPillAdd,b=e.overlayTitle,S=e.placeholder,E=e.selectedOptions,w=e.showAvatars,_=e.showRoundedPills,O=e.suggestedPillsData,k=e.suggestedPillsFilter,C=e.suggestedPillsTitle,A=e.shouldSetActiveItemOnOpen,T=e.validator,M=o.createElement(Wt.a,{className:s()("bdl-PillSelectorDropdown","pill-selector-wrapper",r),dividerIndex:a,isPositionDynamic:h,onEnter:this.handleEnter,onSelect:this.handleSelect,overlayTitle:b,scrollBoundarySelector:c,shouldSetActiveItemOnOpen:A,selector:o.createElement(Zo.a,ei({onChange:m.a,onCompositionEnd:this.handleCompositionEnd,onCompositionStart:this.handleCompositionStart},d,{allowInvalidPills:t,disabled:i,error:l,errorTooltipPosition:u,getPillClassName:f,getPillImageUrl:p,onBlur:this.handleBlur,onInput:this.handleInput,onPaste:this.handlePaste,onRemove:g,onSuggestedPillAdd:v,placeholder:S,selectedOptions:E,showAvatars:w&&_,showRoundedPills:_,suggestedPillsData:O,suggestedPillsFilter:k,suggestedPillsTitle:C,validator:T,value:this.state.inputValue}))},n);return y?o.createElement(Uo.a,{text:y},M):M}}])&&ti(n.prototype,r),i&&ti(n,i),t}(o.Component);ii(ai,"defaultProps",{allowCustomPills:!1,allowInvalidPills:!1,disabled:!1,error:"",inputProps:{},label:"",onBlur:m.a,onPillCreate:m.a,placeholder:"",selectedOptions:[],selectorOptions:[],shouldClearUnmatchedInput:!1,shouldSetActiveItemOnOpen:!1,validator:function(){return!0}});var si=ai,ci=n(39),li=n(552);function ui(){return ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ui.apply(this,arguments)}var fi=function(e){var t=e.editMode,n=e.error,r=e.taskType,i=t===pe.Se,a=403===d()(n,"status")&&i,s=d()(n,"code")===pe.Gb,c=a?To.taskEditWarningTitle:To.taskCreateErrorTitle,l=i?To.taskUpdateErrorMessage:ci.a.taskCreateErrorMessage;if(!n)return null;if(a)switch(r){case"GENERAL":l=To.taskGeneralAssigneeRemovalWarningMessage;break;case"APPROVAL":l=To.taskApprovalAssigneeRemovalWarningMessage;break;default:return null}return s?o.createElement(li.a,{type:"warning",title:o.createElement(v.a,To.taskGroupExceedsLimitWarningTitle)},o.createElement(v.a,ui({},ci.a.taskGroupExceedsLimitWarningMessage,{values:{max:pe.Te}}))):o.createElement(li.a,{type:"error",title:o.createElement(v.a,c)},o.createElement(v.a,l))};n(965);function pi(e){return pi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function di(){return di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},di.apply(this,arguments)}function hi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){Ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vi(e)}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e,t){return Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Si(e,t)}function Ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wi(e){return e.map((function(e){var t=e.target;return{id:t.id,name:t.name,item:t,value:t.id,text:t.name}}))}var _i=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==pi(t)&&"function"!==typeof t?bi(e):t}(this,(e=vi(t)).call.apply(e,[this].concat(o))),Ei(bi(n),"state",n.getInitialFormState()),Ei(bi(n),"validateForm",(function(e,t){n.setState((function(r){var o=n.props.intl,i=r.approvers,a=r.message,s=r.approverTextInput,c={code:"required",message:o.formatMessage(jt.a.requiredFieldError)},l={code:"invalid",message:o.formatMessage(jt.a.invalidUserError)},u={code:"required",message:o.formatMessage(jt.a.requiredFieldError)},f={code:"invalid",message:o.formatMessage(jt.a.invalidDateError)},p={taskAssignees:(s.length?l:null)||(i.length?null:c),taskName:a?null:u,taskDueDate:d()(t,"taskDueDate.validityState.patternMismatch")?f:null};return{isValid:Object.values(p).every((function(e){return null==e})),formValidityState:e?yi({},r.formValidityState,Ei({},e,p[e])):p}}))})),Ei(bi(n),"getErrorByFieldname",(function(e){var t=n.state.formValidityState;return t[e]?t[e].message:null})),Ei(bi(n),"clearForm",(function(){return n.setState(n.getInitialFormState())})),Ei(bi(n),"handleInvalidSubmit",(function(e){Ao()(e)?n.validateForm():n.validateForm(void 0,e)})),Ei(bi(n),"handleSubmitSuccess",(function(){var e=n.props.onSubmitSuccess;e&&e(),n.clearForm(),n.setState({isLoading:!1})})),Ei(bi(n),"handleSubmitError",(function(e){(0,n.props.onSubmitError)(e),n.setState({isLoading:!1})})),Ei(bi(n),"addResinInfo",(function(){var e=n.props,t=e.id,r=e.taskType,o=e.editMode,i=n.state.dueDate,a=n.getAddedAssignees(),s=n.getRemovedAssignees();return{"data-resin-taskid":t,"data-resin-tasktype":r,"data-resin-isediting":o===pe.Se,"data-resin-numassigneesadded":a.filter((function(e){return"user"===e.target.type})).length,"data-resin-numgroupssadded":a.filter((function(e){return"group"===e.target.type})).length,"data-resin-numassigneesremoved":s.length,"data-resin-assigneesadded":a.map((function(e){return e.target.id})),"data-resin-assigneesremoved":s.map((function(e){return e.target.id})),"data-resin-duedate":i&&i.getTime()}})),Ei(bi(n),"getAddedAssignees",(function(){var e=n.props.approvers,t=n.state.approvers,r=e.map((function(e){return e.id}));return t.filter((function(e){return-1===r.indexOf(e.id)}))})),Ei(bi(n),"getRemovedAssignees",(function(){var e=n.props.approvers,t=n.state.approvers.map((function(e){return e.id}));return e.filter((function(e){return-1===t.indexOf(e.id)}))})),Ei(bi(n),"handleValidSubmit",(function(){var e=n.props,t=e.id,r=e.createTask,o=e.editTask,i=e.editMode,a=e.taskType,s=n.state,c=s.message,l=s.approvers,u=s.dueDate,f=s.completionRule,p=s.isValid,d=u&&u.toISOString();p&&(n.setState({isLoading:!0}),i===pe.Se&&o?o({id:t,completion_rule:f,description:c,due_at:d,addedAssignees:wi(n.getAddedAssignees()),removedAssignees:n.getRemovedAssignees()},n.handleSubmitSuccess,n.handleSubmitError):r(c,wi(l),a,d,f,n.handleSubmitSuccess,n.handleSubmitError))})),Ei(bi(n),"handleDueDateChange",(function(e){var t=null;e&&(t=new Date(e)).setHours(23,59,59,999),n.setState({dueDate:t}),n.validateForm("taskDueDate")})),Ei(bi(n),"handleCompletionRuleChange",(function(e){n.setState({completionRule:e.target.checked?pe.Qe:pe.Pe})})),Ei(bi(n),"handleApproverSelectorInput",(function(e){var t=n.props.getApproverWithQuery,r=void 0===t?m.a:t;n.setState({approverTextInput:e}),r(e)})),Ei(bi(n),"handleApproverSelectorSelect",(function(e){n.setState({approvers:n.state.approvers.concat(e.map((function(e){return{id:"",target:e.item,role:"ASSIGNEE",type:"task_collaborator",status:"NOT_STARTED",permissions:{can_delete:!1,can_update:!1}}}))),approverTextInput:""}),n.validateForm("taskAssignees")})),Ei(bi(n),"handleApproverSelectorRemove",(function(e,t){var r=hi(n.state.approvers);r.splice(t,1),n.setState({approvers:r}),n.validateForm("taskAssignees")})),Ei(bi(n),"handleChangeMessage",(function(e){e.persist(),n.setState({message:e.currentTarget.value}),n.validateForm("taskName")})),Ei(bi(n),"handleCancelClick",(function(){n.props.onCancel()})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(t,e),n=t,(r=[{key:"getInitialFormState",value:function(){var e=this.props,t=e.dueDate,n=e.id,r=e.message,o=e.approvers;return{id:n,completionRule:e.completionRule||pe.Pe,approvers:o,approverTextInput:"",dueDate:t?new Date(t):null,formValidityState:{},message:r,isLoading:!1,isValid:null}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.approverSelectorContacts,i=n.className,a=n.error,c=n.isDisabled,l=n.intl,u=n.editMode,f=n.taskType,p=this.state,h=p.dueDate,m=p.approvers,y=p.message,g=p.formValidityState,b=p.isLoading,S=p.completionRule,E=s()("bcs-task-input-container","bcs-task-input-is-open",i),w=u===pe.Re,_=wi(m),O=r.filter((function(e){var t=e.id;return!_.find((function(e){return e.value===t}))})),k=s()({scrollable:O.length>4}),C=w?To.tasksAddTaskFormSubmitLabel:To.tasksEditTaskFormSubmitLabel,A=m.length>0,T=m.filter((function(e){return"group"===e.target.type})).length<=0&&m.filter((function(e){return"user"===e.target.type})).length<=1,M=S===pe.Qe,x=b||403===d()(a,"status")&&!w;return o.createElement("div",{className:E,"data-resin-component":"taskform"},o.createElement("div",{className:"bcs-task-input-form-container"},o.createElement(fi,{editMode:u,error:a,taskType:f}),o.createElement(In.a,{formValidityState:g,onInvalidSubmit:this.handleInvalidSubmit,onValidSubmit:this.handleValidSubmit},o.createElement(si,{className:k,error:this.getErrorByFieldname("taskAssignees"),disabled:x,inputProps:{"data-testid":"task-form-assignee-input"},isRequired:!0,label:o.createElement(v.a,To.tasksAddTaskFormSelectAssigneesLabel),name:"taskAssignees",onBlur:function(){return t.validateForm("taskAssignees")},onInput:this.handleApproverSelectorInput,onRemove:this.handleApproverSelectorRemove,onSelect:this.handleApproverSelectorSelect,placeholder:l.formatMessage(Tt.approvalAddAssignee),selectedOptions:_,selectorOptions:O,shouldSetActiveItemOnOpen:!0,shouldClearUnmatchedInput:!0,validateForError:function(){return t.validateForm("taskAssignees")}},O.map((function(e){var t=e.id,n=e.name,r=e.item,i=void 0===r?{}:r;return o.createElement(Lo,{key:t,"data-testid":"task-assignee-option",name:n,subtitle:"group"===i.type?o.createElement(v.a,To.taskCreateGroupLabel):i.email})}))),A&&o.createElement(o.Fragment,null,o.createElement(ht.FeatureFlag,{feature:"activityFeed.tasks.assignToGroup"},o.createElement(Jo,{"data-testid":"task-form-completion-rule-checkbox-group",isChecked:M,isDisabled:T||x,label:o.createElement(v.a,To.taskAnyCheckboxLabel),tooltip:l.formatMessage(To.taskAnyInfoGroupTooltip),name:"completionRule",onChange:this.handleCompletionRuleChange})),o.createElement(ht.FeatureFlag,{not:!0,feature:"activityFeed.tasks.assignToGroup"},o.createElement(Jo,{"data-testid":"task-form-completion-rule-checkbox",isChecked:M,isDisabled:T||x,label:o.createElement(v.a,To.taskAnyCheckboxLabel),tooltip:l.formatMessage(To.taskAnyInfoTooltip),name:"completionRule",onChange:this.handleCompletionRuleChange}))),o.createElement(Ho,{className:"bcs-task-name-input","data-testid":"task-form-name-input",disabled:c||x,error:this.getErrorByFieldname("taskName"),isRequired:!0,label:o.createElement(v.a,To.tasksAddTaskFormMessageLabel),name:"taskName",onBlur:function(){return t.validateForm("taskName")},onChange:this.handleChangeMessage,placeholder:l.formatMessage(Tt.commentWrite),value:y}),o.createElement(Vo.a,{className:"bcs-task-add-due-date-input",error:this.getErrorByFieldname("taskDueDate"),errorTooltipPosition:"bottom-right",inputProps:(e={},Ei(e,le.c,le.a.TASK_DATE_PICKER),Ei(e,"data-testid","task-form-date-input"),e),isAccessible:!0,isDisabled:x,isKeyboardInputAllowed:!0,isRequired:!1,label:o.createElement(v.a,To.tasksAddTaskFormDueDateLabel),minDate:new Date,name:"taskDueDate",onChange:this.handleDueDateChange,placeholder:l.formatMessage(Tt.approvalSelectDate),value:h||void 0}),o.createElement(Mo.a,null,o.createElement(Ct.b,di({className:"bcs-task-input-cancel-btn","data-resin-target":le.a.APPROVAL_FORM_CANCEL,"data-testid":"task-form-cancel-button",onClick:this.handleCancelClick,isDisabled:b,type:"button"},this.addResinInfo()),o.createElement(v.a,To.tasksAddTaskFormCancelLabel)),o.createElement(At.a,di({className:"bcs-task-input-submit-btn","data-resin-target":le.a.APPROVAL_FORM_POST,"data-testid":"task-form-submit-button",isDisabled:x,isLoading:b},this.addResinInfo()),o.createElement(v.a,C))))))}}])&&gi(n.prototype,r),i&&gi(n,i),t}(o.Component);Ei(_i,"defaultProps",{approvers:[],approverSelectorContacts:[],editMode:pe.Re,id:"",message:""});var Oi=Object(X.c)(_i),ki=n(575);function Ci(){return Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}function Ai(e,t){switch(e){case pe.af:return t===pe.Re?ki.a.tasksCreateGeneralTaskFormTitle:ki.a.tasksEditGeneralTaskFormTitle;case pe.Ze:default:return t===pe.Re?ki.a.tasksCreateApprovalTaskFormTitle:ki.a.tasksEditApprovalTaskFormTitle}}var Ti=function(e){var t=e.editMode,n=void 0===t?pe.Re:t,r=e.error,i=e.onSubmitError,a=e.onSubmitSuccess,s=e.onModalClose,c=e.taskType,l=e.isTaskFormOpen,u=e.taskFormProps;return o.createElement(ko.a,{className:"be-modal task-modal","data-testid":"create-task-modal",focusElementSelector:".task-modal textarea, .task-modal input",isOpen:l,onRequestClose:s,title:o.createElement(v.a,Ai(c,n))},o.createElement("div",{className:"be"},o.createElement(Oi,Ci({editMode:n,error:r,onCancel:s,onSubmitError:i,onSubmitSuccess:a,taskType:c},u))))};function Mi(){return Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(this,arguments)}var xi=function(e){return o.createElement(C.a,Mi({width:16,height:16,viewBox:"0 0 16 16"},e),o.createElement("path",{fill:k.g,fillRule:"evenodd",d:"M13 3c.557 0 .942.345.994.875L14 4v11H4V3h9zm0 1H5v10h8V4zm-2-3v1H3v10H2V1h9zm-.5 9c.3 0 .5.2.5.5s-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h3zm0-3c.3 0 .5.2.5.5s-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h3z"}))},Di=function(e){return e.isMultiFile&&o.createElement(Ae.c,{position:"top-center",text:o.createElement(v.a,Jr.taskMultipleFilesAffordanceTooltip)},o.createElement(_t.a.Pill,{"data-testid":"multifile-badge"},o.createElement(_t.a.Icon,{Component:xi})))};n(966);function Ii(e){return Ii="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(e)}function Fi(){return Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fi.apply(this,arguments)}function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ji(e)}function Ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ni(e,t){return Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ni(e,t)}function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ui=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=function(e,t){return!t||"object"!==Ii(t)&&"function"!==typeof t?Ri(e):t}(this,(e=ji(t)).call.apply(e,[this].concat(o))),Li(Ri(n),"state",{loadCollabError:void 0,assignedToFull:n.props.assigned_to,modalError:void 0,isEditing:!1,isLoading:!1,isAssigneeListOpen:!1,isConfirmingDelete:!1}),Li(Ri(n),"handleAssigneeListExpand",(function(){n.getAllTaskCollaborators((function(){n.setState({isAssigneeListOpen:!0})}))})),Li(Ri(n),"handleAssigneeListCollapse",(function(){n.setState({isAssigneeListOpen:!1})})),Li(Ri(n),"handleEditClick",(function(){n.getAllTaskCollaborators((function(){n.setState({isEditing:!0})}))})),Li(Ri(n),"handleDeleteClick",(function(){n.setState({isConfirmingDelete:!0})})),Li(Ri(n),"handleDeleteConfirm",(function(){var e=n.props,t=e.id,r=e.onDelete,o=e.permissions;r&&r({id:t,permissions:o})})),Li(Ri(n),"handleDeleteCancel",(function(){n.setState({isConfirmingDelete:!1})})),Li(Ri(n),"handleEditModalClose",(function(){var e=n.props.onModalClose;n.setState({isEditing:!1,modalError:void 0}),e&&e()})),Li(Ri(n),"handleEditSubmitError",(function(e){n.setState({modalError:e})})),Li(Ri(n),"getAllTaskCollaborators",(function(e){var t=n.props,r=t.id,o=t.api,i=t.task_links,a=t.assigned_to,s=ue.a.errorOccured,c=Jr.taskCollaboratorLoadErrorMessage;if(!a.next_marker)return n.setState({assignedToFull:a}),void e();var l=d()(i,"entries[0].target.id");l&&(n.setState({isLoading:!0}),o.getTaskCollaboratorsAPI(!1).getTaskCollaborators({task:{id:r},file:{id:l},errorCallback:function(){n.setState({isLoading:!1,loadCollabError:{message:c,title:s}})},successCallback:function(t){n.setState({assignedToFull:t,isLoading:!1}),e()}}))})),Li(Ri(n),"handleTaskAction",(function(e,t,r){var o=n.props.onAssignmentUpdate;n.setState({isAssigneeListOpen:!1}),o(e,t,r)})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.approverSelectorContacts,i=n.assigned_to,a=n.completion_rule,c=n.created_at,l=n.created_by,u=n.currentUser,f=n.due_at,p=n.error,d=n.features,h=n.getApproverWithQuery,y=n.getAvatarUrl,g=n.getUserProfileUrl,b=n.id,S=n.isPending,E=n.description,w=n.onEdit,_=n.onView,C=n.permissions,A=n.status,T=n.task_links,M=n.task_type,x=n.translatedTaggedMessage,D=n.translations,I=this.state,F=I.assignedToFull,P=I.modalError,j=I.isEditing,R=I.isLoading,N=I.loadCollabError,L=I.isAssigneeListOpen,U=I.isConfirmingDelete,K=N||p,B=i&&i.entries,H=B&&B.find((function(e){return e.target.id===u.id})),V=l.target||pe.ne,q=new Date(c).getTime(),W=!(A===pe.Xe||A===pe.We),G=l.target.id===u.id,Q=T.entries.length>1;e=!W&&(!(!Q||!G)||H&&H.permissions&&H.permissions.can_update&&H.status===pe.Xe);var X=M===pe.Ze?Gr:Qr,J=(C.can_delete||C.can_update)&&!S;return o.createElement($e,{className:"bcs-Task","data-resin-feature":"tasks","data-resin-taskid":b,"data-resin-tasktype":M,"data-resin-numassignees":B&&B.length},K?o.createElement(rt,K):null,o.createElement(ce,{className:s()("bcs-Task-media",{"bcs-is-pending":S||R}),"data-testid":"task-card"},o.createElement(ce.Figure,{className:"bcs-Task-avatar"},o.createElement(z,{getAvatarUrl:y,user:V,badgeIcon:o.createElement(X,null)})),o.createElement(ce.Body,null,J&&o.createElement(O.a,{attachment:"top right",className:"bcs-Task-deleteConfirmationModal",constraints:[{to:"scrollParent",attachment:"together"}],targetAttachment:"bottom right"},o.createElement(ce.Menu,{isDisabled:U,"data-testid":"task-actions-menu",menuProps:{"data-resin-component":le.a.TASK_OPTIONS}},C.can_update&&o.createElement(te.b,{"data-resin-target":le.a.TASK_OPTIONS_EDIT,"data-testid":"edit-task",onClick:this.handleEditClick},o.createElement(Xr,{color:k.m}),o.createElement(v.a,Jr.taskEditMenuItem)),C.can_delete&&o.createElement(te.b,{"data-resin-target":le.a.TASK_OPTIONS_DELETE,"data-testid":"delete-task",onClick:this.handleDeleteClick},o.createElement(vr.a,{color:k.m}),o.createElement(v.a,Jr.taskDeleteMenuItem))),U&&o.createElement(we,{"data-resin-component":le.a.TASK_OPTIONS,isOpen:U,message:Jr.taskDeletePrompt,onDeleteCancel:this.handleDeleteCancel,onDeleteConfirm:this.handleDeleteConfirm})),o.createElement("div",{className:"bcs-Task-headline"},o.createElement(Je,Fi({},V,{"data-resin-target":le.a.PROFILE,getUserProfileUrl:g}))),o.createElement("div",null,o.createElement(xe,{date:q})),o.createElement("div",{className:"bcs-Task-status"},o.createElement(co,{status:A}),o.createElement(Di,{isMultiFile:Q}),o.createElement(eo,{completionRule:a})),o.createElement("div",{className:"bcs-Task-dueDate"},!!f&&o.createElement(oo,{dueDate:f,status:A})),o.createElement("div",null,o.createElement(wt,Fi({id:b,tagged_message:E,translatedTaggedMessage:x},D,{translationFailed:!!p||null,getUserProfileUrl:g}))),o.createElement("div",{className:"bcs-Task-assigneeListContainer"},o.createElement(Oo,{isOpen:L,onCollapse:this.handleAssigneeListCollapse,onExpand:this.handleAssigneeListExpand,getAvatarUrl:y,initialAssigneeCount:3,users:L?F:i})),e&&o.createElement("div",{className:"bcs-Task-actionsContainer","data-testid":"action-container"},o.createElement(Yr,{isMultiFile:Q,taskType:M,onTaskApproval:S?m.a:function(){return t.handleTaskAction(b,H.id,pe.Ue)},onTaskReject:S?m.a:function(){return t.handleTaskAction(b,H.id,pe.Ye)},onTaskComplete:S?m.a:function(){return t.handleTaskAction(b,H.id,pe.Ve)},onTaskView:_&&function(){return _(b,G)}})))),o.createElement(Ti,{editMode:pe.Se,error:P,feedbackUrl:Object(ht.getFeatureConfig)(d,"activityFeed.tasks").feedbackUrl||"",onSubmitError:this.handleEditSubmitError,onSubmitSuccess:this.handleEditModalClose,onModalClose:this.handleEditModalClose,isTaskFormOpen:j,taskFormProps:{id:b,approvers:F.entries,approverSelectorContacts:r,completionRule:a,getApproverWithQuery:h,getAvatarUrl:y,createTask:function(){},editTask:w,dueDate:f,message:E},taskType:M}))}}])&&Pi(n.prototype,r),i&&Pi(n,i),t}(o.Component);Li(Ui,"defaultProps",{completion_rule:pe.Pe});var Ki=f()([ht.withFeatureConsumer,Wr.b])(Ui),Bi=n(588);n(698);function zi(){return zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(this,arguments)}var Hi,Vi=Object(X.c)((function(e){var t=Bi.a.getVersionAction(e),n=e.collaborators,r=e.intl,i=e.onInfo,a=e.versions,s=e.version_start,c=e.version_end;return o.createElement($e,{className:"bcs-Version"},o.createElement("span",{className:"bcs-Version-message"},function(e,t,n,r){if("upload"!==e)return null;var i=Object.keys(t),a=i.length,s=o.createElement("span",{className:"bcs-Version-range"},n," - ",r);if(1===a){var c=t[i[0]];return o.createElement(v.a,zi({},ue.a.versionUploadCollapsed,{values:{name:o.createElement("strong",null,c.name),versions:s}}))}return o.createElement(v.a,zi({},ue.a.versionMultipleUsersUploaded,{values:{numberOfCollaborators:a,versions:s}}))}(t,n,s,c)),i?o.createElement("span",{className:"bcs-Version-actions"},o.createElement(w.a,{"aria-label":r.formatMessage(ue.a.getVersionInfo),className:"bcs-Version-info","data-resin-target":le.a.VERSION_CARD,onClick:function(){i({versions:a})},type:"button"},o.createElement(qo.a,{height:16,width:16}))):null)}));function qi(){return qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(this,arguments)}function Wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gi=(Wi(Hi={},pe.hf,ue.a.versionDeleted),Wi(Hi,pe.if,ue.a.versionPromoted),Wi(Hi,pe.jf,ue.a.versionRestored),Wi(Hi,pe.nf,ue.a.versionUploaded),Hi),Qi=Object(X.c)((function(e){var t=Bi.a.getVersionAction(e),n=e.id,r=e.intl,i=e.onInfo,a=e.version_number,s=e.version_promoted,c=Bi.a.getVersionUser(e),l=c.name===pe.md?r.formatMessage(ue.a.fileRequestDisplayName):c.name;return o.createElement($e,{className:"bcs-Version"},o.createElement("span",{className:"bcs-Version-message"},o.createElement(v.a,qi({},Gi[t],{values:{name:o.createElement("strong",null,l),version_number:a,version_promoted:s}}))),i?o.createElement("span",{className:"bcs-Version-actions"},o.createElement(w.a,{"aria-label":r.formatMessage(ue.a.getVersionInfo),className:"bcs-Version-info","data-resin-target":le.a.VERSION_CARD,onClick:function(){i({id:n,version_number:a})},type:"button"},o.createElement(qo.a,{height:16,width:16}))):null)})),Xi=n(579);function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zi=function(e){var t=e.isCurrentVersion,n=e.item,r=e.onSelect,i=n.file_version,a=n.id,s=n.target,c=null===i,l=t?Pr.annotationActivityPageItem:Pr.annotationActivityVersionLink,u=t?null===s||void 0===s?void 0:s.location.value:null===i||void 0===i?void 0:i.version_number,f=c?Pr.annotationActivityVersionUnavailable:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){Yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l,{values:{number:u}});return o.createElement(Dr,{className:"bcs-AnnotationActivity-link","data-resin-target":"annotationLink",id:a,isDisabled:c,message:f,onClick:function(){return r(n)}})};function $i(){return $i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ra=Object(Xi.a)((function(e){var t=e.activeFeedItem,n=e.activeFeedItemRef,r=e.approverSelectorContacts,i=e.currentFileVersionId,a=e.currentUser,s=e.getApproverWithQuery,c=e.getAvatarUrl,l=e.getMentionWithQuery,u=e.getUserProfileUrl,f=e.hasNewThreadedReplies,p=void 0!==f&&f,h=e.hasReplies,y=void 0!==h&&h,g=e.hasVersions,v=e.items,b=e.mentionSelectorContacts,S=e.onAnnotationDelete,E=e.onAnnotationEdit,w=e.onAnnotationSelect,_=e.onAnnotationStatusChange,O=e.onAppActivityDelete,k=e.onCommentDelete,C=e.onCommentEdit,A=e.onCommentSelect,T=void 0===A?m.a:A,M=e.onHideReplies,x=void 0===M?m.a:M,D=e.onReplyCreate,I=void 0===D?m.a:D,F=e.onReplyDelete,P=void 0===F?m.a:F,j=e.onReplyUpdate,R=void 0===j?m.a:j,N=e.onShowReplies,L=void 0===N?m.a:N,U=e.onTaskAssignmentUpdate,K=e.onTaskDelete,B=e.onTaskEdit,z=e.onTaskModalClose,H=e.onTaskView,V=e.onVersionInfo,q=e.shouldUseUAA,W=e.translations,G=function(e){return function(t){T(t?e:null)}},Q=function(e){return function(t){x(e,[t])}},X=function(e,t){return function(n){I(e,t,n)}},J=function(e){return function(t){P(ta({},t,{parentId:e}))}},Y=function(e){return function(t,n,r,o,i,a,s){R(t,e,n,i,a,s)}},Z=function(e,t){return function(){L(e,t)}};return o.createElement("ul",{className:"bcs-activity-feed-active-state"},v.map((function(e){var f,h,m=e===t,v=m?n:void 0,A=d()(e,"file_version.id"),T={hasReplies:y,onReplySelect:G(e.id)},M=ta({},e,{},T,{currentUser:a,getAvatarUrl:c,getMentionWithQuery:l,getUserProfileUrl:u,mentionSelectorContacts:b,onHideReplies:function(t){return x(e.id,t)},onSelect:G(e.id),permissions:{can_delete:d()(e.permissions,"can_delete",!1),can_edit:d()(e.permissions,"can_edit",!1),can_reply:d()(e.permissions,"can_reply",!1),can_resolve:d()(e.permissions,"can_resolve",!1)},repliesTotalCount:e.total_reply_count,translations:W});switch(e.type){case pe.Xb:return o.createElement(gr,{key:e.type+e.id,"data-testid":"comment",isFocused:m,isHoverable:!0,hasNewThreadedReplies:p,ref:v},p?o.createElement(ar,$i({},M,{onDelete:k,onCommentEdit:C,onReplyCreate:function(t){return I(e.id,pe.Xb,t)},onShowReplies:function(){return L(e.id,pe.Xb)}})):o.createElement(hr,{"data-testid":"activity-thread",currentUser:a,getAvatarUrl:c,getMentionWithQuery:l,getUserProfileUrl:u,hasNewThreadedReplies:p,hasReplies:y,isPending:e.isPending,isRepliesLoading:e.isRepliesLoading,mentionSelectorContacts:b,onHideReplies:Q(e.id),onReplyCreate:X(e.id,e.type),onReplyDelete:J(e.id),onReplyEdit:Y(e.id),onReplySelect:G(e.id),onShowReplies:Z(e.id,e.type),repliesTotalCount:e.total_reply_count,replies:e.replies,translations:W},o.createElement(Jn,$i({},e,{currentUser:a,getAvatarUrl:c,getMentionWithQuery:l,getUserProfileUrl:u,mentionSelectorContacts:b,onDelete:k,onEdit:C,onSelect:G(e.id),permissions:{can_delete:d()(e.permissions,"can_delete",!1),can_edit:d()(e.permissions,"can_edit",!1),can_reply:d()(e.permissions,"can_reply",!1),can_resolve:d()(e.permissions,"can_resolve",!1)},translations:W}))));case pe.Yb:return o.createElement(gr,{key:e.type+e.id,className:"bcs-activity-feed-task-new","data-testid":"task",isFocused:m,ref:v},o.createElement(Ki,$i({},e,{approverSelectorContacts:r,currentUser:a,getApproverWithQuery:s,getAvatarUrl:c,getUserProfileUrl:u,onAssignmentUpdate:U,onDelete:K,onEdit:B,onView:H,onModalClose:z,shouldUseUAA:q,translations:W})));case pe.Zb:return o.createElement(gr,{key:e.type+e.id,className:"bcs-version-item","data-testid":"version"},e.versions?o.createElement(Vi,$i({},e,{onInfo:V})):o.createElement(Qi,$i({},e,{onInfo:V})));case pe.Wb:return o.createElement(gr,{key:e.type+e.id,className:"bcs-activity-feed-app-activity","data-testid":"app-activity"},o.createElement(Tr,$i({currentUser:a,onDelete:O},e)));case pe.Vb:return o.createElement(gr,{key:e.type+e.id,className:"bcs-activity-feed-annotation-activity","data-testid":"annotation-activity",isHoverable:!0,hasNewThreadedReplies:p,isFocused:m,ref:v},p&&w?o.createElement(ar,$i({},M,{annotationActivityLink:o.createElement(Zi,{item:e,onSelect:w,isCurrentVersion:i===A}),onAnnotationEdit:E,onDelete:S,onReplyCreate:function(t){return I(e.id,pe.Vb,t)},onShowReplies:function(){return L(e.id,pe.Vb)},tagged_message:null!==(f=null===(h=e.description)||void 0===h?void 0:h.message)&&void 0!==f?f:""})):o.createElement(hr,{"data-testid":"activity-thread",currentUser:a,getAvatarUrl:c,getMentionWithQuery:l,getUserProfileUrl:u,hasNewThreadedReplies:p,hasReplies:y,isPending:e.isPending,isRepliesLoading:e.isRepliesLoading,mentionSelectorContacts:b,onHideReplies:Q(e.id),onReplyCreate:X(e.id,e.type),onReplyDelete:J(e.id),onReplyEdit:Y(e.id),onReplySelect:G(e.id),onShowReplies:Z(e.id,e.type),repliesTotalCount:e.total_reply_count,replies:e.replies,translations:W},o.createElement(qr,{currentUser:a,getAvatarUrl:c,getUserProfileUrl:u,getMentionWithQuery:l,hasVersions:g,isCurrentVersion:i===A,item:e,mentionSelectorContacts:b,onEdit:E,onDelete:S,onSelect:w,onStatusChange:_})));default:return null}})))})),oa=function(e){var t=e.className,n=void 0===t?"":t,r=e.width,i=void 0===r?140:r,a=e.height,s=void 0===a?140:a;return o.createElement(er.a,{className:"bcs-ActivityFeedEmptyStateIllustration ".concat(n),height:s,viewBox:"0 0 140 140",width:i},o.createElement("path",{fill:"#FFF",d:"M42 39h63c2.761 0 5 2.239 5 5v68H42c-2.761 0-5-2.239-5-5V44c0-2.761 2.239-5 5-5z"}),o.createElement("path",{fill:"#E5EFFA",d:"M13.871 122c2.138 0 3.87 1.79 3.87 4s-1.732 4-3.87 4S10 128.21 10 126s1.733-4 3.871-4zM95 27c5.523 0 10 4.477 10 10v2H42c-2.689 0-4.882 2.122-4.995 4.783L37 44v63h-2c-5.523 0-10-4.477-10-10V37c0-5.523 4.477-10 10-10h60zm6 65c.552 0 1 .448 1 1s-.448 1-1 1H47c-.552 0-1-.448-1-1s.448-1 1-1zm-4-10c.552 0 1 .448 1 1s-.448 1-1 1H47c-.552 0-1-.448-1-1s.448-1 1-1zm-3-10c.552 0 1 .448 1 1s-.448 1-1 1H47c-.552 0-1-.448-1-1s.448-1 1-1zm-5-10c.552 0 1 .448 1 1s-.448 1-1 1H47c-.552 0-1-.448-1-1s.448-1 1-1zm-4-10c.552 0 1 .448 1 1s-.448 1-1 1H47c-.552 0-1-.448-1-1s.448-1 1-1zm37.258-42c4.276 0 7.742 3.582 7.742 8s-3.466 8-7.742 8-7.742-3.582-7.742-8 3.466-8 7.742-8z"}),o.createElement("path",{fill:"#0061D5",d:"M111 106c.552 0 1 .448 1 1v5h5c.552 0 1 .448 1 1s-.448 1-1 1h-5v5c0 .552-.448 1-1 1s-1-.448-1-1v-5h-5c-.552 0-1-.448-1-1s.448-1 1-1h5v-5c0-.552.448-1 1-1zm-60 6c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm-55-6c.552 0 1 .448 1 1 0 2.849 1.913 5 5 5 .552 0 1 .448 1 1s-.448 1-1 1c-4.248 0-7-3.095-7-7 0-.552.448-1 1-1zm83-3c.552 0 1 .448 1 1v3c0 .552-.448 1-1 1h-3c-.552 0-1-.448-1-1v-3c0-.552.448-1 1-1h3zM46 47c.513 0 .936.386.993.883L47 48v47c0 3.785 3.005 6.87 6.76 6.996L54 102h37c.552 0 1 .448 1 1 0 .513-.386.936-.883.993L91 104H54c-4.882 0-8.856-3.887-8.996-8.735L45 95V48c0-.552.448-1 1-1zM36 97c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm58-30c2.21 0 4 1.79 4 4s-1.79 4-4 4c-.626 0-1.22-.144-1.747-.4l-6.61 6.744C85.871 81.85 86 82.41 86 83c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-.593.13-1.156.36-1.663l-2.627-2.73C75.209 78.858 74.62 79 74 79c-.849 0-1.636-.264-2.284-.716L61.284 88.716c.452.648.716 1.435.716 2.284 0 2.21-1.79 4-4 4s-4-1.79-4-4 1.79-4 4-4c.632 0 1.23.147 1.762.408l10.646-10.646C70.147 76.23 70 75.632 70 75c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .862-.272 1.66-.736 2.312l2.37 2.462C80.297 79.288 81.114 79 82 79c.889 0 1.71.29 2.374.78l6.353-6.48C90.269 72.65 90 71.856 90 71c0-2.21 1.79-4 4-4zm17 20c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm-75 0c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm22 2c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2zm24-8c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2zm29-4c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm-75 0c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm38-4c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2zm37-6c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm-75 0c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm58 2c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2zm17-12c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm-75 0c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm75-10c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm-75 0c.552 0 1 .448 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1v-5c0-.552.448-1 1-1zm6-10c.552 0 1 .448 1 1s-.448 1-1 1c-3.087 0-5 2.151-5 5 0 .552-.448 1-1 1s-1-.448-1-1c0-3.905 2.752-7 7-7zm63 0c4.248 0 7 3.095 7 7 0 .552-.448 1-1 1s-1-.448-1-1c0-2.849-1.913-5-5-5-.552 0-1-.448-1-1s.448-1 1-1zm-54 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5zm10 0c.552 0 1 .448 1 1s-.448 1-1 1h-5c-.552 0-1-.448-1-1s.448-1 1-1h5z"}),o.createElement("path",{fill:"#E5EFFA",d:"M58 89c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm24-8c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm-8-8c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm20-4c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2z"}))};function ia(){return ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia.apply(this,arguments)}var aa=function(e){return o.createElement(C.a,ia({width:140,height:140,viewBox:"0 0 140 140"},e),o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("circle",{cx:102,cy:93,r:8,fill:k.d}),o.createElement("path",{fill:k.A,fillRule:"nonzero",d:"M81 32c18.809 0 34 13.02 34 29 0 15.373-14.1 28.104-32.087 28.955l-1.51.071 1.043 2.17.467 1.008C83.625 94.771 84 95.76 84 96c0 .684-.263 1-1 1-1.161 0-2.917-.894-5.391-2.793l-.298-.233-.57-.462c-.951-.787-2.218-1.898-3.793-3.329l-1.455-1.33-.244-.063c-.5-.128-.996-.265-1.486-.41.11-.659.182-1.325.215-1.999l.018-.507L70 85.5c0-10.979-10.064-19.881-22.672-20.47A24.93 24.93 0 0147 61c0-15.98 15.191-29 34-29z"}),o.createElement("path",{fill:k.b,fillRule:"nonzero",d:"M81 30c19.851 0 36 13.842 36 31 0 15.857-13.831 28.974-31.75 30.786l-.544.052-.211.016.338.734.25.564c.547 1.258.843 2.115.905 2.651l.01.11L86 96c0 1.716-1.07 3-3 3-1.733 0-3.807-1.056-6.609-3.207l-.35-.274-.597-.485a95.536 95.536 0 01-2.599-2.251l-.633-.569-1.705-1.551-.206-.053c-.327-.088-.652-.18-.974-.274-1.684 5.956-6.435 10.994-12.974 13.666l-.222.088-1.698 1.465-.895.76-.807.674a48.3 48.3 0 01-2.053 1.626l-.151.11c-2.04 1.467-3.76 2.275-5.027 2.275-1.526 0-2.5-.921-2.5-2.391l.003-.104c.031-.492.275-1.198.745-2.195l.187-.386-.345-.026C31.478 104.867 22 96.148 22 85.5c0-11.065 10.223-20.021 22.97-20.481l.33-.01a26.72 26.72 0 01-.276-2.868l-.02-.726L45 61c0-17.158 16.149-31 36-31zM46 67c-12.183 0-22 8.323-22 18.5 0 10.039 9.561 18.297 21.556 18.496l1.64.028-.775 1.445c-.931 1.736-1.421 2.886-1.421 3.14 0 .34.055.391.5.391.733 0 2.134-.658 3.86-1.899l.262-.193.521-.4.4-.315c.698-.56 1.569-1.284 2.608-2.173l1.924-1.663.163-.063C62.972 99.277 68 92.754 68 85.5 68 75.323 58.183 67 46 67zm35-35c-18.809 0-34 13.02-34 29 0 1.364.112 2.71.328 4.032C59.933 65.616 70 74.52 70 85.5l-.004.374a17.608 17.608 0 01-.159 2.023l-.073.482c.326.097.655.19.986.28l.743.193 1.455 1.331 1.274 1.148.58.515a71.767 71.767 0 002.329 1.984l.18.144.298.233.58.436C80.359 96.243 81.932 97 83 97c.737 0 1-.316 1-1 0-.276-.496-1.542-1.43-3.54l-.124-.264-1.044-2.17 1.511-.071C100.9 89.104 115 76.373 115 61c0-15.98-15.191-29-34-29zM55.332 71.082c4.425 2.02 7.83 5.802 9.598 10.501.198.527-.038 1.128-.529 1.341-.49.214-1.048-.04-1.246-.568-1.58-4.198-4.619-7.572-8.571-9.377-.487-.223-.714-.827-.508-1.351.207-.524.77-.768 1.256-.546zm42.053-32.005c5.722 2.384 10.755 8.18 12.564 13.607a1.001 1.001 0 01-1.898.632c-1.633-4.9-6.271-10.241-11.436-12.393a1 1 0 01.77-1.846z"}),o.createElement("path",{fill:k.A,fillRule:"nonzero",d:"M46 67c-12.183 0-22 8.323-22 18.5 0 10.039 9.561 18.297 21.556 18.496l1.64.028-.775 1.445c-.931 1.736-1.421 2.886-1.421 3.14 0 .34.055.391.5.391.733 0 2.134-.658 3.86-1.899l.262-.193.521-.4a94.07 94.07 0 003.008-2.488l1.924-1.663.163-.063C62.972 99.277 68 92.754 68 85.5 68 75.323 58.183 67 46 67z"}),o.createElement("path",{fill:k.b,fillRule:"nonzero",d:"M38 82a3 3 0 110 6 3 3 0 010-6zm8 0a3 3 0 110 6 3 3 0 010-6zm8 0a3 3 0 110 6 3 3 0 010-6zm-16 2a1 1 0 100 2 1 1 0 000-2zm8 0a1 1 0 100 2 1 1 0 000-2zm8 0a1 1 0 100 2 1 1 0 000-2zm23.901-29.435l.048.119 5.136 15.409 4.987-12.464a1 1 0 011.685-.283l.075.1L93.535 63h4.636a3 3 0 11-.001 2H93c-.293 0-.568-.128-.757-.346l-.075-.1-2.946-4.418-5.294 13.235c-.33.826-1.472.83-1.83.06l-.047-.115L77 58.161l-2.051 6.155a1 1 0 01-.833.677L74 65h-8.17a3 3 0 11-.001-2h7.45l2.772-8.316c.29-.87 1.479-.91 1.85-.119zM63 63a1 1 0 100 2 1 1 0 000-2zm38 0a1 1 0 100 2 1 1 0 000-2z"}),o.createElement("circle",{cx:37,cy:39,r:10,fill:k.d})))},sa=(n(967),function(e){var t=e.showAnnotationMessage,n=e.showCommentMessage,r=t||n,i=t?ue.a.noActivityAnnotationPrompt:ue.a.noActivityCommentPrompt;return o.createElement("div",{className:"bcs-EmptyState"},o.createElement("div",{className:"bcs-EmptyState-illustration"},t?o.createElement(oa,null):o.createElement(aa,null)),o.createElement("div",{className:"bcs-EmptyState-cta"},o.createElement(v.a,ue.a.noActivity,(function(e){return o.createElement("span",{className:"bcs-EmptyState-cta-detail"},e)})),r&&o.createElement("aside",{className:"bcs-EmptyState-cta-message"},o.createElement(v.a,i))))}),ca=n(548),la=n(77);function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var da={fileVersion:pe.Zb};var ha=n(113);n(968);function ma(e){return ma="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(e)}function ya(){return ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ya.apply(this,arguments)}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e){return va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},va(e)}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sa(e,t){return Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sa(e,t)}function Ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wa=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=function(e,t){return!t||"object"!==ma(t)&&"function"!==typeof t?ba(e):t}(this,(e=va(t)).call.apply(e,[this].concat(i))),Ea(ba(n),"state",{isScrolled:!1,isInputOpen:!1,selectedItemId:null}),Ea(ba(n),"activeFeedItemRef",o.createRef()),Ea(ba(n),"isEmpty",(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props).feedItems;return void 0!==e&&(0===e.length||1===e.length&&e[0].type===da.fileVersion)})),Ea(ba(n),"hasLoaded",(function(e,t){var r=n.props,o=r.currentUser,i=r.feedItems;return void 0!==o&&void 0!==i&&(!e||!t)})),Ea(ba(n),"resetFeedScroll",(function(){n.feedContainer&&(n.feedContainer.scrollTop=n.feedContainer.scrollHeight)})),Ea(ba(n),"handleFeedScroll",(function(e){var t=e.target;if(t instanceof Element){var r=t.scrollTop;n.setState({isScrolled:r>0})}})),Ea(ba(n),"throttledFeedScroll",E()(n.handleFeedScroll,100)),Ea(ba(n),"onKeyDown",(function(e){e.nativeEvent.stopImmediatePropagation()})),Ea(ba(n),"commentFormFocusHandler",(function(){n.resetFeedScroll(),n.setState({isInputOpen:!0})})),Ea(ba(n),"commentFormCancelHandler",(function(){return n.setState({isInputOpen:!1})})),Ea(ba(n),"commentFormSubmitHandler",(function(){return n.setState({isInputOpen:!1})})),Ea(ba(n),"onCommentCreate",(function(e){var t=e.text,r=e.hasMention,o=n.props.onCommentCreate;(void 0===o?m.a:o)(t,r),n.commentFormSubmitHandler()})),Ea(ba(n),"onTaskCreate",(function(e){var t=e.text,r=e.assignees,o=e.dueAt,i=n.props.onTaskCreate;(void 0===i?m.a:i)(t,r,o),n.commentFormSubmitHandler()})),Ea(ba(n),"openVersionHistoryPopup",(function(e){(n.props.onVersionHistoryClick||m.a)(e)})),Ea(ba(n),"setSelectedItem",(function(e){n.props.hasReplies&&n.setState({selectedItemId:e})})),Ea(ba(n),"isFeedItemActive",(function(e){var t=e.id,r=e.type,o=n.props,i=o.activeFeedEntryId,a=o.activeFeedEntryType,s=n.state.selectedItemId;return s?s===t:t===i&&r===a})),Ea(ba(n),"isCommentFeedItemActive",(function(e){var t=n.props.activeFeedEntryId,r=e.replies;return n.isFeedItemActive(e)||!!r&&r.some((function(e){return e.id===t}))})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.resetFeedScroll()}},{key:"componentDidUpdate",value:function(e,t){var n=e.activeFeedEntryId,r=e.currentUser,o=e.feedItems,i=this.props,a=i.feedItems,s=i.activeFeedEntryId,c=t.isInputOpen,l=this.state.isInputOpen,u=this.hasLoaded(r,o),f=o&&a&&o.length<a.length,p=void 0===o&&void 0!==a,d=s!==n;(u||f||p||l!==c)&&void 0===s&&this.resetFeedScroll(),(p||d)&&this.scrollToActiveFeedItemOrErrorMessage()}},{key:"scrollToActiveFeedItemOrErrorMessage",value:function(){var e=this.activeFeedItemRef.current;this.props.activeFeedEntryId&&(null!==e?Object(ha.d)(e):this.resetFeedScroll())}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.activeFeedEntryType,i=n.activityFeedError,a=n.approverSelectorContacts,c=n.currentUser,l=n.feedItems,u=n.file,f=n.getApproverWithQuery,p=n.getAvatarUrl,h=n.getMentionWithQuery,y=n.getUserProfileUrl,g=n.hasNewThreadedReplies,b=n.hasReplies,S=n.hasVersions,E=n.isDisabled,w=n.mentionSelectorContacts,_=n.contactsLoaded,O=n.onAnnotationDelete,k=n.onAnnotationEdit,C=n.onAnnotationSelect,A=n.onAnnotationStatusChange,T=n.onAppActivityDelete,M=n.onCommentCreate,x=n.onCommentDelete,D=n.onCommentUpdate,I=n.onHideReplies,F=n.onReplyCreate,P=n.onReplyDelete,j=n.onReplyUpdate,R=n.onShowReplies,N=n.onTaskAssignmentUpdate,L=n.onTaskDelete,U=n.onTaskModalClose,K=n.onTaskUpdate,B=n.onTaskView,z=n.onVersionHistoryClick,H=n.shouldUseUAA,V=n.translations,q=this.state,W=q.isInputOpen,G=q.isScrolled,Q=d()(u,"file_version.id"),X=d()(u,["permissions",pe.he],!1),J=d()(u,"permissions.can_comment",!1),Y=!!(c&&J&&M&&l),Z=this.isEmpty(this.props),$=!this.hasLoaded(),ee=Array.isArray(l)&&l.find((function(e){switch(e.type){case pe.Vb:case pe.Xb:return t.isCommentFeedItemActive(e);case pe.Yb:return t.isFeedItemActive(e);default:return!1}})),te={annotation:ur.annotationMissingError,comment:ur.commentMissingError,task:ur.taskMissingError},ne=r?te[r]:void 0,re=!$&&r&&!ee;return o.createElement("div",{className:s()("bcs-activity-feed",{"bcs-is-scrolled":G}),"data-testid":G?"activityfeedscrolled":"activityfeed",onKeyDown:this.onKeyDown},o.createElement("div",{ref:function(e){t.feedContainer=e},className:"bcs-activity-feed-items-container",onScroll:this.throttledFeedScroll},$&&o.createElement("div",{className:"bcs-activity-feed-loading-state"},o.createElement(la.b,null)),Z&&!$&&o.createElement(sa,{showAnnotationMessage:X,showCommentMessage:Y}),!Z&&!$&&o.createElement(ra,ya({},i,{activeFeedItem:ee,activeFeedItemRef:this.activeFeedItemRef,approverSelectorContacts:a,currentFileVersionId:Q,currentUser:c,getApproverWithQuery:f,getAvatarUrl:p,getMentionWithQuery:h,getUserProfileUrl:y,hasNewThreadedReplies:g,hasReplies:b,hasVersions:S,isDisabled:E,items:(e=l,e?e.reduce((function(e,t){var n=e.pop();if(!n)return e.concat([t]);if(t.type===da.fileVersion&&n.type===da.fileVersion&&Bi.a.getVersionAction(t)===pe.nf&&Bi.a.getVersionAction(n)===pe.nf){var r=n.modified_by,o=n.versions,i=void 0===o?[n]:o,a=n.version_start,s=void 0===a?parseInt(n.version_number,10):a,c=n.version_end,l=void 0===c?parseInt(n.version_number,10):c,u=r||pe.ne,f=t.modified_by,p=t.created_at,d=t.trashed_at,h=t.id,m=t.version_number,y=parseInt(m,10),g=n.collaborators||pa({},u.id,fa({},u)),v=f||pe.ne;return g[v.id]=fa({},v),e.concat([{collaborators:g,created_at:p,modified_by:v,trashed_at:d,id:h,type:da.fileVersion,version_number:m,versions:i.concat([t]),version_start:Math.min(s,y),version_end:Math.max(l,y)}])}return e.concat([n,t])}),[]):[]),mentionSelectorContacts:w,onAnnotationDelete:O,onAnnotationEdit:k,onAnnotationSelect:C,onAnnotationStatusChange:A,onAppActivityDelete:T,onCommentDelete:J?x:m.a,onCommentEdit:J&&D?function(e){D(e.id,e.text,e.status,e.hasMention,e.permissions,e.onSuccess,e.onError)}:m.a,onCommentSelect:this.setSelectedItem,onHideReplies:I,onReplyCreate:J?F:m.a,onReplyDelete:J?P:m.a,onReplyUpdate:J?j:m.a,onShowReplies:R,onTaskAssignmentUpdate:N,onTaskDelete:L,onTaskEdit:K,onTaskModalClose:U,onTaskView:B,onVersionInfo:z?this.openVersionHistoryPopup:null,shouldUseUAA:H,translations:V})),re&&ne&&o.createElement(ca.a,{title:o.createElement(v.a,ur.feedInlineErrorTitle),className:"bcs-feedItemInlineError"},o.createElement(v.a,ne))),Y?o.createElement(Kn,{onSubmit:this.resetFeedScroll,isDisabled:E,mentionSelectorContacts:w,contactsLoaded:_,className:s()("bcs-activity-feed-comment-input",{"bcs-is-disabled":E}),createComment:J?this.onCommentCreate:m.a,getMentionWithQuery:h,isOpen:W,user:c,onCancel:this.commentFormCancelHandler,onFocus:this.commentFormFocusHandler,getAvatarUrl:p}):null)}}])&&ga(n.prototype,r),i&&ga(n,i),t}(o.Component),_a=wa,Oa=n(574),ka=(n(969),function(e){return o.createElement(ee.b,{constrainToScrollParent:!0,isRightAligned:!0},o.createElement($.b,{isDisabled:e.isDisabled,type:"button",setRef:e.setAddTaskButtonRef},o.createElement(Oa.a,null,o.createElement(v.a,ki.a.tasksAddTask))),o.createElement(te.a,{className:"bcs-AddTaskMenu"},o.createElement(te.b,{className:"bcs-AddTaskMenu-menuItem",onClick:function(){return e.onMenuItemClick(pe.af)}},o.createElement("div",{className:"bcs-AddTaskMenu-icon"},o.createElement(Qr,{width:30,height:30})),o.createElement("div",null,o.createElement("div",{className:"bcs-AddTaskMenu-title"},o.createElement(v.a,ki.a.taskAddTaskGeneral)),o.createElement("div",{className:"bcs-AddTaskMenu-description"},o.createElement(v.a,ki.a.taskAddTaskGeneralDescription)))),o.createElement(te.b,{className:"bcs-AddTaskMenu-menuItem",onClick:function(){return e.onMenuItemClick(pe.Ze)}},o.createElement("div",{className:"bcs-AddTaskMenu-icon"},o.createElement(Gr,{width:30,height:30})),o.createElement("div",null,o.createElement("div",{className:"bcs-AddTaskMenu-title"},o.createElement(v.a,ki.a.taskAddTaskApproval)),o.createElement("div",{className:"bcs-AddTaskMenu-description"},o.createElement(v.a,ki.a.taskAddTaskApprovalDescription))))))});function Ca(e){return Ca="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e){return Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ta(e)}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xa(e,t){return xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xa(e,t)}function Da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ia=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=function(e,t){return!t||"object"!==Ca(t)&&"function"!==typeof t?Ma(e):t}(this,(e=Ta(t)).call.apply(e,[this].concat(i))),Da(Ma(n),"buttonRef",o.createRef()),Da(Ma(n),"state",{error:null,isTaskFormOpen:!1,taskType:pe.Ze}),Da(Ma(n),"handleClickMenuItem",(function(e){n.props.history.replace({state:{open:!0}}),n.setState({isTaskFormOpen:!0,taskType:e})})),Da(Ma(n),"handleModalClose",(function(){var e=n.props.onTaskModalClose;n.setState({isTaskFormOpen:!1,error:null}),n.buttonRef.current&&n.buttonRef.current.focus(),e()})),Da(Ma(n),"handleSubmitError",(function(e){return n.setState({error:e})})),Da(Ma(n),"setAddTaskButtonRef",(function(e){n.buttonRef.current=e})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.taskFormProps,r=this.state,i=r.isTaskFormOpen,a=r.taskType,s=r.error;return o.createElement(o.Fragment,null,o.createElement(ka,{isDisabled:t,onMenuItemClick:this.handleClickMenuItem,setAddTaskButtonRef:this.setAddTaskButtonRef}),o.createElement(Ti,{error:s,onSubmitError:this.handleSubmitError,onSubmitSuccess:this.handleModalClose,onModalClose:this.handleModalClose,isTaskFormOpen:i,taskFormProps:n,taskType:a}))}}])&&Aa(n.prototype,r),i&&Aa(n,i),t}(o.Component);Da(Ia,"defaultProps",{isDisabled:!1});var Fa,Pa=Object(b.j)(Ia),ja=(n(207),n(570)),Ra=n(196),Na=n(101),La=n(10),Ua=n(100),Ka=n(211),Ba=n(213),za=n(702);n(970);function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Va=(Ha(Fa={},pe.b,pe.b),Ha(Fa,pe.e,pe.y),Ha(Fa,pe.c,pe.z),Ha(Fa,pe.d,pe.Yb),Fa);var qa=function(e){var t,n=e.activityFilterOptions,r=e.feedItemType,i=void 0===r?pe.b:r,a=e.onFeedItemTypeClick,s=function(e){var t=[pe.b,pe.c,pe.e];return e.every((function(e){return t.includes(e)}))}(n)?ki.a.activitySidebarFilterOptionAllComments:ki.a.activitySidebarFilterOptionAllActivity,c=(Ha(t={},pe.b,{msg:s,val:pe.b}),Ha(t,pe.y,{msg:ki.a.activitySidebarFilterOptionOpen,val:pe.y}),Ha(t,pe.z,{msg:ki.a.activitySidebarFilterOptionResolved,val:pe.z}),Ha(t,pe.Yb,{msg:ki.a.activitySidebarFilterOptionTasks,val:pe.Yb}),t);return o.createElement("div",{className:"bcs-ActivitySidebarFilter"},o.createElement(ee.b,{className:"bcs-ActivitySidebarFilter-dropdownMenu",constrainToWindow:!0},o.createElement(w.a,{type:"button"},o.createElement(ee.a,null,o.createElement(v.a,c[i].msg))),o.createElement(te.a,null,n.map((function(e){var t=Va[e];return o.createElement(te.c,{key:t,isSelected:t===i,onClick:function(){return a(c[t].val)}},o.createElement(v.a,c[t].msg))})))))};n(971);function Wa(e){return Wa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(e)}function Ga(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ja(e)}function Ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(e,t){return Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Za(e,t)}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var es={inlineError:{title:ue.a.errorOccured,content:ue.a.activityFeedItemApiError}},ts="".concat(pe.Wd,"_data_loading"),ns="".concat(pe.Wd,"_").concat(Na.a),rs="".concat(pe.Wd,"_").concat(Na.b);Object(Ua.b)(rs);var os=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Wa(t)&&"function"!==typeof t?Ya(e):t}(this,Ja(t).call(this,e)),$a(Ya(n),"handleAnnotationDelete",(function(e){var t=e.id,r=e.permissions,o=n.props,i=o.api,a=o.emitAnnotationRemoveEvent,s=o.file;a(t,!0),i.getFeedAPI(!1).deleteAnnotation(s,t,r,n.deleteAnnotationSuccess.bind(Ya(n),t),n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"handleAnnotationEdit",(function(e){var t=e.id,r=e.text,o=e.permissions,i=n.props,a=i.api,s=i.emitAnnotationUpdateEvent,c=i.file;s({id:t,description:{message:r}},!0),a.getFeedAPI(!1).updateAnnotation(c,t,r,void 0,o,(function(e){s(e),n.feedSuccessCallback()}),n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"handleAnnotationStatusChange",(function(e,t,r){var o=n.props,i=o.api,a=o.emitAnnotationUpdateEvent,s=o.file;a({id:e,status:t},!0),i.getFeedAPI(!1).updateAnnotation(s,e,void 0,t,r,(function(e){a(e),n.feedSuccessCallback()}),n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"feedSuccessCallback",(function(){n.fetchFeedItems()})),$a(Ya(n),"feedErrorCallback",(function(e,t,r){n.errorCallback(e,t,r),n.fetchFeedItems()})),$a(Ya(n),"createTask",(function(e,t,r,o,i,a,s){var c=n.props,l=c.api,u=c.currentUser,f=c.file;if(!u)throw Object(La.c)();l.getFeedAPI(!1).createTaskNew(f,u,e,t,r,o,i,(function(){a&&a(),n.feedSuccessCallback()}),(function(e,t,r){s&&s(e,t,r),n.feedErrorCallback(e,t,r)})),n.fetchFeedItems()})),$a(Ya(n),"deleteTask",(function(e){var t=n.props,r=t.file,o=t.api,i=t.onTaskDelete;o.getFeedAPI(!1).deleteTaskNew(r,e,(function(e){n.feedSuccessCallback(),i(e)}),n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"updateTask",(function(e,t,r){var o=n.props,i=o.api,a=o.file,s=o.onTaskUpdate;i.getFeedAPI(!1).updateTaskNew(a,e,(function(){n.feedSuccessCallback(),t&&t(),s()}),(function(e,t){r&&r(e,t),n.feedErrorCallback(e,t)})),n.fetchFeedItems()})),$a(Ya(n),"updateTaskAssignment",(function(e,t,r){var o=n.props,i=o.api,a=o.currentUser,s=void 0===a?{}:a,c=o.file,l=o.onTaskAssignmentUpdate;i.getFeedAPI(!1).updateTaskCollaborator(c,e,t,r,(function(){n.feedSuccessCallback(),l(e,t,r,s.id)}),n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"deleteComment",(function(e){var t=e.id,r=e.permissions,o=n.props,i=o.api,a=o.file,s=o.hasReplies,c=o.onCommentDelete,l=function(e){n.feedSuccessCallback(),c(e)};s?i.getFeedAPI(!1).deleteThreadedComment(a,t,r,l,n.feedErrorCallback):i.getFeedAPI(!1).deleteComment(a,t,r,l,n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"deleteReply",(function(e){var t=e.id,r=e.parentId,o=e.permissions,i=n.props,a=i.api,s=i.emitAnnotationReplyDeleteEvent,c=i.file;s(t,r,!0),a.getFeedAPI(!1).deleteReply(c,t,r,o,n.deleteReplySuccessCallback.bind(Ya(n),t,r),n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"deleteReplySuccessCallback",(function(e,t){var r=n.props.emitAnnotationReplyDeleteEvent;n.feedSuccessCallback(),r(e,t)})),$a(Ya(n),"updateComment",(function(e,t,r,o,i,a,s){var c=n.props,l=c.api,u=c.file,f=c.hasReplies,p=c.onCommentUpdate,d=function(e,t){s&&s(e,t),n.feedErrorCallback(e,t)},h=function(){n.feedSuccessCallback(),a&&a(),p()};f?l.getFeedAPI(!1).updateThreadedComment(u,e,t,r,i,h,d):l.getFeedAPI(!1).updateComment(u,e,t||"",o,i,h,d),n.fetchFeedItems()})),$a(Ya(n),"updateReply",(function(e,t,r,o,i,a){var s=n.props,c=s.api,l=s.emitAnnotationReplyUpdateEvent,u=s.file;l({id:e,tagged_message:r},t,!0),c.getFeedAPI(!1).updateReply(u,e,t,r,o,n.updateReplySuccessCallback.bind(Ya(n),t,i),(function(e,t){a&&a(e,t),n.feedErrorCallback(e,t)})),n.fetchFeedItems()})),$a(Ya(n),"updateReplies",(function(e,t){var r=n.props,o=r.activeFeedEntryId,i=r.api,a=r.file,s=r.history,c=n.state.feedItems;if(c){var l=i.getFeedAPI(!1);l.file=a,o&&1===t.length&&c.some((function(t){return t.id===e&&t===n.getCommentFeedItemByReplyId(c,o)}))&&s.replace(n.getActiveCommentPath()),l.updateFeedItem({replies:t},e),n.fetchFeedItems()}})),$a(Ya(n),"updateReplySuccessCallback",(function(e,t,r){var o=n.props.emitAnnotationReplyUpdateEvent;n.feedSuccessCallback(),o(r,e),t&&t()})),$a(Ya(n),"createComment",(function(e,t){var r=n.props,o=r.api,i=r.currentUser,a=r.file,s=r.hasReplies,c=r.onCommentCreate;if(!i)throw Object(La.c)();var l=function(e){c(e),n.feedSuccessCallback()};s?o.getFeedAPI(!1).createThreadedComment(a,i,e,l,n.feedErrorCallback):o.getFeedAPI(!1).createComment(a,i,e,t,l,n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"createReply",(function(e,t,r){var o=n.props,i=o.api,a=o.currentUser,s=o.emitAnnotationReplyCreateEvent,c=o.file;if(!a)throw Object(La.c)();var l=g()("comment_");s({tagged_message:r},l,e,!0),i.getFeedAPI(!1).createReply(c,a,e,t,r,n.createReplySuccessCallback.bind(Ya(n),l,e),n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"createReplySuccessCallback",(function(e,t,r){var o=n.props.emitAnnotationReplyCreateEvent;n.feedSuccessCallback(),o(r,e,t)})),$a(Ya(n),"deleteAppActivity",(function(e){var t=e.id,r=n.props,o=r.api,i=r.file;o.getFeedAPI(!1).deleteAppActivity(i,t,n.feedSuccessCallback,n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"fetchRepliesForFeedItems",(function(e){var t=n.props.activeFeedEntryId;t&&n.getActiveFeedEntryData(e).then((function(r){var o=r.id,i=r.type;if(!o||!i||n.isActiveEntryInFeed(e,t)||!n.isItemTypeComment(i))return Promise.resolve(e);var a=i===pe.Xb?pe.Xb:pe.Vb;return n.getFeedItemsWithReplies(e,o,a)})).then((function(e){return n.fetchFeedItemsSuccessCallback(e)})).catch((function(t){return n.fetchFeedItemsErrorCallback(e,[t])}))})),$a(Ya(n),"fetchFeedItemsSuccessCallback",(function(e){var t=n.props,r=t.file.id,o=t.logger;Object(Ua.b)(ns),e.length>1&&o.onDataReadyMetric({endMarkName:ns,startMarkName:ts},r),n.setState({feedItems:e,activityFeedError:void 0})})),$a(Ya(n),"fetchFeedItemsErrorCallback",(function(e,t){var r=n.props.onError;n.setState({feedItems:e,activityFeedError:es}),Array.isArray(t)&&t.length&&r(new Error("Fetch feed items error"),pe.jb,{showNotification:!0,errors:t.map((function(e){return e.code}))})})),$a(Ya(n),"getCommentFeedItemWithReplies",(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{replies:t})})),$a(Ya(n),"getFeedItemsWithReplies",(function(e,t,r){var o=n.props,i=o.api,a=o.file;return new Promise((function(o,s){t&&r?i.getFeedAPI(!1).fetchReplies(a,t,r,(function(r){var i=e.map((function(e){if(e.id===t&&n.isItemTypeComment(e.type)){if(e.type===pe.Vb)return n.getCommentFeedItemWithReplies(e,r);if(e.type===pe.Xb)return n.getCommentFeedItemWithReplies(e,r)}return e}));o(i)}),(function(e){s(e)})):o(e)}))})),$a(Ya(n),"errorCallback",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.error(e),n.props.onError(e,t,r)})),$a(Ya(n),"getApproverContactsSuccessCallback",(function(e){var t=e.entries;n.setState({approverSelectorContacts:t})})),$a(Ya(n),"getMentionContactsSuccessCallback",(function(e){var t=e.entries;n.setState({contactsLoaded:!1},(function(){return n.setState({contactsLoaded:!0,mentionSelectorContacts:t})}))})),$a(Ya(n),"getApprover",l()((function(e){var t=n.props,r=t.file;t.api.getFileCollaboratorsAPI(!1).getCollaboratorsWithQuery(r.id,n.getApproverContactsSuccessCallback,n.errorCallback,e,{includeGroups:!0})}),pe.A)),$a(Ya(n),"getMention",l()((function(e){var t=n.props,r=t.file;t.api.getFileCollaboratorsAPI(!1).getCollaboratorsWithQuery(r.id,n.getMentionContactsSuccessCallback,n.errorCallback,e)}),pe.A)),$a(Ya(n),"getFocusableFeedItemById",(function(e,t){if(t)return e.find((function(e){var r=e.id,o=e.type;return r===t&&n.isItemTypeFocusable(o)}))})),$a(Ya(n),"getCommentFeedItemByReplyId",(function(e,t){if(t)return e.find((function(e){return!(e.type!==pe.Vb&&e.type!==pe.Xb||!e.replies)&&e.replies.some((function(e){return e.id===t}))}))})),$a(Ya(n),"isActiveEntryInFeed",(function(e,t){return!(!n.getFocusableFeedItemById(e,t)&&!n.getCommentFeedItemByReplyId(e,t))})),$a(Ya(n),"isItemTypeFocusable",(function(e){return e===pe.Vb||e===pe.Xb||e===pe.Yb})),$a(Ya(n),"isItemTypeComment",(function(e){return e===pe.Vb||e===pe.Xb})),$a(Ya(n),"getActiveFeedEntryData",(function(e){var t=n.props,r=t.activeFeedEntryId,o=t.activeFeedEntryType,i=t.api,a=t.file;return new Promise((function(t,s){if(r&&o&&n.isItemTypeFocusable(o)){var c=n.getFocusableFeedItemById(e,r);if(c){var l=c.id,u=c.type;t({id:l,type:u})}else{var f=n.getCommentFeedItemByReplyId(e,r);if(f){var p=f.id,d=f.type;t({id:p,type:d})}else i.getFeedAPI(!1).fetchThreadedComment(a,r,(function(r){var o=r.parent,i=n.getFocusableFeedItemById(e,null===o||void 0===o?void 0:o.id)||{},a=i.id,s=i.type;t({id:a,type:s})}),(function(e){404===e.status?t({}):s(e)}))}}else t({})}))})),$a(Ya(n),"getReplies",(function(e,t){var r=n.props,o=r.api,i=r.file;o.getFeedAPI(!1).fetchReplies(i,e,t,n.feedSuccessCallback,n.feedErrorCallback),n.fetchFeedItems()})),$a(Ya(n),"getAvatarUrl",function(){var e,t=(e=Object(r.a)().mark((function e(t){var o,i,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props,i=o.file,a=o.api,e.abrupt("return",a.getUsersAPI(!1).getAvatarUrlWithAccessToken(t,i.id));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ga(i,r,o,a,s,"next",e)}function s(e){Ga(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),$a(Ya(n),"handleAnnotationSelect",(function(e){var t=e.file_version,r=e.id,o=n.props,i=o.emitActiveAnnotationChangeEvent,a=o.file,s=o.getAnnotationsMatchPath,c=o.getAnnotationsPath,l=o.history,u=o.location,f=o.onAnnotationSelect,p=d()(t,"id"),h=d()(a,"file_version.id"),m=s(u),y=d()(m,"params.fileVersionId",h);i(r),p&&p!==y&&l.push(c(p,r)),f(e)})),$a(Ya(n),"handleItemsFiltered",(function(e){var t=n.props.onFilterChange;n.setState({feedItemsStatusFilter:e}),t(e)})),$a(Ya(n),"getFilteredFeedItems",(function(){var e=n.state,t=e.feedItems,r=e.feedItemsStatusFilter;return t&&r&&r!==pe.b?t.filter((function(e){return e.status===r||e.type===pe.Zb||e.type===r})):t})),$a(Ya(n),"onTaskModalClose",(function(){n.setState({approverSelectorContacts:[]})})),$a(Ya(n),"renderAddTaskButton",(function(){var e=n.props,t=e.isDisabled,r=e.hasTasks,i=n.state.approverSelectorContacts,a=Ya(n),s=a.getApprover,c=a.getAvatarUrl,l=a.createTask,u=a.onTaskModalClose;return r?o.createElement(Pa,{isDisabled:t,onTaskModalClose:u,taskFormProps:{approvers:[],approverSelectorContacts:i,completionRule:pe.Pe,createTask:l,getApproverWithQuery:s,getAvatarUrl:c,id:"",message:""}}):null})),$a(Ya(n),"renderActivitySidebarFilter",(function(){var e=n.props,t=e.features,r=e.hasTasks,i=n.state.feedItemsStatusFilter,a=Object(ht.isFeatureEnabled)(t,"activityFeed.filter.enabled"),s=Object(ht.isFeatureEnabled)(t,"activityFeed.newThreadedReplies.enabled");if(!a)return null;var c=[pe.b,pe.e];return s&&(c.push(pe.c),r&&c.push(pe.d)),o.createElement(qa,{activityFilterOptions:c,feedItemType:i,onFeedItemTypeClick:function(e){n.handleItemsFiltered(e)}})})),$a(Ya(n),"renderActions",(function(){return o.createElement(o.Fragment,null,n.renderActivitySidebarFilter(),n.renderAddTaskButton())})),$a(Ya(n),"renderTitle",(function(){var e=n.props.features;return Object(ht.isFeatureEnabled)(e,"activityFeed.filter.enabled")?null:o.createElement(v.a,ue.a.sidebarActivityTitle)}));var i=n.props.logger;return Object(Ua.b)(ts),i.onReadyMetric({endMarkName:rs}),n.state={},n}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){this.fetchFeedItems(!0)}},{key:"deleteAnnotationSuccess",value:function(e){var t=this.props.emitAnnotationRemoveEvent;this.feedSuccessCallback(),t(e)}},{key:"fetchFeedItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.activeFeedEntryId,o=n.activeFeedEntryType,i=n.api,a=n.file,s=n.features,c=n.hasReplies,l=n.hasTasks,u=n.hasVersions,f=e&&c&&r&&o===pe.Xb,p=Object(ht.isFeatureEnabled)(s,"activityFeed.appActivity.enabled"),d=Object(ht.isFeatureEnabled)(s,"activityFeed.annotations.enabled"),h=Object(ht.isFeatureEnabled)(s,"activityFeed.uaaIntegration.enabled");i.getFeedAPI(t).feedItems(a,e,f?this.fetchRepliesForFeedItems:this.fetchFeedItemsSuccessCallback,this.fetchFeedItemsErrorCallback,this.errorCallback,{shouldShowAnnotations:d,shouldShowAppActivity:p,shouldShowReplies:c,shouldShowTasks:l,shouldShowVersions:u,shouldUseUAA:h})}},{key:"getActiveCommentPath",value:function(e){return e?Object(b.g)("/:sidebar/comments/:commentId?",{sidebar:"activity",commentId:e}):"/activity"}},{key:"refresh",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.fetchFeedItems(e)}},{key:"render",value:function(){var e=this.props,t=e.activeFeedEntryId,n=e.activeFeedEntryType,r=e.currentUser,i=e.currentUserError,a=e.elementId,c=e.features,l=e.file,u=e.hasReplies,f=e.hasVersions,p=e.isDisabled,d=void 0!==p&&p,h=e.onVersionHistoryClick,m=e.getUserProfileUrl,y=e.onTaskView,g=this.state,v=g.activityFeedError,b=g.approverSelectorContacts,S=g.contactsLoaded,E=g.mentionSelectorContacts,w=Object(ht.isFeatureEnabled)(c,"activityFeed.newThreadedReplies.enabled"),_=Object(ht.isFeatureEnabled)(c,"activityFeed.uaaIntegration.enabled");return o.createElement(ja.a,{actions:this.renderActions(),className:s()("bcs-activity",{"bcs-activity--full":u}),elementId:a,sidebarView:pe.re,title:this.renderTitle()},o.createElement(_a,{activeFeedEntryId:t,activeFeedEntryType:n,activityFeedError:v,approverSelectorContacts:b,currentUser:r,currentUserError:i,feedItems:this.getFilteredFeedItems(),file:l,getApproverWithQuery:this.getApprover,getAvatarUrl:this.getAvatarUrl,getMentionWithQuery:this.getMention,getUserProfileUrl:m,hasNewThreadedReplies:w,hasReplies:u,hasVersions:f,isDisabled:d,mentionSelectorContacts:E,contactsLoaded:S,onAnnotationDelete:this.handleAnnotationDelete,onAnnotationEdit:this.handleAnnotationEdit,onAnnotationSelect:this.handleAnnotationSelect,onAnnotationStatusChange:this.handleAnnotationStatusChange,onAppActivityDelete:this.deleteAppActivity,onCommentCreate:this.createComment,onCommentDelete:this.deleteComment,onCommentUpdate:this.updateComment,onHideReplies:this.updateReplies,onReplyCreate:this.createReply,onReplyDelete:this.deleteReply,onReplyUpdate:this.updateReply,onShowReplies:this.getReplies,onTaskAssignmentUpdate:this.updateTaskAssignment,onTaskCreate:this.createTask,onTaskDelete:this.deleteTask,onTaskModalClose:this.onTaskModalClose,onTaskUpdate:this.updateTask,onTaskView:y,onVersionHistoryClick:h,shouldUseUAA:_}))}}],i&&Xa(n.prototype,i),a&&Xa(n,a),t}(o.PureComponent);$a(os,"defaultProps",{annotatorState:{},emitActiveAnnotationChangeEvent:m.a,emitAnnotationRemoveEvent:m.a,emitAnnotationReplyCreateEvent:m.a,emitAnnotationReplyDeleteEvent:m.a,emitAnnotationReplyUpdateEvent:m.a,emitAnnotationUpdateEvent:m.a,getAnnotationsMatchPath:m.a,getAnnotationsPath:m.a,hasReplies:!1,hasTasks:!0,hasVersions:!0,isDisabled:!1,onAnnotationSelect:m.a,onCommentCreate:m.a,onCommentDelete:m.a,onCommentUpdate:m.a,onFilterChange:m.a,onTaskAssignmentUpdate:m.a,onTaskCreate:m.a,onTaskDelete:m.a,onTaskUpdate:m.a,onVersionChange:m.a,onVersionHistoryClick:m.a});t.default=f()([Object(Ba.a)(pe.Wd),Object(Ka.a)(pe.Wd),Wr.b,ht.withFeatureConsumer,Ra.b,za.a])(os)}])]);
//# sourceMappingURL=7.e32fa29f.chunk.js.map