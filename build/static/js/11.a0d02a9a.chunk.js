(this.webpackJsonpweb_scrap=this.webpackJsonpweb_scrap||[]).push([[11],{547:function(e,t,r){"use strict";r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return O})),r.d(t,"c",(function(){return j})),r.d(t,"h",(function(){return b})),r.d(t,"i",(function(){return V})),r.d(t,"j",(function(){return h})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return g})),r.d(t,"e",(function(){return w})),r.d(t,"a",(function(){return E}));var n=r(212),i=r.n(n),o=864e5,a=6e4,s=/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,3})?)?((Z$)|(?:[+-](?:([0-2]\d$)|([0-2]\d(?:00|30)$)|([0-2]\d:(?:00|30)$))))$/,l=1,c=2,u=3,d=4,f=5,m=6,v=7;function p(e){return e instanceof Date?e:new Date(e)}function b(e){return(new Date).toDateString()===p(e).toDateString()}function h(e){return b(p(e).getTime()+o)}function y(e){return(new Date).getMonth()===p(e).getMonth()}function g(e){return(new Date).getFullYear()===p(e).getFullYear()}function w(e){var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%3600%60),i=t>0?"".concat(t.toString(),":"):"",o=n<10?"0".concat(n.toString()):n.toString(),a=r.toString();return t>0&&r<10&&(a="0".concat(a)),"".concat(i).concat(a,":").concat(o)}function E(e,t){return e instanceof Date?new Date(e.getTime()+t):e+t}function O(e){return e.getTime()-e.getTimezoneOffset()*a}function V(e){return!i()(e.getTime())}function j(e){var t=new Date(function(e){if(s.test(e)){var t=e.split(s),r=t[l],n=t[c],i=t[u];if(n||(r+=".000"),t[d])return e;if(t[f])return"".concat(r+i,":00");if(t[m])return"".concat(r+i.substr(0,3),":").concat(i.substr(3));if(t[v])return e}return e}(e)),r=t.getTime(),n=t.getTimezoneOffset();return new Date(r+n*a)}},548:function(e,t,r){"use strict";var n=r(1),i=r(560);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}t.a=function(e){return n.createElement(i.a,o({},e,{type:"error"}))}},550:function(e,t,r){"use strict";var n=r(1),i=r(99);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}t.a=function(e){var t=e.children,r=e.className,s=void 0===r?"":r,l=a(e,["children","className"]);return n.createElement(i.b,o({className:"btn-primary ".concat(s)},l),t)}},552:function(e,t,r){"use strict";var n=r(1),i=r(40),o=r.n(i);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}t.a=function(e){var t=e.children,r=e.className,i=void 0===r?"":r,l=e.title,c=e.type,u=void 0===c?"warning":c,d=s(e,["children","className","title","type"]);return n.createElement("div",a({className:o()(i,"inline-alert","inline-alert-visible","inline-alert-".concat(u))},d),l?n.createElement("strong",null,l):null,n.createElement("div",null,t))}},560:function(e,t,r){"use strict";var n=r(552);r.d(t,"a",(function(){return n.a}))},588:function(e,t,r){"use strict";var n=r(2);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}t.a={getVersionAction:function(e){var t=e.restored_at,r=e.trashed_at,i=e.version_promoted,o=n.nf;return r&&(o=n.hf),t&&(o=n.jf),i&&(o=n.if),o},getVersionUser:function(e){var t=e.modified_by,r=e.restored_by,s=e.trashed_by,l=e.uploader_display_name,c=r||s||t||n.ne,u=c.name,d=c.id;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a(c,["name","id"]),{id:d,name:d===n.ne.id&&l?l:u})}}},591:function(e,t,r){"use strict";var n=r(1),i=r(34),o=r(7);t.a=function(e){var t=e.className,r=void 0===t?"":t,a=e.color,s=void 0===a?o.m:a,l=e.height,c=void 0===l?16:l,u=e.title,d=e.width,f=void 0===d?16:d;return n.createElement(i.a,{className:"icon-open-with ".concat(r),height:c,title:u,viewBox:"0 0 16 16",width:f},n.createElement("path",{className:"fill-color",fill:s,fillRule:"evenodd",d:"M12 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 2v6h-1V6.71l-4.65 4.64-.7-.7L9.29 6H5V5h6z"}))}},597:function(e,t,r){"use strict";var n=r(550);r.d(t,"a",(function(){return n.a}))},601:function(e,t,r){"use strict";var n=r(1),i=r(7),o=r(34);t.a=function(e){var t=e.className,r=void 0===t?"":t,a=e.color,s=void 0===a?i.m:a,l=e.height,c=void 0===l?16:l,u=e.title,d=e.width,f=void 0===d?16:d;return n.createElement(o.a,{className:"icon-trash ".concat(r),height:c,title:u,viewBox:"0 0 16 16",width:f},n.createElement("path",{className:"fill-color",fill:s,fillRule:"evenodd",d:"M14 2l-1.8 11c-.1.6-.7 1-1.2 1H5c-.6 0-1.1-.5-1.2-1L2 2h12zm-1.2 1H3.2l1.6 9.9s.1.1.2.1h6c.06 0 .12-.036.158-.065l.042-.035L12.8 3zm-2.3 1c.3 0 .5.2.5.5s-.2.5-.5.5h-5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5z"}))}},604:function(e,t,r){"use strict";var n=r(80),i=r(2),o=r(547),a=r(43),s=Object(a.c)({eventTime:{id:"boxui.readableTime.eventTime",defaultMessage:"{time, date, medium}"},eventTimeToday:{id:"boxui.readableTime.eventTimeToday",defaultMessage:"Today at {time, time, short}"},eventTimeYesterday:{id:"boxui.readableTime.eventTimeYesterday",defaultMessage:"Yesterday at {time, time, short}"},eventTimeDate:{id:"boxui.readableTime.eventTimeDate",defaultMessage:"{time, date, medium} at {time, time, short}"},eventTimeDateShort:{id:"boxui.readableTime.eventTimeDateShort",defaultMessage:"{date} at {time, time, short}"},eventTimeWeekdayLong:{id:"boxui.readableTime.eventTimeWeekdayLong",defaultMessage:"{weekday}, {time, date, medium}"}}),l=["ru"];t.a=Object(n.c)((function(e){var t=e.intl,r=e.timestamp,n=e.relativeThreshold,a=void 0===n?i.Td:n,c=e.allowFutureTimestamps,u=void 0===c||c,d=e.alwaysShowTime,f=void 0!==d&&d,m=e.showWeekday,v=void 0!==m&&m,p=e.uppercase,b=void 0!==p&&p&&!l.includes(t.locale),h=Date.now()-a,y=!Object(o.g)(r);!u&&r>Date.now()&&(r=h);var g,w=s.eventTime,E=null,O=null;if(Object(o.h)(r))w=s.eventTimeToday;else if(Object(o.j)(r))w=s.eventTimeYesterday;else if(v)w=s.eventTimeWeekdayLong,O=t.formatDate(r,{weekday:"long"});else if(y&&f)w=s.eventTimeDate;else if(!y&&f)w=s.eventTimeDateShort,E=t.formatDate(r,{month:"short",day:"numeric"});else if(!y&&!f)return g=t.formatDate(r,{month:"short",day:"numeric"}),b?g.toLocaleUpperCase(t.locale):g;var V={time:r,date:E,weekday:O};g=t.formatMessage(w,V);var j=r-Date.now();return Math.abs(j)<=a&&(g=t.formatRelativeTime?t.formatRelativeTime(j):t.formatRelative(r)),b?g.toLocaleUpperCase(t.locale):g}))},633:function(e,t,r){"use strict";var n=r(548);r.d(t,"a",(function(){return n.a}))},972:function(e,t,r){},973:function(e,t,r){},974:function(e,t,r){},975:function(e,t,r){},976:function(e,t,r){},977:function(e,t,r){},978:function(e,t,r){},979:function(e,t,r){},980:function(e,t,r){},981:function(e,t,r){},987:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Qe})),r.d(t,"VersionsSidebarComponent",(function(){return Te}));var n=r(1),i=r.n(n),o=r(205),a=r.n(o),s=r(13),l=r.n(s),c=r(132),u=r.n(c),d=r(12),f=r.n(d),m=r(22),v=(r(207),r(43)),p=Object(v.c)({fileRequestDisplayName:{id:"be.sidebarVersions.fileRequestDisplayName",defaultMessage:"File Request"},versionsEmpty:{id:"be.sidebarVersions.empty",defaultMessage:"No prior versions are available for this file."},versionsPriorWeek:{id:"be.sidebarVersions.priorWeek",defaultMessage:"Last Week"},versionsThisMonth:{id:"be.sidebarVersions.thisMonth",defaultMessage:"This Month"},versionsToday:{id:"be.sidebarVersions.today",defaultMessage:"Today"},versionsYesterday:{id:"be.sidebarVersions.yesterday",defaultMessage:"Yesterday"},versionsTitle:{id:"be.sidebarVersions.title",defaultMessage:"Version History"},versionCurrent:{id:"be.sidebarVersions.current",defaultMessage:"Current Version"},versionActionDelete:{id:"be.sidebarVersions.delete",defaultMessage:"Delete"},versionActionDeleteError:{id:"be.sidebarVersions.deleteError",defaultMessage:"File version could not be deleted."},versionActionDisabledRetention:{id:"be.sidebarVersions.disabledByRetention",defaultMessage:"Disabled by retention policy"},versionActionDownload:{id:"be.sidebarVersions.download",defaultMessage:"Download"},versionActionDownloadError:{id:"be.sidebarVersions.downloadError",defaultMessage:"File version could not be downloaded."},versionActionPreview:{id:"be.sidebarVersions.preview",defaultMessage:"Preview"},versionActionPromote:{id:"be.sidebarVersions.promote",defaultMessage:"Make Current"},versionActionPromoteError:{id:"be.sidebarVersions.promoteError",defaultMessage:"File version could not be made current."},versionActionRestore:{id:"be.sidebarVersions.restore",defaultMessage:"Restore"},versionActionRestoreError:{id:"be.sidebarVersions.restoreError",defaultMessage:"File version could not be restored."},versionActionToggle:{id:"be.sidebarVersions.toggle",defaultMessage:"Toggle Actions Menu"},versionDeletedBy:{id:"be.sidebarVersions.deletedBy",defaultMessage:"Deleted by {name}"},versionFetchError:{id:"be.sidebarVersions.fetchError",defaultMessage:"File versions could not be retrieved."},versionNotAvailable:{id:"be.sidebarVersions.notAvailable",defaultMessage:"Sorry, version history is not available with your current account plan. To access versioning, select from one of our paid plans."},versionLimitExceeded:{id:"be.sidebarVersions.versionLimitExceeded",defaultMessage:"You are limited to the last {versionLimit, number} {versionLimit, plural, one {version} other {versions}}."},versionNumberBadge:{id:"be.sidebarVersions.versionNumberBadge",defaultMessage:"V{versionNumber}"},versionNumberLabel:{id:"be.sidebarVersions.versionNumberLabel",defaultMessage:"Version number {versionNumber}"},versionPromotedBy:{id:"be.sidebarVersions.promotedBy",defaultMessage:"Promoted from v{versionPromoted} by {name}"},versionRestoredBy:{id:"be.sidebarVersions.restoredBy",defaultMessage:"Restored by {name}"},versionServerError:{id:"be.sidebarVersions.serverError",defaultMessage:"Server Error"},versionUpgradeLink:{id:"be.sidebarVersions.upgradeLink",defaultMessage:"Upgrade Now"},versionUploadedBy:{id:"be.sidebarVersions.uploadedBy",defaultMessage:"Uploaded by {name}"},versionUserUnknown:{id:"be.sidebarVersions.versionUserUnknown",defaultMessage:"Unknown"},versionMaxEntries:{id:"be.sidebarVersions.versionMaxEntries",defaultMessage:"Version history is limited to the last {maxVersions} entries."},versionRetentionDelete:{id:"be.sidebarVersions.versionRetentionDelete",defaultMessage:"Will be deleted {time} by retention policy."},versionRetentionIndefinite:{id:"be.sidebarVersions.versionRetentionIndefinite",defaultMessage:"Retained indefinitely by retention policy."},versionRetentionRemove:{id:"be.sidebarVersions.versionRetentionRemove",defaultMessage:"Retention policy expires on {time}."},versionUpsell:{id:"be.sidebarVersions.versionUpsell",defaultMessage:"Sorry, version history is not available with your current account plan. To access versioning, select from one of our paid plans."},upgradeButton:{id:"be.sidebarVersions.upgradeButton",defaultMessage:"Upgrade"}});function b(e){var t=function(){var e=document.querySelector("#boxdownloadiframe");return e||((e=document.createElement("iframe")).setAttribute("id","boxdownloadiframe"),e.style.display="none",document.body&&document.body.appendChild(e)),e.contentDocument&&e.contentDocument.write("<head></head><body></body>"),e}();return t.src=e,t}var h=r(138),y=r(7),g=r(11);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}var E=function(e){return n.createElement(g.a,w({width:140,height:140,viewBox:"0 0 140 140"},e),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:y.A,fillRule:"nonzero",d:"M74.512 19.775a4 4 0 014.842-2.637l14.986 4.015.218.065c.082.027.163.057.244.09l-1.287 4.8-.058.234a7 7 0 005.008 8.34l4.8 1.287a4 4 0 01-.096.476l-1.826 6.81L108.997 30l.104-.17a4 4 0 015.173-1.396l.187.102 13.436 7.757.193.12.108.072.105.077-2.486 4.304-.116.21a7 7 0 002.463 9.223l.216.13 4.304 2.485-.102.22-.115.214-13.757 23.829-.104.17a4 4 0 01-5.173 1.396l-.187-.102-.247-.143L113 60a6 6 0 00-5.775-5.996L107 54l-8.535-.002-2.418 9.024-.056.191a4 4 0 01-4.843 2.637L67.966 59.64l-.191-.057a4 4 0 01-2.637-4.842l9.317-34.774zm-55.64 12.544l2.485 4.304.124.207a7 7 0 009.439 2.356l4.041-2.334L39.556 54H33a6 6 0 00-6 6v18.399l-.174.095a4 4 0 01-5.29-1.56l-18-31.177-.095-.175a4 4 0 011.56-5.289l13.436-7.757.2-.108c.077-.039.156-.075.235-.11zm33.557-15.28l1.286 4.801.066.232a7 7 0 008.507 4.718l4.802-1.286a4 4 0 01.154.46l1.766 6.594L63.264 54H41.626l-7.488-27.95-.047-.193a4 4 0 012.875-4.705l14.986-4.016.22-.052c.086-.018.171-.033.257-.045z"}),n.createElement("g",{transform:"translate(1 15)"},n.createElement("ellipse",{cx:69,cy:104,fill:y.d,rx:60,ry:7}),n.createElement("path",{fill:y.A,fillRule:"nonzero",d:"M106 39a6 6 0 016 6v54h9a6 6 0 01-6 6H23a6 6 0 01-6-6h9V45a6 6 0 016-6h74z"}),n.createElement("path",{fill:y.b,fillRule:"nonzero",d:"M78.872.206L93.858 4.22a6 6 0 013.643 2.796l5.863 10.155.522.943L106.265 14a6 6 0 018.196-2.196l13.436 7.757a6 6 0 012.796 3.643l3.106 11.592a6 6 0 01-.6 4.552l-13.757 23.829A6.001 6.001 0 01112 65.743L112 99h9a6 6 0 01-6 6H23a6 6 0 01-6-6h9l-.001-33.408-.235.079a6.002 6.002 0 01-6.96-2.737l-18-31.177a6 6 0 012.197-8.196l13.436-7.757a6 6 0 014.553-.6l11.591 3.106c.16.043.316.092.47.147l-1.845-6.889a6 6 0 014.243-7.348L50.435.204a6 6 0 014.553.6l10.392 6a6 6 0 012.795 3.643l.87 3.248 2.478-9.246A6 6 0 0178.872.206zM61.765 101L19.536 101l.01.019a3.999 3.999 0 003.254 1.976l.2.005h92a3.996 3.996 0 003.34-1.797l.123-.203H76.235c-.549.614-1.347 1-2.235 1H64a2.993 2.993 0 01-2.235-1zM106 41H32a4 4 0 00-3.995 3.8L28 45v54h82V45a4 4 0 00-3.8-3.995L106 41zm0 1a3 3 0 013 3v53H29V45a3 3 0 013-3h74zm0 2H32a1 1 0 00-.993.883L31 45v51h76V45a1 1 0 00-.883-.993L106 44zm5.999 19.5l.247.142a4 4 0 005.36-1.294l.104-.17 13.757-23.829a4 4 0 00.217-.434l-4.304-2.486a7 7 0 01-2.68-9.352l.117-.21 2.486-4.304a3.999 3.999 0 00-.213-.15l-.193-.119-13.436-7.757a4 4 0 00-5.36 1.294l-.104.17L94.14 39H106a6 6 0 016 6l-.001 18.5zM17.872 17.319c-.08.034-.158.07-.235.11l-.2.107-13.436 7.757a4 4 0 00-1.56 5.289l.096.175 18 31.177a4 4 0 005.289 1.56l.174-.095V45a6 6 0 016-6h6.556l-4.595-17.148-4.041 2.334a7 7 0 01-9.439-2.356l-.124-.207-2.485-4.304zM51.43 2.039a3.999 3.999 0 00-.256.045l-.22.052-14.987 4.016a4 4 0 00-2.875 4.705l.047.194L40.626 39h21.638l5.746-21.442-1.766-6.593a4 4 0 00-.154-.46l-4.802 1.285a7 7 0 01-8.507-4.718l-.066-.232-1.286-4.8zm77.188 21.249l-2.068 3.579a5 5 0 001.645 6.718l.186.112 3.58 2.068-.04-.23-.053-.22-3.106-11.592a4 4 0 00-.144-.435zM20.024 17.043l2.065 3.58a5 5 0 006.64 1.935l.19-.104 3.582-2.067-.22-.08-.217-.065-11.592-3.106a4 4 0 00-.448-.093zm75.494-9.41l-1.071 3.993a5 5 0 003.327 6.063l.208.06 3.994 1.072-.1-.212-.107-.2-6-10.392a4 4 0 00-.251-.383zM53.578 2.33l1.069 3.993A5 5 0 0060.56 9.91l.21-.052 3.995-1.07-.192-.133-.193-.12-10.392-6a4 4 0 00-.41-.205zm48.516 18.893l-.002-.001.151-.258-4.778-1.282-.237-.068a7 7 0 01-4.822-8.033l.05-.239.059-.233 1.287-4.801-.122-.047-.122-.043-.218-.065-14.986-4.015-.2-.049c-.2-.042-.401-.07-.6-.081L77.355 2a4.005 4.005 0 00-3.7 2.395l-.076.187-.067.193-.057.191L64.335 39h27.496l10.263-17.777z"}),n.createElement("path",{fill:y.d,fillRule:"nonzero",d:"M113.987 35.357l6.062 3.5-1 1.732-6.062-3.5 1-1.732zm2-3.464l6.062 3.5-1 1.732-6.062-3.5 1-1.732zm-6.33.964l2.598 1.5-1 1.732-2.598-1.5 1-1.732zm18.96-9.57a4 4 0 01.144.436l3.106 11.591.052.22.041.231-3.58-2.068-.186-.112a5 5 0 01-1.645-6.718zm-16.96 6.106l2.598 1.5-1 1.732-2.598-1.5 1-1.732z"}),n.createElement("path",{fill:y.b,d:"M106.791 35.822a1 1 0 01-.366-1.367l4-6.928a1 1 0 011.366-.366l12.124 7a1 1 0 01.367 1.366l-4 6.928a1 1 0 01-1.262.419l-.105-.052-12.124-7zm12.258 4.767l1-1.732-6.062-3.5-1 1.732 6.062 3.5zm-6.794-6.232l-2.598-1.5-1 1.732 2.598 1.5 1-1.732zm8.794 2.768l1-1.732-6.062-3.5-1 1.732 6.062 3.5zm-6.794-6.232l-2.598-1.5-1 1.732 2.598 1.5 1-1.732zm-86.433-3.61a1 1 0 01-.367 1.367l2 3.464a1 1 0 111 1.732l-5.196 3 .5.866.866-.5a1 1 0 011 1.732l-3.464 2a1 1 0 01-1-1.732l.866-.5-.5-.866-5.196 3a1 1 0 11-1-1.732l-2-3.464a1 1 0 11-1-1.732l12.124-7a1 1 0 011.367.366zm-2.099 2.367l-8.66 5 2 3.464 8.66-5-2-3.464zm58.765-8.992l.055.117 1.432 3.569 1.452-.837a1 1 0 011.342.325l.059.106.046.115 2.311 6.83a1 1 0 01-1.096 1.31l-.11-.023-13.523-3.624a1 1 0 01-.503-1.614l.08-.083 6.9-6.433a1 1 0 011.555.242zm-21.913 5.078a1 1 0 01-.707 1.225l-13.523 3.624a1 1 0 01-.518-1.932l13.523-3.624a1 1 0 011.225.707zm20.655-2.864l-4.515 4.21 9.976 2.672-1.32-3.905-1.393.804a1 1 0 01-1.31-.278l-.067-.107-.051-.108-1.32-3.288zm-22.028-1.544a1 1 0 01-.707 1.225l-13.523 3.623a1 1 0 01-.517-1.932l13.523-3.623a1 1 0 011.224.707zM56.303 18.5a1 1 0 01-.707 1.224l-9.66 2.589a1 1 0 01-.517-1.932l9.66-2.589a1 1 0 011.224.708zm32.47-1.147a2 2 0 11-1.035 3.863 2 2 0 011.035-3.863z"}),n.createElement("path",{fill:y.b,fillRule:"nonzero",d:"M95.518 7.634l-1.071 3.992a5 5 0 003.327 6.063l.208.06 3.994 1.072-.1-.212-.107-.2-6-10.392a4 4 0 00-.251-.383z"}),n.createElement("path",{fill:y.A,fillRule:"nonzero",d:"M61.765 101c.549.614 1.347 1 2.235 1h10c.888 0 1.686-.386 2.235-1h42.228l-.124.203A3.996 3.996 0 01115 103H23l-.2-.005a3.999 3.999 0 01-3.254-1.976l-.01-.019zM106 41l.2.005a4 4 0 013.795 3.789L110 45v54H28V45l.005-.2a4 4 0 013.789-3.795L32 41h74zm0 1H32a3 3 0 00-2.995 2.824L29 45v53h80V45a3 3 0 00-2.824-2.995L106 42zm0 2l.117.007a1 1 0 01.876.876L107 45v51H31V45l.007-.117a1 1 0 01.876-.876L32 44h74zm0 1H32v50h74V45z"}),n.createElement("path",{fill:y.c,d:"M32 45h74v50H32z"}),n.createElement("path",{fill:y.A,fillRule:"nonzero",d:"M84.709 64A7.98 7.98 0 0082 70a7.98 7.98 0 002.71 6.001L48 76l-.225-.004A6 6 0 0148 64z"}),n.createElement("path",{fill:y.b,fillRule:"nonzero",d:"M90 62a8 8 0 01.25 15.996L90 78H48a8 8 0 110-16h42zm-5.291 2H48a6 6 0 00-.225 11.996L48 76l36.71.001A7.98 7.98 0 0182 70a7.98 7.98 0 012.709-6zM49 66a1 1 0 011 1v6a1 1 0 01-2 0v-6a1 1 0 011-1z"}),n.createElement("path",{fill:y.d,d:"M89 66a3 3 0 012.708 4.293l2 2a1 1 0 01-1.32 1.497l-.095-.083-2-1.999A3 3 0 1189 66zm0 2a1 1 0 100 2 1 1 0 000-2z"})),n.createElement("path",{fill:y.d,fillRule:"nonzero",d:"M26.723 44.65l2 3.464-8.66 5-2-3.464 8.66-5zm57.507-6.778l1.32 3.288.05.108.068.107a1 1 0 001.31.278l1.392-.804 1.321 3.905-9.976-2.673 4.515-4.209zm-63.206-5.829a4 4 0 01.448.093l11.592 3.106.217.065.22.08-3.581 2.067-.19.104a5 5 0 01-6.64-1.935zm75.494-9.41a4 4 0 01.251.384l6 10.392.108.2.099.212-3.994-1.071-.208-.06a5 5 0 01-3.327-6.064zm-41.94-5.303a4 4 0 01.41.206l10.392 6 .193.119.192.134-3.994 1.07-.211.05a5 5 0 01-5.913-3.586z"})))},O=r(649),V=r(597),j=r(206),P=r(304),D=r.n(P),S=r(80),M=r(547),I=r(588),N=r(569),A=r(34),z=function(e){var t=e.className,r=void 0===t?"":t,i=e.color,o=void 0===i?"#444":i,a=e.height,s=void 0===a?14:a,l=e.title,c=e.width,u=void 0===c?16:c;return n.createElement(A.a,{className:"icon-clock-past ".concat(r),height:s,title:l,viewBox:"0 0 16 14",width:u},n.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 1)"},n.createElement("rect",{className:"fill-color",fill:o,height:"5",rx:".5",width:"1",x:"9.66",y:"3"}),n.createElement("rect",{className:"fill-color",fill:o,height:"1",rx:".5",width:"3",x:"9.66",y:"7"}),n.createElement("path",{className:"stroke-color",d:"M5.66 10.62C6.697 11.48 8.032 12 9.487 12c3.314 0 6-2.686 6-6s-2.686-6-6-6c-3.313 0-6 2.686-6 6",stroke:o,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{className:"fill-color",d:"M6.317 5l-2.83 2.828L.66 5",fill:o})))},k=function(e){var t=e.className,r=void 0===t?"":t,i=e.color,o=void 0===i?y.m:i,a=e.height,s=void 0===a?16:a,l=e.title,c=e.width,u=void 0===c?16:c;return n.createElement(A.a,{className:"icon-download ".concat(r),height:s,title:l,viewBox:"0 0 16 16",width:u},n.createElement("path",{className:"fill-color",fill:o,fillRule:"evenodd",d:"M14 14v1H2v-1h12zM10.996 2v4.997H14L8 13 2 6.997h3.004V2h5.992zm-.998 1H6.002v4.996h-1.59L8 11.586l3.589-3.59H9.998V3z"}))},T=r(589),L=r(591),R=r(601),C=function(e){var t=e.className,r=void 0===t?"":t,i=e.color,o=void 0===i?y.m:i,a=e.height,s=void 0===a?16:a,l=e.title,c=e.width,u=void 0===c?16:c;return n.createElement(A.a,{className:"icon-upload ".concat(r),height:s,title:l,viewBox:"0 0 16 16",width:u},n.createElement("path",{className:"fill-color",fill:o,fillRule:"evenodd",d:"M14 14v1H2v-1h12zM8 1l6 6.003h-3.004V12H5.004V7.003H2L8 1zm0 1.413l-3.589 3.59h1.591v4.998h3.996V6.004h1.59L8 2.414z"}))},_=r(541),x=r(556),B=r(555);r(972);function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}function U(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var F=function(e){var t=e.action,r=e.children,i=e.fileId,o=e.isCurrent,a=U(e,["action","children","fileId","isCurrent"]);return n.createElement(B.b,H({className:"bcs-VersionsItemAction","data-resin-iscurrent":o,"data-resin-itemid":i,"data-resin-target":t},a),r)},W=(r(973),function(e){e.stopPropagation()}),Y=function(e){e.stopPropagation()},q=function(e){var t=e.fileId,r=e.isCurrent,i=void 0!==r&&r,o=e.isRetained,a=void 0!==o&&o,s=e.onDelete,l=e.onDownload,c=e.onPreview,u=e.onPromote,d=e.onRestore,f=e.showDelete,m=void 0!==f&&f,v=e.showDownload,b=void 0!==v&&v,y=e.showPreview,g=void 0!==y&&y,w=e.showPromote,E=void 0!==w&&w,O=e.showRestore,V=void 0!==O&&O;return m||b||g||E||V?n.createElement(N.b,{className:"bcs-VersionsItemActions",constrainToScrollParent:!0,constrainToWindow:!0,isRightAligned:!0,onMenuClose:W},n.createElement(_.a,{className:"bcs-VersionsItemActions-toggle","data-resin-iscurrent":i,"data-resin-itemid":t,"data-resin-target":"overflow",onClick:Y,type:"button"},n.createElement(T.a,{height:4,width:14}),n.createElement(h.a,p.versionActionToggle,(function(e){return n.createElement("span",{className:"accessibility-hidden"},e)}))),n.createElement(B.a,{className:"bcs-VersionsItemActions-menu","data-resin-component":"preview","data-resin-feature":"versions"},g&&n.createElement(F,{action:"preview",fileId:t,isCurrent:i,onClick:c},n.createElement(L.a,null),n.createElement(h.a,p.versionActionPreview)),b&&n.createElement(F,{action:"download",fileId:t,isCurrent:i,onClick:l},n.createElement(k,null),n.createElement(h.a,p.versionActionDownload)),E&&n.createElement(F,{action:"promote",fileId:t,isCurrent:i,onClick:u},n.createElement(C,null),n.createElement(h.a,p.versionActionPromote)),V&&n.createElement(F,{action:"restore",fileId:t,isCurrent:i,onClick:d},n.createElement(z,{height:14,width:14}),n.createElement(h.a,p.versionActionRestore)),m&&n.createElement(x.c,{position:"middle-left",text:n.createElement(h.a,p.versionActionDisabledRetention),isTabbable:!1,isDisabled:!a},n.createElement(F,{action:"remove",fileId:t,isCurrent:i,isDisabled:a,onClick:s},n.createElement(R.a,null),n.createElement(h.a,p.versionActionDelete))))):null},$=r(40),G=r.n($),J=r(113);r(974);function K(e){return K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){return ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=function(e){function t(){var e,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=this,i=(e=Q(t)).call.apply(e,[this].concat(a)),r=!i||"object"!==K(i)&&"function"!==typeof i?X(n):i,te(X(r),"setButtonRef",(function(e){r.buttonRef=e})),te(X(r),"setScroll",(function(){var e=r.props.isSelected;r.buttonRef&&e&&Object(J.d)(r.buttonRef)})),r}var r,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,e),r=t,(i=[{key:"componentDidMount",value:function(){this.setScroll()}},{key:"componentDidUpdate",value:function(e){var t=e.isSelected;this.props.isSelected!==t&&this.setScroll()}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.fileId,i=e.isCurrent,o=e.isDisabled,a=e.isSelected,s=e.onClick,l=G()("bcs-VersionsItemButton",{"bcs-is-disabled":o,"bcs-is-selected":a&&!o});return n.createElement(_.a,{"aria-disabled":o,className:l,"data-resin-iscurrent":i,"data-resin-itemid":r,"data-resin-target":"select","data-testid":"versions-item-button",getDOMRef:this.setButtonRef,isDisabled:o,onClick:s,type:"button"},t)}}])&&Z(r.prototype,i),o&&Z(r,o),t}(n.Component);te(re,"defaultProps",{isCurrent:!1,isDisabled:!1,isSelected:!1});var ne=re;r(975);function ie(){return ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ie.apply(this,arguments)}var oe,ae=Object(S.c)((function(e){var t=e.intl,r={versionNumber:e.versionNumber};return n.createElement("div",{"aria-label":t.formatMessage(p.versionNumberLabel,r),className:"bcs-VersionsItemBadge"},n.createElement(h.a,ie({},p.versionNumberBadge,{values:r})))})),se=r(604),le=r(2);function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ce.apply(this,arguments)}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de,fe=(ue(oe={},le.kf,p.versionRetentionDelete),ue(oe,le.mf,p.versionRetentionRemove),oe),me=function(e){var t=e.retention||{},r=t.disposition_at,i=t.winning_retention_policy||{},o=i.disposition_action,a=i.retention_length,s=r&&new Date(r).getTime();return o?a!==le.lf&&s?n.createElement(h.a,ce({},fe[o],{values:{time:n.createElement(se.a,{timestamp:s,showWeekday:!0})}})):n.createElement(h.a,p.versionRetentionIndefinite):null};r(976);function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ve.apply(this,arguments)}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=(pe(de={},le.hf,p.versionDeletedBy),pe(de,le.jf,p.versionRestoredBy),pe(de,le.if,p.versionPromotedBy),pe(de,le.nf,p.versionUploadedBy),de),he=["xlsb","xlsm","xlsx"],ye=function(e){var t=e.fileId,r=e.isCurrent,i=void 0!==r&&r,o=e.isSelected,a=void 0!==o&&o,s=e.isWatermarked,l=void 0!==s&&s,c=e.onDelete,u=e.onDownload,d=e.onPreview,f=e.onPromote,m=e.onRestore,v=e.version,b=e.versionCount,y=e.versionLimit,g=v.created_at,w=v.extension,E=v.id,O=v.is_download_available,V=v.permissions,j=void 0===V?{}:V,P=v.restored_at,D=v.retention,S=v.size,M=v.trashed_at,N=v.version_number,A=v.version_promoted,z=j.can_delete,k=j.can_download,T=j.can_preview,L=j.can_upload,R=D||{},C=R.applied_at,_=R.disposition_at,x=_&&new Date(_),B=I.a.getVersionAction(v),H=N?parseInt(N,10):1,U=P||M||g,F=U&&new Date(U).getTime(),W=I.a.getVersionUser(v).name||n.createElement(h.a,p.versionUserUnknown),Y=W!==le.md?W:n.createElement(h.a,p.fileRequestDisplayName),$=B===le.hf,G=!!O,J=b-H>=y,K=(he.includes(w)||l)&&!i,Z=!!C&&(!x||x>new Date),Q=T&&!$&&!J&&!K,X=z&&!$&&!i,ee=k&&!$&&G,te=L&&!$&&!i,re=z&&$,ie=Q&&!a,oe=X||ee||ie||te||re,ce=function(e){return function(){e&&e(E)}};return n.createElement("div",{className:"bcs-VersionsItem"},n.createElement(ne,{fileId:t,isCurrent:i,isDisabled:!Q,isSelected:a,onClick:ce(d)},n.createElement("div",{className:"bcs-VersionsItem-badge"},n.createElement(ae,{versionNumber:N})),n.createElement("div",{className:"bcs-VersionsItem-details"},i&&n.createElement("div",{className:"bcs-VersionsItem-current"},n.createElement(h.a,p.versionCurrent)),n.createElement("div",{className:"bcs-VersionsItem-log","data-testid":"bcs-VersionsItem-log",title:Y},n.createElement(h.a,ve({},be[B],{values:{name:Y,versionPromoted:A}}))),n.createElement("div",{className:"bcs-VersionsItem-info"},F&&n.createElement("time",{className:"bcs-VersionsItem-date",dateTime:U},n.createElement(se.a,{alwaysShowTime:!0,relativeThreshold:3e5,timestamp:F})),!!S&&n.createElement("span",{className:"bcs-VersionsItem-size"},function(e){if(!e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(2))," ").concat(["Bytes","KB","MB","GB","TB","PB"][t])}(S))),Z&&n.createElement("div",{className:"bcs-VersionsItem-retention"},n.createElement(me,{retention:D})),J&&oe&&n.createElement("div",{className:"bcs-VersionsItem-footer"},n.createElement(h.a,ve({},p.versionLimitExceeded,{values:{versionLimit:y}}))))),!J&&oe&&n.createElement(q,{fileId:t,isCurrent:i,isRetained:Z,onDelete:ce(c),onDownload:ce(u),onPreview:ce(d),onPromote:ce(f),onRestore:ce(m),showDelete:X,showDownload:ee,showPreview:ie,showPromote:te,showRestore:re}))};r(977);function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ge.apply(this,arguments)}function we(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ee=function(e){var t=e.currentId,r=e.versions,n=we(e,["currentId","versions"]);return i.a.createElement("ul",{className:"bcs-VersionsList"},r.map((function(e){return i.a.createElement("li",{className:"bcs-VersionsList-item",key:e.id},i.a.createElement(m.c,{render:function(r){var o=r.match;return i.a.createElement(ye,ge({isCurrent:t===e.id,isSelected:o.params.versionId===e.id,version:e},n))}}))})))};r(978);function Oe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ve=function(e){var t=e.heading,r=Oe(e,["heading"]);return i.a.createElement("section",{className:"bcs-VersionsGroup"},i.a.createElement("h4",{className:"bcs-VersionsGroup-heading"},t),i.a.createElement(Ee,r))};r(979);function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},je.apply(this,arguments)}function Pe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var De=i.a.memo((function(e){var t=e.intl,r=e.versions,n=Pe(e,["intl","versions"]),o=(r[0]||{}).id,a=r.reduce((function(e,r){var n=D()(e),i=function(e){var t=e.intl,r=e.version.created_at,n=new Date,i=n.getDay(),o=n.getDate()-i,a=M.d(r);return M.h(a)?t.formatMessage(p.versionsToday):M.j(a)?t.formatMessage(p.versionsYesterday):M.g(a)?M.f(a)?a.getDate()<=o-7?t.formatMessage(p.versionsThisMonth):a.getDate()<=o?t.formatMessage(p.versionsPriorWeek):t.formatDate(r,{weekday:"long"}):t.formatDate(r,{month:"long"}):t.formatDate(r,{year:"numeric"})}({intl:t,version:r});return n&&n.groupHeading===i||e.push({groupHeading:i,groupVersions:[]}),D()(e).groupVersions.push(r),e}),[]);return i.a.createElement("ul",{className:"bcs-VersionsMenu"},a.map((function(e){var t=e.groupHeading,r=e.groupVersions;return i.a.createElement("li",{className:"bcs-VersionsMenu-item",key:t},i.a.createElement(Ve,je({currentId:o,heading:t,versions:r},n)))})))})),Se=Object(S.c)(De),Me=(r(980),function(e){var t=e.isLoading,r=e.onUpgradeClick,i=e.parentName,o=new Date;o.setDate(o.getDate()-1);var a=["1","2","3"].map((function(e){return{id:e,version_number:e,type:"file_version",permissions:{can_preview:!0},created_at:o.toUTCString(),modified_by:null,size:1875887,trashed_at:null,uploader_display_name:"John Doe"}}));return n.createElement("div",{className:"bcs-StaticVersionSidebar",role:"tabpanel","data-resin-component":"preview","data-resin-feature":"versions"},n.createElement("div",{className:"bcs-StaticVersionSidebar-header"},n.createElement("h3",{className:"bcs-StaticVersionSidebar-title"},n.createElement(n.Fragment,null,n.createElement(O.a,{"data-resin-target":"back",to:"/".concat(i)}),n.createElement(h.a,p.versionsTitle)))),n.createElement("div",{className:"bcs-StaticVersionSidebar-content-wrapper"},n.createElement(j.a,{className:"bcs-StaticVersionSidebar-content",crawlerPosition:"top",isLoading:t},n.createElement(Se,{versions:a,fileId:"1",versionCount:3,versionLimit:3}))),n.createElement("div",{className:"bcs-StaticVersionSidebar-upsell-wrapper"},n.createElement("div",{className:"bcs-StaticVersionSidebar-upsell"},n.createElement(E,{className:"bcs-StaticVersionSidebar-upsell-icon"}),n.createElement("p",{className:"bcs-StaticVersionSidebar-upsell-header"},n.createElement(h.a,p.versionUpgradeLink)),n.createElement("p",null,n.createElement(h.a,p.versionUpsell)),n.createElement(V.a,{className:"bcs-StaticVersionSidebar-upsell-button","data-resin-target":"versioning_error_upgrade_cta",onClick:r,type:"button"},n.createElement(h.a,p.upgradeButton)))))}),Ie=r(633),Ne=r(570);r(981);function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ae.apply(this,arguments)}function ze(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ke=le.B,Te=function(e){var t=e.error,r=e.isLoading,i=e.parentName,o=e.versions,a=ze(e,["error","isLoading","parentName","versions"]),s=o.length>=ke,l=!!o.length,c=!r&&!l,u=!!t;return n.createElement(Ne.a,{className:"bcs-Versions","data-resin-component":"preview","data-resin-feature":"versions",title:n.createElement(n.Fragment,null,n.createElement(O.a,{"data-resin-target":"back",to:"/".concat(i)}),n.createElement(h.a,p.versionsTitle))},n.createElement(j.a,{className:"bcs-Versions-content",crawlerPosition:"top",isLoading:r},u&&n.createElement(Ie.a,{title:n.createElement(h.a,p.versionServerError)},n.createElement(h.a,t)),c&&n.createElement("div",{className:"bcs-Versions-empty"},n.createElement(h.a,p.versionsEmpty)),l&&n.createElement("div",{className:"bcs-Versions-menu"},n.createElement(Se,Ae({versions:o},a))),s&&n.createElement("div",{className:"bcs-Versions-maxEntries","data-testid":"max-versions"},n.createElement(h.a,Ae({},p.versionMaxEntries,{values:{maxVersions:ke}})))))},Le=r(23);function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){i=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _e=function e(t){var r=this,n=t.api,i=t.fileId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(this,"fetchData",(function(){return Promise.all([r.fetchFile(),r.fetchVersions()]).then(r.fetchVersionCurrent)})),Ce(this,"fetchDownloadUrl",(function(e){return new Promise((function(t,n){return e?r.api.getFileAPI().getDownloadUrl(r.fileId,e,t,n):n(new Error("Could not find requested version"))}))})),Ce(this,"fetchFile",(function(){return new Promise((function(e,t){return r.api.getFileAPI().getFile(r.fileId,e,t,{fields:Le.e,forceFetch:!0})}))})),Ce(this,"fetchVersions",(function(){return new Promise((function(e,t){return r.api.getVersionsAPI(!1).getVersions(r.fileId,e,t)}))})),Ce(this,"fetchVersionCurrent",(function(e){var t=Re(e,2),n=t[0],i=t[1],o=n.file_version,a=void 0===o?{}:o;return new Promise((function(e,t){return r.api.getVersionsAPI(!1).getVersion(r.fileId,a.id,(function(t){e([n,r.api.getVersionsAPI(!1).addCurrentVersion(t,i,n)])}),t)}))})),Ce(this,"fetchVersion",(function(e){return new Promise((function(t,n){return r.api.getVersionsAPI(!1).getVersion(r.fileId,e,t,n)}))})),Ce(this,"deleteVersion",(function(e){var t=e||{},n=t.id,i=t.permissions,o=void 0===i?{}:i;return new Promise((function(e,t){return r.api.getVersionsAPI(!1).deleteVersion({fileId:r.fileId,permissions:o,successCallback:e,errorCallback:t,versionId:n})}))})),Ce(this,"promoteVersion",(function(e){var t=e||{},n=t.id,i=t.permissions,o=void 0===i?{}:i;return new Promise((function(e,t){return r.api.getVersionsAPI(!1).promoteVersion({fileId:r.fileId,permissions:o,successCallback:e,errorCallback:t,versionId:n})}))})),Ce(this,"restoreVersion",(function(e){var t=e||{},n=t.id,i=t.permissions,o=void 0===i?{}:i;return new Promise((function(e,t){return r.api.getVersionsAPI(!1).restoreVersion({fileId:r.fileId,permissions:o,successCallback:e,errorCallback:t,versionId:n})}))})),this.api=n,this.fileId=i},xe=r(562);function Be(e){return Be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function He(){return He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},He.apply(this,arguments)}function Ue(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){i=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e,t){return Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Je(e,t)}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ze=function(e){function t(){var e,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=this,i=(e=$e(t)).call.apply(e,[this].concat(a)),r=!i||"object"!==Be(i)&&"function"!==typeof i?Ge(n):i,Ke(Ge(r),"state",{isLoading:!0,isWatermarked:!1,versionCount:1/0,versionLimit:1/0,versions:[]}),Ke(Ge(r),"window",window),Ke(Ge(r),"handleActionDelete",(function(e){return r.setState({isLoading:!0}),r.api.deleteVersion(r.findVersion(e)).then((function(){return r.api.fetchVersion(e)})).then(r.handleDeleteSuccess).then((function(){return r.props.onVersionDelete(e)})).catch((function(){return r.handleActionError(p.versionActionDeleteError)}))})),Ke(Ge(r),"handleActionDownload",(function(e){return r.api.fetchDownloadUrl(r.findVersion(e)).then(b).then((function(){return r.props.onVersionDownload(e)})).catch((function(){return r.handleActionError(p.versionActionDownloadError)}))})),Ke(Ge(r),"handleActionPreview",(function(e){r.updateVersion(e),r.props.onVersionPreview(e)})),Ke(Ge(r),"handleActionPromote",(function(e){return r.setState({isLoading:!0}),r.api.promoteVersion(r.findVersion(e)).then(r.api.fetchData).then(r.handleFetchSuccess).then(r.handlePromoteSuccess).then((function(){return r.props.onVersionPromote(e)})).catch((function(){return r.handleActionError(p.versionActionPromoteError)}))})),Ke(Ge(r),"handleActionRestore",(function(e){return r.setState({isLoading:!0}),r.api.restoreVersion(r.findVersion(e)).then((function(){return r.api.fetchVersion(e)})).then(r.handleRestoreSuccess).then((function(){return r.props.onVersionRestore(e)})).catch((function(){return r.handleActionError(p.versionActionRestoreError)}))})),Ke(Ge(r),"handleActionError",(function(e){r.setState({error:e,isLoading:!1})})),Ke(Ge(r),"handleDeleteSuccess",(function(e){var t=r.props.versionId,n=e.id;r.mergeResponse(e),n===t&&r.updateVersionToCurrent()})),Ke(Ge(r),"handleRestoreSuccess",(function(e){r.mergeResponse(e)})),Ke(Ge(r),"handleFetchError",(function(){r.setState({error:p.versionFetchError,isLoading:!1,isWatermarked:!1,versionCount:0,versions:[]})})),Ke(Ge(r),"handleFetchSuccess",(function(e){var t=Ye(e,2),n=t[0],i=t[1],o=r.props.api,a=n.version_limit,s=l()(n,"watermark_info.is_watermarked",!1),c=null!==a&&void 0!==a?a:1/0,u=o.getVersionsAPI(!1).addPermissions(i,n)||{},d=u.entries,f=u.total_count;return r.setState({error:void 0,isLoading:!1,isWatermarked:s,versionCount:f,versionLimit:c,versions:r.sortVersions(d)},r.verifyVersion),[n,i]})),Ke(Ge(r),"handlePromoteSuccess",(function(e){var t=Ye(e,1)[0].file_version;t&&r.updateVersion(t.id)})),Ke(Ge(r),"initialize",(function(){r.api=new _e(r.props)})),Ke(Ge(r),"fetchData",(function(){return r.api.fetchData().then(r.handleFetchSuccess).catch(r.handleFetchError)})),Ke(Ge(r),"findVersion",(function(e){return r.state.versions.find((function(t){return t.id===e}))})),Ke(Ge(r),"getCurrentVersionId",(function(){var e=r.state.versions;return e[0]?e[0].id:null})),Ke(Ge(r),"mergeVersions",(function(e){var t=r.state.versions,n=e?e.id:"";return t.map((function(t){return t.id===n?u()(We({},t),e):t}))})),Ke(Ge(r),"mergeResponse",(function(e){var t=r.mergeVersions(e);r.setState({error:void 0,isLoading:!1,versions:t})})),Ke(Ge(r),"updateVersion",(function(e){var t=r.props,n=t.history,i=t.match;return n.push(Object(m.g)(i.path,We({},i.params,{versionId:e})))})),Ke(Ge(r),"updateVersionToCurrent",(function(){r.updateVersion(r.getCurrentVersionId())})),Ke(Ge(r),"verifyVersion",(function(){var e=r.props,t=e.onVersionChange,n=e.versionId,i=r.findVersion(n);i?t(i,{currentVersionId:r.getCurrentVersionId(),updateVersionToCurrent:r.updateVersionToCurrent}):r.updateVersionToCurrent()})),r}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){var e=this.props.onLoad;this.initialize(),this.fetchData().then((function(){e({component:"preview",feature:"versions"})}))}},{key:"componentDidUpdate",value:function(e){var t=e.fileId,r=e.versionId,n=this.props,i=n.fileId,o=n.versionId;i!==t&&this.refresh(),o!==r&&this.verifyVersion()}},{key:"componentWillUnmount",value:function(){this.props.onVersionChange(null)}},{key:"refresh",value:function(){this.initialize(),this.setState({isLoading:!0},this.fetchData)}},{key:"sortVersions",value:function(){return Ue(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort((function(e,t){return Date.parse(t.created_at)-Date.parse(e.created_at)}))}},{key:"render",value:function(){var e=this.props,t=e.fileId,r=e.parentName,n=e.onUpgradeClick;return n?i.a.createElement(Me,He({onUpgradeClick:n,parentName:r},this.state)):i.a.createElement(Te,He({fileId:t,onDelete:this.handleActionDelete,onDownload:this.handleActionDownload,onPreview:this.handleActionPreview,onPromote:this.handleActionPromote,onRestore:this.handleActionRestore,parentName:r},this.state))}}],n&&qe(r.prototype,n),o&&qe(r,o),t}(i.a.Component);Ke(Ze,"defaultProps",{onLoad:f.a,onVersionChange:f.a,onVersionDelete:f.a,onVersionDownload:f.a,onVersionPreview:f.a,onVersionPromote:f.a,onVersionRestore:f.a,parentName:""});var Qe=a()([m.j,xe.b])(Ze)}}]);
//# sourceMappingURL=11.a0d02a9a.chunk.js.map