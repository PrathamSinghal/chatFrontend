(this.webpackJsonpweb_scrap=this.webpackJsonpweb_scrap||[]).push([[13],{571:function(e,t,n){"use strict";var r=n(1),o=n(31),i=n(7);t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,c=void 0===a?i.m:a,l=e.height,s=void 0===l?16:l,u=e.title,f=e.width,p=void 0===f?16:f;return r.createElement(o.a,{className:"icon-open-with ".concat(n),height:s,title:u,viewBox:"0 0 16 16",width:p},r.createElement("path",{className:"fill-color",fill:c,fillRule:"evenodd",d:"M12 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 2v6h-1V6.71l-4.65 4.64-.7-.7L9.29 6H5V5h6z"}))}},707:function(e,t,n){},708:function(e,t,n){},709:function(e,t,n){},968:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Le}));var r=n(6),o=n(1),i=n.n(o),a=n(35),c=n.n(a),l=n(33),s=n.n(l),u=n(12),f=n.n(u),p=n(126),d=n(74),h=n.n(d),m=n(205),b=n(25),y=n(196),g=n(192),v=n(200),E=n(64),w=n(17);var O=function(e){var t=e.integrationWindow,n=e.children,r=t.document.createElement("div");return function(e,t){Array.from(e.styleSheets).forEach((function(e){if(e.href){var n=t.document.createElement("link");n.rel="stylesheet",n.href=e.href,t.document.head.appendChild(n)}})),t.document.body.style.margin=0,t.document.body.style.padding=0}(document,t),t.document.body.appendChild(r),Object(w.createPortal)(n,r)},x=function(e){var t=e.hasError,n=e.integrationWindow;return o.createElement(O,{integrationWindow:n},o.createElement("div",{className:"be bcow bcow-portal-container"},t?o.createElement(v.a,{errorHeader:o.createElement(p.a,b.a.executeIntegrationOpenWithErrorHeader),errorSubHeader:o.createElement(p.a,b.a.executeIntegrationOpenWithErrorSubHeader)}):o.createElement(E.b,{className:"bcow-portal-loading-indicator",size:"large"})))},P=n(586),S=n(588),I=n(556),j=n(2),k=n(31);function _(e){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="icon-google-docs",z=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,n=!(o=(e=N(t)).call.apply(e,[this].concat(a)))||"object"!==_(o)&&"function"!==typeof o?C(r):o,W(C(n),"idPrefix","".concat(s()(A),"-")),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.title,i=e.width;return o.createElement(k.a,{className:"".concat(A," ").concat(t),height:n,title:r,viewBox:"0 0 30 30",width:i},o.createElement("defs",null,o.createElement("linearGradient",{gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse",id:"".concat(this.idPrefix,"a"),x1:"-215.49",x2:"-215.49",y1:"505.79",y2:"503.19"},o.createElement("stop",{offset:"0",stopColor:"#1a237e",stopOpacity:".2"}),o.createElement("stop",{offset:"1",stopColor:"#1a237e",stopOpacity:".02"}))),o.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#4285f4"}),o.createElement("path",{d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z",fill:"url(#".concat(this.idPrefix,"a)")}),o.createElement("path",{d:"M9.45 21.82h10.91v-1.37H9.45zm0 2.73h8.19v-1.37H9.45zm0-9.55v1.36h10.91V15zm0 4.09h10.91v-1.36H9.45z",fill:"#f1f1f1"}),o.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#a1c2fa"}),o.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),o.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}))}}])&&H(n.prototype,r),i&&H(n,i),t}(o.Component);W(z,"defaultProps",{className:"",height:30,width:30});var B=z;function T(e){return T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F="icon-google-sheets",G=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,n=!(o=(e=R(t)).call.apply(e,[this].concat(a)))||"object"!==T(o)&&"function"!==typeof o?V(r):o,L(V(n),"idPrefix","".concat(s()(F),"-")),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.title,i=e.width;return o.createElement(k.a,{className:"".concat(F," ").concat(t),height:n,title:r,viewBox:"0 0 30 30",width:i},o.createElement("defs",null,o.createElement("linearGradient",{gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse",id:"".concat(this.idPrefix,"a"),x1:"-215.49",x2:"-215.49",y1:"505.79",y2:"503.19"},o.createElement("stop",{offset:"0",stopColor:"#208256"}),o.createElement("stop",{offset:".55",stopColor:"#19955a",stopOpacity:".2"}))),o.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#22a565"}),o.createElement("path",{d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z",fill:"url(#".concat(this.idPrefix,"a)")}),o.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#8ed1b1"}),o.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),o.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}),o.createElement("path",{d:"M10 14v10h10V14zm1 1h3.5v2H11zm0 3h3.5v2H11zm0 5v-2h3.5v2zm8 0h-3.5v-2H19zm0-3h-3.5v-2H19zm0-3h-3.5v-2H19z",fill:"#f1f1f1"}))}}])&&M(n.prototype,r),i&&M(n,i),t}(o.Component);L(G,"defaultProps",{className:"",height:30,width:30});var q=G;function J(e){return J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $="icon-google-slides",ee=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,n=!(o=(e=Y(t)).call.apply(e,[this].concat(a)))||"object"!==J(o)&&"function"!==typeof o?K(r):o,Z(K(n),"idPrefix","".concat(s()($),"-")),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.title,i=e.width;return o.createElement(k.a,{className:"".concat($," ").concat(t),height:n,title:r,viewBox:"0 0 30 30",width:i},o.createElement("defs",null,o.createElement("linearGradient",{gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse",id:"".concat(this.idPrefix,"a"),x1:"-215.49",x2:"-215.49",y1:"505.79",y2:"503.19"},o.createElement("stop",{offset:"0",stopColor:"#d08714",stopOpacity:".88"}),o.createElement("stop",{offset:".55",stopColor:"#cf8714",stopOpacity:".2"}))),o.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#f4b912"}),o.createElement("path",{d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z",fill:"url(#".concat(this.idPrefix,"a)")}),o.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#fadc87"}),o.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),o.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}),o.createElement("path",{d:"M10 15v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1zm9 6h-8v-4h8z",fill:"#f1f1f1"}))}}])&&X(n.prototype,r),i&&X(n,i),t}(o.Component);Z(ee,"defaultProps",{className:"",height:30,width:30});var te=ee,ne=n(254),re={"Google Docs":B,"Google Docs (beta)":B,"Google Sheets":q,"Google Sheets (beta)":q,"Google Slides":te,"Google Slides (beta)":te};var oe=function(e){return re[e]||ne.a},ie=n(13),ae=n.n(ie);n(707);function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}var le=function(e){var t=e.boxToolsName,n=void 0===t?"Box Tools":t,r=e.boxToolsInstallUrl,i=void 0===r?"https://cloud.box.com/v/installboxtools":r;return o.createElement(p.a,ce({},b.a.boxToolsInstallMessage,{values:{boxTools:o.createElement("a",{href:"#",onClick:function(){window.open(i)},rel:"noopener noreferrer"},n)}}))},se=function(e){return ae()(e,"disabledReasons.0.type")===le};n(708);var ue=function(e){var t=e.integration,n=e.onClick,r=t.displayName,i=t.displayDescription,a=t.isDisabled,l=t.extension,s=t.disabledReasons,u=oe(r),f=a?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t[0],r=o.createElement(p.a,b.a.errorOpenWithDescription);switch(n){case"blocked_by_shield_access_policy":e=o.createElement(p.a,b.a.boxEditErrorBlockedByPolicy);break;case"collaborators_hidden":e=r;break;default:e=t[0]||r}return e}(s):i,d=c()({"bcow-box-tools-uninstalled":se(t)});return o.createElement(I.a,{className:d,isDisabled:a,onClick:function(){return n(t)}},o.createElement(u,{dimension:j.Vd,extension:l,height:j.Vd,width:j.Vd}),o.createElement("span",null,o.createElement("p",{className:"bcow-menu-item-title"},r),o.createElement("p",{className:"bcow-menu-item-description"},f)))},fe=n(554),pe=n(571),de=n(85),he=n(585),me=function(e){var t=e.children;return o.createElement(o.Fragment,null,t,o.createElement("span",{className:"bcow-btn-header-text"},o.createElement(p.a,b.a.open)))};function be(){return be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}var ye=function(e){return o.createElement(he.a,{position:"middle-left",text:o.createElement(p.a,b.a.defaultOpenWithDescription)},o.createElement(de.b,be({"data-testid":"multipleintegrationsbutton"},e),o.createElement(fe.a,null,o.createElement(me,null,o.createElement(pe.a,{className:j.p,dimension:j.Ud,height:j.Ud,width:j.Ud})))))},ge="right",ve=function(e){var t=e.dropdownAlignment,n=void 0===t?ge:t,r=e.integrations,i=e.onClick;return o.createElement(P.a,{isRightAligned:n===ge},o.createElement(ye,null),o.createElement(S.a,{className:"bcow-menu"},r.map((function(e){return o.createElement(ue,{key:e.appIntegrationId,integration:e,onClick:i})}))))};function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Oe=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(t)return null;var i=o.createElement(p.a,b.a.emptyOpenWithDescription);r.length>0?i=we(r,1)[0]:n?i=o.createElement(p.a,b.a.errorOpenWithDescription):e&&(i=e);return i},xe=function(e){var t=e.error,n=e.onClick,r=void 0===n?f.a:n,i=e.displayIntegration,a=e.isLoading,c=i||{},l=c.displayName,s=c.isDisabled,u=c.extension,p=c.disabledReasons,d=c.displayDescription,h=!!s||!l,m=l?oe(l):pe.a,b=se(i)?{isShown:!0,showCloseButton:!0}:{};return o.createElement(he.a,Ee({className:"bcow-tooltip",position:"bottom-center",text:Oe(d,a,t,p)},b),o.createElement(de.b,{"data-testid":"singleintegrationbutton",isDisabled:h,onClick:function(){return i?r(i):f.a}},o.createElement(me,null,o.createElement(m,{className:j.p,dimension:j.Ud,extension:u,height:j.Ud,width:j.Ud}))))},Pe=function(e){var t=e.error;return o.createElement("div",{className:"be bcow"},o.createElement(xe,{error:t,isLoading:!1}))};function Se(e){return Se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==Se(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}function _e(e,t){return _e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_e(e,t)}var He=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=je(this,ke(t).call(this,e))).ref=i.a.createRef(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.onSubmit;this.ref.current.submit(),e()}},{key:"render",value:function(){var e=this.props,t=e.executePostData,n=t.url,r=t.params,o=e.id,a=e.windowName;return i.a.createElement("form",{ref:this.ref,action:n,id:"bcow-execute-form-".concat(o),method:j.wd,rel:"noreferrer noopener",target:a||"_blank"},r&&r.map((function(e){var t=e.key,n=e.value;return i.a.createElement("input",{key:t,name:t,type:"hidden",value:n})})))}}])&&Ie(n.prototype,r),o&&Ie(n,o),t}(o.PureComponent);n(286),n(709);function Ne(e){return Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,o)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t){return Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Te(e,t)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re="boxToolsInstallErrorMessage",Ve="executeIntegrationOpenWithErrorHeader",Ue=function(e){function t(e){var n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=ze(t).call(this,e),n=!a||"object"!==Ne(a)&&"function"!==typeof a?Be(o):a,Me(Be(n),"initialState",{isDropdownOpen:!1,integrations:null,isLoading:!0,fetchError:null,executePostData:null,shouldRenderErrorIntegrationPortal:!1,shouldRenderLoadingIntegrationPortal:!1}),Me(Be(n),"fetchOpenWithSuccessHandler",function(){var e,t=(e=Object(r.a)().mark((function e(t){var o,a,c,l,s,u,f,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.props,a=o.boxToolsName,c=o.boxToolsInstallUrl,!(l=t.find((function(e){var t=e.appIntegrationId;return n.isBoxEditIntegration(t)})))||l.isDisabled){e.next=22;break}return e.prev=3,e.next=6,n.getIntegrationFileExtension();case 6:return s=e.sent,u=s.extension,l.extension=u,e.next=11,n.isBoxEditAvailable();case 11:return e.next=13,n.canOpenExtensionWithBoxEdit(l);case 13:e.next=22;break;case 15:e.prev=15,e.t0=e.catch(3),f=b.a[e.t0.message]||b.a[Ve],d=i.a.createElement(p.a,f),e.t0.message===Re&&(d=i.a.createElement(le,{boxToolsInstallUrl:c,boxToolsName:a})),l.disabledReasons.push(d),l.isDisabled=!0;case 22:n.setState({integrations:t,isLoading:!1});case 23:case"end":return e.stop()}}),e,null,[[3,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){We(i,r,o,a,c,"next",e)}function c(e){We(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),Me(Be(n),"getIntegrationFileExtension",(function(){var e=n.props.fileId;return new Promise((function(t,r){n.api.getFileAPI().getFileExtension(e,t,(function(){return r(new Error(Ve))}))}))})),Me(Be(n),"isBoxEditAvailable",(function(){return n.api.getBoxEditAPI().checkBoxEditAvailability().catch((function(){throw new Error(Re)}))})),Me(Be(n),"canOpenExtensionWithBoxEdit",(function(e){var t=e.extension,r=void 0===t?"":t;return n.api.getBoxEditAPI().getAppForExtension(r).catch((function(){throw new Error("boxToolsBlacklistedError")}))})),Me(Be(n),"fetchErrorHandler",(function(e,t){n.props.onError(e,t,{error:e}),n.setState({fetchError:e,isLoading:!1})})),Me(Be(n),"onIntegrationClick",(function(e){var t=e.appIntegrationId,r=e.displayName,o=n.props.fileId,i=n.isBoxEditIntegration(t);if(n.api.getAppIntegrationsAPI(!1).execute(t,o,n.executeIntegrationSuccessHandler.bind(Be(n),t),i?n.executeBoxEditErrorHandler:n.executeIntegrationErrorHandler),!i){var a="left=".concat(window.screenX,",top=").concat(window.screenY,",height=").concat(window.outerHeight,",width=").concat(window.innerWidth,",toolbar=0");n.integrationWindow=n.window.open("","".concat(s()(t)),a),n.integrationWindow.document.title=r,n.integrationWindow.onunload=n.cleanupIntegrationWindow,n.setState({shouldRenderLoadingIntegrationPortal:!0,shouldRenderErrorIntegrationPortal:!1})}})),Me(Be(n),"cleanupIntegrationWindow",(function(){n.setState({shouldRenderLoadingIntegrationPortal:!1,shouldRenderErrorIntegrationPortal:!1})})),Me(Be(n),"executeIntegrationSuccessHandler",(function(e,t){n.isBoxEditIntegration(e)?n.executeBoxEditSuccessHandler(e,t):n.executeOnlineIntegrationSuccessHandler(t),n.onExecute(e)})),Me(Be(n),"executeOnlineIntegrationSuccessHandler",(function(e){var t=e.method,r=e.url;switch(t){case j.wd:n.setState({executePostData:e});break;case j.td:if(!n.integrationWindow)return;n.integrationWindow.location=r,n.integrationWindow.opener=null;break;default:n.executeIntegrationErrorHandler(Error("Integration invocation using this HTTP method type is not supported"),j.hb)}n.integrationWindow=null})),Me(Be(n),"executeBoxEditSuccessHandler",(function(e,t){var r=t.url,o=n.props,i=o.fileId,a=o.token,c=o.onError,l=h.a.parse(r).auth_code,s=n.isBoxEditSFCIntegration(e);n.api.getBoxEditAPI().openFile(i,{data:{auth_code:l,token:a,token_scope:s?j.ef:j.ff}}).catch((function(e){c(e,j.hb,{error:e})}))})),Me(Be(n),"onExecuteFormSubmit",(function(){n.setState({executePostData:null})})),Me(Be(n),"executeIntegrationErrorHandler",(function(e,t){n.props.onError(e,t,{error:e}),console.error(e),n.setState({shouldRenderLoadingIntegrationPortal:!1,shouldRenderErrorIntegrationPortal:!0})})),Me(Be(n),"executeBoxEditErrorHandler",(function(e){n.props.onError(e),console.error(e)}));var c=e.token,l=e.apiHost,u=e.clientName,f=e.language,d=e.requestInterceptor,m=e.responseInterceptor;return n.id=s()("bcow_"),n.api=new g.a({apiHost:l,clientName:u,language:f,requestInterceptor:d,responseInterceptor:m,token:c}),n.state=De({},n.initialState),n}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,e),n=t,(o=[{key:"clearCache",value:function(){this.api.destroy(!0)}},{key:"componentWillUnmount",value:function(){this.api.destroy(!1)}},{key:"componentDidMount",value:function(){this.props.fileId&&(this.window=window,this.fetchOpenWithData())}},{key:"componentDidUpdate",value:function(e){var t=this.props.fileId,n=e.fileId;t&&t!==n&&(this.setState(De({},this.initialState)),this.fetchOpenWithData())}},{key:"isBoxEditIntegration",value:function(e){return e===j.g||this.isBoxEditSFCIntegration(e)}},{key:"isBoxEditSFCIntegration",value:function(e){return e===j.h}},{key:"fetchOpenWithData",value:function(){var e=this.props.fileId;this.api.getOpenWithAPI(!1).getOpenWithIntegrations(e,this.fetchOpenWithSuccessHandler,this.fetchErrorHandler)}},{key:"onExecute",value:function(e){this.props.onExecute(e),this.setState({shouldRenderLoadingIntegrationPortal:!1})}},{key:"getDisplayIntegration",value:function(){var e=this.state.integrations;return Array.isArray(e)&&1===e.length?e[0]:null}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.messages,r=e.dropdownAlignment,o=this.state,a=o.fetchError,l=o.isLoading,s=o.integrations,u=o.executePostData,f=o.shouldRenderLoadingIntegrationPortal,p=o.shouldRenderErrorIntegrationPortal,d=c()("be bcow",this.props.className),h=this.getDisplayIntegration(),b=s?s.length:0;return i.a.createElement(m.a,{language:t,messages:n},i.a.createElement("div",{className:d,"data-testid":"bcow-content",id:this.id},b<=1?i.a.createElement(xe,{displayIntegration:h,error:a,isLoading:l,onClick:this.onIntegrationClick}):i.a.createElement(ve,{dropdownAlignment:r,integrations:s,onClick:this.onIntegrationClick}),(f||p)&&i.a.createElement(x,{hasError:p,integrationWindow:this.integrationWindow}),u&&i.a.createElement(He,{executePostData:u,id:this.id,onSubmit:this.onExecuteFormSubmit,windowName:this.integrationWindow&&this.integrationWindow.name})))}}])&&Ae(n.prototype,o),a&&Ae(n,a),t}(o.PureComponent);Me(Ue,"defaultProps",{apiHost:j.D,className:"",clientName:j.v,onExecute:f.a,onError:f.a});var Le=Object(y.a)(j.be,Pe)(Ue)}}]);
//# sourceMappingURL=13.5ca7ba4c.chunk.js.map