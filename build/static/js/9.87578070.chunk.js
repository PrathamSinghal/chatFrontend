(this.webpackJsonpweb_scrap=this.webpackJsonpweb_scrap||[]).push([[9],{577:function(e,t,a){"use strict";var n=a(1),r=a(34),o=a(7);t.a=function(e){var t=e.className,a=void 0===t?"":t,i=e.color,l=void 0===i?o.l:i,c=e.height,s=void 0===c?14:c,u=e.title,d=e.width,p=void 0===d?14:d;return n.createElement(r.a,{className:"icon-edit ".concat(a),height:s,title:u,viewBox:"0 0 14 14",width:p},n.createElement("path",{className:"fill-color",d:"M3.21 7.89l6.47-6.48a2 2 0 0 1 2.88 2.78h-.05L6 10.72 3.21 7.89zM2.24 9l2.83 2.83L1.67 13c-.52.18-.79-.1-.62-.61z",fill:l}))}},656:function(e,t,a){var n=a(56);e.exports=function(e){return e===e&&!n(e)}},657:function(e,t){e.exports=function(e,t){return function(a){return null!=a&&(a[e]===t&&(void 0!==t||e in Object(a)))}}},776:function(e,t,a){},778:function(e,t,a){},779:function(e,t,a){},780:function(e,t,a){},781:function(e,t,a){},782:function(e,t,a){var n=a(308),r=a(783),o=a(309),i=Math.max;e.exports=function(e,t,a){var l=null==e?0:e.length;if(!l)return-1;var c=null==a?0:o(a);return c<0&&(c=i(l+c,0)),n(e,r(t,3),c)}},783:function(e,t,a){var n=a(784),r=a(787),o=a(218),i=a(49),l=a(790);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?r(e[0],e[1]):n(e):l(e)}},784:function(e,t,a){var n=a(785),r=a(786),o=a(657);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(a){return a===e||n(a,e,t)}}},785:function(e,t,a){var n=a(171),r=a(299);e.exports=function(e,t,a,o){var i=a.length,l=i,c=!o;if(null==e)return!l;for(e=Object(e);i--;){var s=a[i];if(c&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<l;){var u=(s=a[i])[0],d=e[u],p=s[1];if(c&&s[2]){if(void 0===d&&!(u in e))return!1}else{var f=new n;if(o)var m=o(d,p,u,e,t,f);if(!(void 0===m?r(p,d,3,o,f):m))return!1}}return!0}},786:function(e,t,a){var n=a(656),r=a(116);e.exports=function(e){for(var t=r(e),a=t.length;a--;){var o=t[a],i=e[o];t[a]=[o,i,n(i)]}return t}},787:function(e,t,a){var n=a(299),r=a(13),o=a(788),i=a(298),l=a(656),c=a(657),s=a(114);e.exports=function(e,t){return i(e)&&l(t)?c(s(e),t):function(a){var i=r(a,e);return void 0===i&&i===t?o(a,e):n(t,i,3)}}},788:function(e,t,a){var n=a(789),r=a(305);e.exports=function(e,t){return null!=e&&r(e,t,n)}},789:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},790:function(e,t,a){var n=a(791),r=a(792),o=a(298),i=a(114);e.exports=function(e){return o(e)?n(i(e)):r(e)}},791:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},792:function(e,t,a){var n=a(217);e.exports=function(e){return function(t){return n(t,e)}}},793:function(e,t,a){},817:function(e,t,a){},818:function(e,t,a){},819:function(e,t,a){},826:function(e,t,a){},827:function(e,t,a){},828:function(e,t,a){},829:function(e,t,a){},830:function(e,t,a){},831:function(e,t,a){},832:function(e,t,a){},833:function(e,t,a){},834:function(e,t,a){},835:function(e,t,a){},840:function(e,t,a){},841:function(e,t,a){},985:function(e,t,a){"use strict";a.r(t),a.d(t,"MetadataSidebarComponent",(function(){return vn}));var n=a(1),r=a.n(n),o=a(205),i=a.n(o),l=a(13),c=a.n(l),s=a(12),u=a.n(s),d=a(138),p=(a(207),a(34)),f=function(e){var t=e.className,a=void 0===t?"":t,r=e.color,o=void 0===r?"#0061D5":r,i=e.title,l=e.width,c=void 0===l?140:l;return n.createElement(p.a,{className:"icon-add-metadata-empty-state ".concat(a),title:i,viewBox:"0 0 140 105",width:c},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M92 1.134V.492a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-90.5 83.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629A1.005 1.005 0 0 1 1.134 86H.49a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm136 5.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-29-78v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-80 3.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-5.563 8.075v-.402a.313.313 0 0 1 .625 0v.402a.628.628 0 0 1 .23.229h.401c.17 0 .307.144.307.312a.308.308 0 0 1-.307.313h-.402a.628.628 0 0 1-.229.228v.402a.313.313 0 0 1-.625.004v-.406a.628.628 0 0 1-.228-.229h-.402A.313.313 0 0 1 22 24.25c0-.173.134-.313.307-.313h.402a.628.628 0 0 1 .229-.228zm-11.5 79v-.402a.313.313 0 0 1 .626 0v.402a.628.628 0 0 1 .228.228h.402c.17 0 .307.145.307.313a.308.308 0 0 1-.307.313h-.402a.628.628 0 0 1-.229.228v.402a.313.313 0 0 1-.624.004v-.406a.628.628 0 0 1-.23-.228h-.401a.313.313 0 0 1-.307-.313c0-.173.134-.313.307-.313h.402a.628.628 0 0 1 .229-.228z",fill:o}),n.createElement("path",{d:"M17 54c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H23.992C20.131 61 17 57.858 17 54zm-6 20c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H17.992C14.131 81 11 77.858 11 74zM5 94c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H11.992C8.131 101 5 97.858 5 94z",fill:o,fillOpacity:".1"}),n.createElement("path",{d:"M130 61a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm-6 20a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-2a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm-6 22a7 7 0 1 1 0-14 7 7 0 0 1 0 14z",fill:o}),n.createElement("path",{d:"M117.944 95.189l3.215-3.832a.996.996 0 0 1 1.407-.121c.423.355.475.99.126 1.406l-3.861 4.6a.993.993 0 0 1-1.4.128l-3.078-2.583a.993.993 0 0 1-.116-1.403 1 1 0 0 1 1.401-.13l2.306 1.935zm12-40l3.215-3.832a.996.996 0 0 1 1.407-.121c.423.355.475.99.126 1.406l-3.861 4.6a.993.993 0 0 1-1.4.128l-3.078-2.583a.993.993 0 0 1-.116-1.403 1 1 0 0 1 1.401-.13l2.306 1.935z",fill:"#FFF"}),n.createElement("path",{d:"M25 38.49c0-.823.668-1.49 1.509-1.49H54.77c.833 0 1.788.605 2.139 1.365l3.207 6.942c.348.754-.036 1.365-.86 1.365H26.491c-.824 0-1.491-.665-1.491-1.49V38.49z",fill:"#FFF",stroke:o,strokeWidth:"2"}),n.createElement("path",{d:"M27 40.49c0-.823.668-1.49 1.494-1.49h25.164c.825 0 1.751.62 2.07 1.386l2.869 6.9c.318.766-.096 1.386-.933 1.386H28.51A1.498 1.498 0 0 1 27 47.182V40.49z",fill:"#22A7F0",fillOpacity:".1"}),n.createElement("rect",{fill:"#FFF",height:"53.197",rx:"1.5",stroke:o,strokeWidth:"2",width:"80",x:"25",y:"43"}),n.createElement("path",{d:"M27 82.214c0-.827.657-1.34 1.475-1.185 0 0 3.614 1.268 23.858 1.268 12.585 0 18.165 3.312 25.334 3.312 14.499 0 23.954-4.331 23.954-4.331.762-.31 1.379.115 1.379.936v10.284c0 .827-.68 1.497-1.501 1.497H28.501A1.503 1.503 0 0 1 27 92.498V82.214z",fill:o,fillOpacity:".1"})))},m=a(43),h=Object(m.c)({customTitle:{id:"boxui.metadataInstanceEditor.customTitle",defaultMessage:"Custom Metadata"},customAdd:{id:"boxui.metadataInstanceEditor.customAdd",defaultMessage:"Add"},customRemove:{id:"boxui.metadataInstanceEditor.customRemove",defaultMessage:"Remove"},customKey:{id:"boxui.metadataInstanceEditor.customKey",defaultMessage:"Key"},customKeyPlaceholder:{id:"boxui.metadataInstanceEditor.customKeyPlaceholder",defaultMessage:"e.g. Order Number"},customValue:{id:"boxui.metadataInstanceEditor.customValue",defaultMessage:"Value"},customValuePlaceholder:{id:"boxui.metadataInstanceEditor.customValuePlaceholder",defaultMessage:"e.g. 42"},customNewField:{id:"boxui.metadataInstanceEditor.customNewField",defaultMessage:"New Field"},customNewFieldMessage:{id:"boxui.metadataInstanceEditor.customNewFieldMessage",defaultMessage:"Add a custom metadata field. Other people will be able to see and search for this field."},customErrorRequired:{id:"boxui.metadataInstanceEditor.customErrorRequired",defaultMessage:"A key is required."},customErrorDuplicateKey:{id:"boxui.metadataInstanceEditor.customErrorDuplicateKey",defaultMessage:"A field with that key already exists."},customErrorInternalKey:{id:"boxui.metadataInstanceEditor.customErrorInternalKey",defaultMessage:"Keys cannot begin with a $."},invalidInput:{id:"boxui.metadataInstanceEditor.invalidValue",defaultMessage:"Invalid Input!"},metadataEditTooltip:{id:"boxui.metadataInstanceEditor.editTooltip",defaultMessage:"Edit Metadata"},metadataRemoveTemplate:{id:"boxui.metadataInstanceEditor.removeTemplate",defaultMessage:"Remove"},fileMetadataRemoveTemplateConfirm:{id:"boxui.metadataInstanceEditor.fileMetadataRemoveTemplateConfirm",defaultMessage:'Are you sure you want to delete "{metadataName}" and all of its values from this file?'},folderMetadataRemoveTemplateConfirm:{id:"boxui.metadataInstanceEditor.folderMetadataRemoveTemplateConfirm",defaultMessage:'Are you sure you want to delete "{metadataName}" and all of its values? Any metadata template values already applied to files in this folder will not be deleted.'},fileMetadataRemoveCustomTemplateConfirm:{id:"boxui.metadataInstanceEditor.fileMetadataRemoveCustomTemplateConfirm",defaultMessage:"Are you sure you want to delete this custom metadata and all of its values from this file?"},folderMetadataRemoveCustomTemplateConfirm:{id:"boxui.metadataInstanceEditor.folderMetadataRemoveCustomTemplateConfirm",defaultMessage:"Are you sure you want to delete this custom metadata and all of its values? Any metadata template values already applied to files in this folder will not be deleted."},metadataTemplateSearchPlaceholder:{id:"boxui.metadataInstanceEditor.templateSearchPlaceholder",defaultMessage:"Search all templates"},metadataTemplateAdd:{id:"boxui.metadataInstanceEditor.templateAdd",defaultMessage:"Add"},metadataTemplatesTitle:{id:"boxui.metadataInstanceEditor.templatesTitle",defaultMessage:"Templates"},metadataTemplatesNoResults:{id:"boxui.metadataInstanceEditor.templatesNoResults",defaultMessage:"No Results"},metadataTemplatesFetchFailed:{id:"boxui.metadataInstanceEditor.templatesFetchFailed",defaultMessage:"Sorry! We could not fetch templates. Please contact your administrator"},metadataTemplatesNoRemainingTemplates:{id:"boxui.metadataInstanceEditor.templatesNoRemainingTemplates",defaultMessage:"All templates have been added"},metadataTemplatesServerHasNoTemplates:{id:"boxui.metadataInstanceEditor.templatesServerHasNoTemplates",defaultMessage:"Zero templates"},metadataSave:{id:"boxui.metadataInstanceEditor.metadataSave",defaultMessage:"Save"},metadataCancel:{id:"boxui.metadataInstanceEditor.metadataCancel",defaultMessage:"Cancel"},metadataCascadePolicyEnabledInfo:{id:"boxui.metadataInstanceEditor.metadataCascadePolicyEnabledInfo",defaultMessage:"This template and its values are being cascaded to all items in this folder and its subfolders."},noMetadata:{id:"boxui.metadataInstanceEditor.noMetadata",defaultMessage:"No Metadata Applied"},noMetadataAddTemplate:{id:"boxui.metadataInstanceEditor.noMetadataAddTemplate",defaultMessage:"Click 'Add' in the top right to add metadata to this item"},enableCascadePolicy:{id:"boxui.metadataInstanceEditor.enableCascadePolicy",defaultMessage:"Enable Cascade Policy"},applyCascadePolicyText:{id:"boxui.metadataInstanceEditor.applyCascadePolicyText",defaultMessage:"Apply template and its values to all new and existing items in this folder and its subfolders."},cannotApplyCascadePolicyText:{id:"boxui.metadataInstanceEditor.cannotApplyCascadePolicyText",defaultMessage:"Cascade policy cannot be applied to custom metadata at this time."},cascadePolicyLearnMore:{id:"boxui.metadataInstanceEditor.cascadePolicyLearnMore",defaultMessage:"Learn more"},cascadePolicyModeQuestion:{id:"boxui.metadataInstanceEditor.cascadePolicyModeQuestion",defaultMessage:"In the case of conflicts when applying this template and its values to existing items, what would you like to do? This is a one time action."},cascadePolicySkipMode:{id:"boxui.metadataInstanceEditor.cascadePolicySkipMode",defaultMessage:"Skip and keep all existing template values"},cascadePolicyOverwriteMode:{id:"boxui.metadataInstanceEditor.cascadePolicyOverwriteMode",defaultMessage:"Overwrite all existing template values"},allAttributesAreHidden:{id:"boxui.metadataInstanceEditor.allAttributesAreHidden",defaultMessage:"All attributes in this template have been hidden."},noAttributesForTemplate:{id:"boxui.metadataInstanceEditor.noAttributesForTemplate",defaultMessage:"There are no attributes in this template."},operationNotImmediate:{id:"boxui.metadataInstanceEditor.operationNotImmediate",defaultMessage:"This operation is not immediate and may take some time."}}),y=(a(776),function(e){var t=e.canAdd;return n.createElement("div",{className:"metadata-instance-editor-no-instances"},n.createElement(f,null),n.createElement("p",{className:"metadata-instance-editor-no-instances--call-out"},n.createElement(d.a,h.noMetadata)),t&&n.createElement("p",{className:"metadata-instance-editor-no-instances--how-add-template"},n.createElement(d.a,h.noMetadataAddTemplate)))}),v=a(548),b=a(80),g=a(40),E=a.n(g),O=a(214),w=a.n(O),C=a(236),S=a.n(C),j=a(621),P=a(623),M=a(169),N=a(72),x=a(546),T=a(7),I=function(e){var t,a=e.className,r=void 0===a?"":a,o=e.color,i=e.title,l=e.type,c=e.width,s=void 0===c?16:c,u=e.height,d=void 0===u?16:u;return t=o||("cascade"===l?T.t:T.b),n.createElement(p.a,{className:"icon-metadata ".concat(r),height:d,title:i,viewBox:"0 0 16 16",width:s},n.createElement("path",{className:"fill-color",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm-2.515-5.879L6.2 7.263l1.376 2.202a.5.5 0 0 0 .848 0L9.8 7.263l.715 2.858a.5.5 0 0 0 .97-.242l-1-4a.5.5 0 0 0-.909-.144L8 8.257 6.424 5.735a.5.5 0 0 0-.91.144l-1 4a.5.5 0 0 0 .971.242z",fill:t,fillRule:"evenodd"}))},k=function(e){var t=e.className,a=void 0===t?"":t,r=e.color,o=void 0===r?"#FFFFFF":r,i=e.height,l=void 0===i?20:i,c=e.title,s=e.width,u=void 0===s?20:s;return n.createElement(p.a,{className:"icon-alert-circle ".concat(a),height:l,title:c,viewBox:"0 0 20 20",width:u},n.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},n.createElement("circle",{className:"stroke-color",cx:"9",cy:"9",r:"9",stroke:o}),n.createElement("rect",{className:"fill-color",fill:o,height:"6",rx:"1",width:"2",x:"8",y:"4"}),n.createElement("circle",{className:"fill-color",cx:"9",cy:"13",fill:o,r:"1"})))},A=a(577),R=a(113);a(778);function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},F.apply(this,arguments)}function D(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var _=n.forwardRef((function(e,t){var a=e.className,r=void 0===a?"":a,o=e.description,i=e.isDisabled,l=e.isOn,c=e.isToggleRightAligned,s=void 0!==c&&c,u=e.label,d=e.name,p=e.onBlur,f=e.onChange,m=e.onFocus,h=e.onMouseEnter,y=e.onMouseLeave,v=D(e,["className","description","isDisabled","isOn","isToggleRightAligned","label","name","onBlur","onChange","onFocus","onMouseEnter","onMouseLeave"]),b=E()("toggle-container",r,{"is-toggle-right-aligned":s}),g=[n.createElement("div",{key:"toggle-simple-switch",className:"toggle-simple-switch"}),n.createElement("div",{key:"toggle-simple-label",className:"toggle-simple-label"},u)];return s&&g.reverse(),n.createElement("div",{className:b,onMouseEnter:h,onMouseLeave:y},n.createElement("label",{className:"toggle-simple"},n.createElement("input",F({checked:l,className:"toggle-simple-input",disabled:i,name:d,onBlur:p,onChange:f,onFocus:m,ref:t,role:"switch",type:"checkbox"},v)),g),o?n.createElement("div",{className:"toggle-simple-description"},o):null)}));_.displayName="Toggle";var V=_;a(779);function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K.apply(this,arguments)}function B(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var L=function(){},H=function(e){var t=e.isDisabled,a=e.isSelected,r=void 0!==a&&a,o=e.description,i=e.hideLabel,l=void 0!==i&&i,c=e.label,s=e.name,u=e.value,d=B(e,["isDisabled","isSelected","description","hideLabel","label","name","value"]);return n.createElement("div",{className:"radio-container"},n.createElement("label",{className:"radio-label"},n.createElement("input",K({checked:r,disabled:t,name:s,onChange:L,type:"radio",value:u},d)),n.createElement("span",null),n.createElement("span",{className:l?"accessibility-hidden":""},c)),o?n.createElement("div",{className:"radio-description"},o):null)};function z(e){return z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function W(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J(e,t)}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var G=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=q(t).call(this,e),a=!r||"object"!==z(r)&&"function"!==typeof r?U(n):r,$(U(a),"onChangeHandler",(function(e){var t=e.target,n=a.props.onChange;t instanceof HTMLInputElement&&a.setState({value:t.value}),n&&n(e)})),a.state={value:e.value},a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,r=e.name,o=this.state.value;return n.createElement("div",{className:"radio-group ".concat(a),onChange:this.onChangeHandler},n.Children.map(t,(function(e){var t=e.props.value;return n.cloneElement(e,{name:r,isSelected:t===o})})))}}])&&W(a.prototype,r),o&&W(a,o),t}(n.Component);$(G,"defaultProps",{className:""});var Q=G;var Z=a(624),X=a(654);a(780);function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Y.apply(this,arguments)}var ee=function(e){var t=e.canEdit,a=e.isCascadingEnabled,r=e.isCascadingOverwritten,o=e.isCustomMetadata,i=e.onCascadeToggle,l=e.onCascadeModeChange,c=e.shouldShowCascadeOptions,s=a?n.createElement("div",{className:"metadata-cascade-notice"},n.createElement(d.a,h.metadataCascadePolicyEnabledInfo)):null;return t?n.createElement(n.Fragment,null,n.createElement("div",{className:"metadata-cascade-editor"},n.createElement("div",{className:"metadata-cascade-enable"},n.createElement("div",null,n.createElement(d.a,Y({tagName:"strong"},h.enableCascadePolicy)),!o&&n.createElement(V,{className:"metadata-cascade-toggle ".concat(a?"cascade-on":"cascade-off"),isOn:a,label:"",onChange:function(e){return i(e.target.checked)}})),o?n.createElement("div",null,n.createElement(d.a,h.cannotApplyCascadePolicyText)):n.createElement("div",{className:"cascade-policy-text"},n.createElement(d.a,h.applyCascadePolicyText),"\xa0",n.createElement(Z.a,{className:"cascade-policy-learnmore-link",href:"https://community.box.com/t5/Organizing-and-Tracking-Content/Metadata/ta-p/30765",target:"_blank"},n.createElement(d.a,h.cascadePolicyLearnMore))))),c&&n.createElement("div",{className:"metadata-cascade-editor"},n.createElement("div",{className:"metadata-cascading-mode"},n.createElement(d.a,h.cascadePolicyModeQuestion),n.createElement("div",{className:"metadata-operation-not-immediate"},n.createElement(X.a,null),n.createElement("span",null,n.createElement(d.a,h.operationNotImmediate))),n.createElement(Q,{className:"metadata-cascading-options",onChange:function(e){return l("overwrite"===e.target.value)},value:r?"overwrite":"skip"},n.createElement(H,{label:n.createElement(d.a,h.cascadePolicySkipMode),value:"skip"}),n.createElement(H,{label:n.createElement(d.a,h.cascadePolicyOverwriteMode),value:"overwrite"}))))):s},te=a(581);var ae=Object(m.c)({customAdd:{id:"boxui.metadataInstanceFields.customAdd",defaultMessage:"Add"},customRemove:{id:"boxui.metadataInstanceFields.customRemove",defaultMessage:"Remove"},invalidMetadataFieldType:{id:"boxui.metadataInstanceFields.invalidMetadataFieldType",defaultMessage:"Invalid metadata field type!"},metadataFieldNoValue:{id:"boxui.metadataInstanceFields.fieldNoValue",defaultMessage:"No Value"},metadataFieldSelectValue:{id:"boxui.metadataInstanceFields.fieldSelectValue",defaultMessage:"Select Value"},metadataFieldMultiSelectValue:{id:"boxui.metadataInstanceFields.fieldMultiSelectValue",defaultMessage:"Select Values"},metadataFieldSetValue:{id:"boxui.metadataInstanceFields.fieldSetValue",defaultMessage:"Set Value"},metadataFieldSetDate:{id:"boxui.metadataInstanceFields.fieldSetDate",defaultMessage:"Set Date"}}),ne=(a(781),Object(b.c)((function(e){var t=e.dataKey,a=e.dataValue,r=e.displayName,o=e.description,i=e.error,l=e.intl,c=e.onChange,s=e.onRemove,u=e.type,d=void 0===u?"text":u,p="";return("number"===typeof a||a)&&(p=a),n.createElement(te.a,{className:"bdl-TextMetadataField",description:o,error:i,hideOptionalLabel:!0,label:r,name:t,onChange:function(e){var a=e.currentTarget;a.value?c(t,a.value):s(t)},placeholder:l.formatMessage(ae.metadataFieldSetValue),type:d,value:p})}))),re=a(558),oe=a(65),ie=a.n(oe),le=a(35),ce=a.n(le),se=a(782),ue=a.n(se),de=function(e){var t=e.className,a=void 0===t?"":t,r=e.color,o=void 0===r?"#000000":r,i=e.height,l=void 0===i?24:i,c=e.title,s=e.width,u=void 0===s?24:s;return n.createElement(p.a,{className:"icon-check ".concat(a),height:l,title:c,viewBox:"0 0 24 24",width:u},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{className:"fill-color",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",fill:o}))};a(793);function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pe.apply(this,arguments)}function fe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var me=n.forwardRef((function(e,t){var a=e.children,r=e.className,o=void 0===r?"":r,i=e.error,l=e.errorTooltipPosition,c=void 0===l?"middle-right":l,s=e.isDisabled,u=void 0!==s&&s,d=e.tooltipTetherClassName,p=fe(e,["children","className","error","errorTooltipPosition","isDisabled","tooltipTetherClassName"]);return n.createElement(x.c,{isShown:!!i,position:c,tetherElementClassName:d,text:i,theme:"error"},n.createElement("button",pe({className:E()(o,"select-button","bdl-SelectButton",{"is-invalid":!!i}),disabled:u,ref:t,type:"button"},p),a))})),he=a(603),ye=a(699);function ve(e){return ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(){return be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},be.apply(this,arguments)}function ge(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ee(e,t){return!t||"object"!==ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function we(e,t){return we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},we(e,t)}var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ee(this,Oe(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,e),a=t,(r=[{key:"componentDidUpdate",value:function(e){var t=e.selectedValues,a=this.props,n=a.multiple,r=a.scheduleUpdate,o=a.selectedValues;n&&r&&t!==o&&r()}},{key:"render",value:function(){var e,t,a,r=this.props,o=r.children,i=r.innerRef,l=r.style,c=r.placement,s=r.isScrollable,u=r.multiple,d=r.selectFieldID,p={};return u&&(p["aria-multiselectable"]=!0),n.createElement("ul",be({ref:i,style:l,"data-placement":c,className:E()("bdl-SelectFieldDropdown","overlay",(e={},t="bdl-SelectField-overlay--scrollable",a=s,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e)),id:d,role:"listbox",onMouseDown:function(e){return e.preventDefault()}},p),o)}}])&&ge(a.prototype,r),o&&ge(a,o),t}(n.Component),Se=n.forwardRef((function(e,t){return n.createElement(Ce,be({},e,{innerRef:t}))})),je=a(625),Pe=a(669),Me=a(11);function Ne(){return Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ne.apply(this,arguments)}var xe=function(e){return n.createElement(Me.a,Ne({width:16,height:16,viewBox:"0 0 16 16"},e),n.createElement("path",{fill:T.k,fillRule:"evenodd",d:"M6.994 1a5.994 5.994 0 014.906 9.438l2.807 2.807a1 1 0 010 1.415l-.047.047a1 1 0 01-1.415 0L10.438 11.9A5.994 5.994 0 116.994 1zm0 1.998a3.996 3.996 0 100 7.992 3.996 3.996 0 000-7.992z"}))},Te=a(221);a(817);function Ie(e){return Ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function ke(){return ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ke.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Re(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){return _e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_e(e,t)}function Ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ke=Object(m.c)({clearButtonTitle:{id:"boxui.searchForm.clearButtonTitle",defaultMessage:"Clear"},searchButtonTitle:{id:"boxui.searchForm.searchButtonTitle",defaultMessage:"Search"},searchLabel:{id:"boxui.searchForm.searchLabel",defaultMessage:"Search query"}}),Be=function(e){function t(){var e,a,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=this,r=(e=Fe(t)).call.apply(e,[this].concat(i)),a=!r||"object"!==Ie(r)&&"function"!==typeof r?De(n):r,Ve(De(a),"state",{isEmpty:!0}),Ve(De(a),"onClearHandler",(function(e){var t=a.props,n=t.onChange;t.shouldPreventClearEventPropagation&&e.stopPropagation(),a.searchInput&&(a.searchInput.value=""),a.setState({isEmpty:!0}),n&&n("")})),Ve(De(a),"onChangeHandler",(function(e){var t=e.target.value,n=a.props.onChange;a.setState({isEmpty:!t||!t.trim().length}),n&&n(t)})),Ve(De(a),"onSubmitHandler",(function(e){var t=e.target.elements[0].value,n=a.props.onSubmit;n&&n(t,e)})),Ve(De(a),"setInputRef",(function(e){a.searchInput=e,a.props.getSearchInput&&a.props.getSearchInput(a.searchInput)})),a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,e),a=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t=e.value;return t&&t.trim()?{isEmpty:!0}:null}}],(r=[{key:"render",value:function(){var e=this,t=this.props,a=t.action,r=t.className,o=t.innerRef,i=t.intl,l=t.isLoading,c=t.method,s=t.name,u=t.queryParams,d=t.onSubmit,p=t.useClearButton,f=Ae(t,["action","className","innerRef","intl","isLoading","method","name","queryParams","onSubmit","useClearButton"]),m=this.state.isEmpty,h=ie()(f,["getSearchInput","onChange","onSubmit","required","shouldPreventClearEventPropagation"]),y=i.formatMessage,v=E()(r,"search-input-container"),b=E()("search-form",{"is-empty":m,"use-clear-button":p}),g=Object.keys(u).map((function(e,t){return n.createElement("input",{key:t,name:e,type:"hidden",value:u[e]})})),O=Object(Te.a)((function(){return n.createElement("div",{className:"action-buttons"},d?n.createElement("button",{type:"submit",className:"action-button search-button",title:y(Ke.searchButtonTitle)},n.createElement(xe,null)):n.createElement("div",{className:"action-button search-button"},n.createElement(xe,null)),n.createElement("button",{className:"action-button clear-button",onClick:e.onClearHandler,title:y(Ke.clearButtonTitle),type:"button"},n.createElement(Pe.a,null)))}));return n.createElement("div",{ref:o,className:v},n.createElement("form",{action:a,className:b,method:c,onChange:this.onChangeHandler,onSubmit:this.onSubmitHandler,role:"search"},n.createElement("input",ke({ref:this.setInputRef,"aria-label":y(Ke.searchLabel),autoComplete:"off",className:"search-input",name:s,onChange:function(){},type:"search"},h)),n.createElement(O,{isLoading:l,loadingIndicatorProps:{className:"search-form-loading-indicator"}}),g))}}])&&Re(a.prototype,r),o&&Re(a,o),t}(n.Component);Ve(Be,"defaultProps",{action:"",method:"get",name:"search",queryParams:{},useClearButton:!1});var Le=Object(b.c)(Be),He=n.forwardRef((function(e,t){return n.createElement(Le,ke({},e,{innerRef:t}))}));He.displayName="SearchForm";var ze=He,We="__clear__",qe="Enter",Ue=Object(m.c)({clearAll:{id:"boxui.selectField.clearAll",defaultMessage:"Clear All"},searchPlaceholder:{id:"boxui.selectField.searchPlaceholder",defaultMessage:"Search"},noResults:{id:"boxui.selectField.noResults",defaultMessage:"No Results"}});a(818);function Je(e){return Je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$e.apply(this,arguments)}function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qe(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ze(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xe(e){return Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xe(e)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function at(e){e.preventDefault(),e.stopPropagation()}var nt=function(e){function t(e){var a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Xe(t).call(this,e),a=!o||"object"!==Je(o)&&"function"!==typeof o?Ye(r):o,tt(Ye(a),"updateSearchText",(function(e){var t=a.props.options,n=ue()(t,(function(t){return t.displayText.toLowerCase().includes(e.toLowerCase())}));n>=0&&a.setActiveItem(n),a.setState({searchText:e})})),tt(Ye(a),"handleDocumentClick",(function(e){var t=a.selectFieldContainerRef.current;t&&e.target instanceof Node&&t.contains(e.target)||t===e.target||a.closeDropdown()})),tt(Ye(a),"setActiveItem",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.setState({activeItemIndex:e,shouldScrollIntoView:t}),-1===e&&a.setActiveItemID(null)})),tt(Ye(a),"setActiveItemID",(function(e){var t=a.state.shouldScrollIntoView,n=e?document.getElementById(e):null;a.setState({activeItemID:e,shouldScrollIntoView:!1},(function(){t&&Object(R.d)(n,{block:"nearest"})}))})),tt(Ye(a),"handleChange",(function(e){var t=a.props.onChange;t&&t(e)})),tt(Ye(a),"handleOptionSelect",(function(e){var t=a.props.onOptionSelect;t&&t(e)})),tt(Ye(a),"handleButtonClick",(function(){a.state.isOpen?a.closeDropdown():a.openDropdown()})),tt(Ye(a),"handleClearClick",(function(){a.handleChange([])})),tt(Ye(a),"handleButtonKeyDown",(function(e){var t=a.state.activeItemIndex;" "!==e.key&&e.key!==qe||-1===t||e.preventDefault()})),tt(Ye(a),"handleBlur",(function(e){var t=a.state.isOpen,n=a.props.blurExceptionClassNames,r=["search-input","select-button"].concat(Qe(void 0===n?[]:n));t&&e&&e.relatedTarget&&r.every((function(t){return e&&!e.relatedTarget.classList.contains(t)}))&&a.closeDropdown()})),tt(Ye(a),"handleKeyDown",(function(e){var t=e.key,n=a.props,r=n.options,o=n.shouldShowClearOption,i=n.shouldShowSearchInput,l=a.state,c=l.activeItemIndex,s=l.isOpen,u=r.length;switch(t){case"ArrowDown":if(at(e),s){var d=c===u-1?-1:c+1;a.setActiveItem(d)}else a.openDropdown();break;case"ArrowUp":if(at(e),s){var p=-1===c?u-1:c-1;a.setActiveItem(p)}else a.openDropdown();break;case qe:case" ":if(i){if(" "===t)break;if(t===qe&&-1===c){at(e);break}}if(-1!==c&&s)at(e),o&&0===c?a.handleClearClick():a.selectOption(c),t===qe&&a.closeDropdown();break;case"Escape":s&&(at(e),a.closeDropdown());break;case"Tab":s&&a.closeDropdown();break;default:if(!i){at(e);var f=t.toLowerCase(),m=ue()(r,(function(e){return 0===e.displayText.toLowerCase().indexOf(f)}));m>=0&&a.setActiveItem(m)}}})),tt(Ye(a),"openDropdown",(function(){var e=a.props.shouldShowSearchInput;a.state.isOpen||(a.setState({isOpen:!0},(function(){return e&&a.searchInputRef&&a.searchInputRef.focus()})),document.addEventListener("click",a.handleDocumentClick))})),tt(Ye(a),"closeDropdown",(function(){a.state.isOpen&&(a.setState({activeItemID:null,activeItemIndex:-1,isOpen:!1,searchText:""}),document.removeEventListener("click",a.handleDocumentClick))})),tt(Ye(a),"selectOption",(function(e){a.props.multiple?a.selectMultiOption(e):(a.selectSingleOption(e),a.closeDropdown())})),tt(Ye(a),"getFilteredOptions",(function(){var e=a.props.options,t=a.state.searchText;return e.filter((function(e){var a=e.displayText.toLowerCase().includes(t.toLowerCase()),n=e.value===We;return!t||a&&!n}))})),tt(Ye(a),"selectMultiOption",(function(e){var t=a.props,n=t.defaultValue,r=t.options,o=t.selectedValues,i=null!=n,l=a.getFilteredOptions()[e];if(i&&n===l.value)a.selectSingleOption(e);else{var c=o.slice(0);if(function(e,t){var a=e.indexOf(t);-1===a?e.push(t):e.splice(a,1)}(c,l.value),i){var s=ue()(r,(function(e){return e.value===n}));if(-1!==s){if(0===c.length)return void a.selectSingleOption(s);c.length>1&&c.includes(n)&&c.splice(s,1)}}a.handleChange(r.filter((function(e){return c.includes(e.value)}))),a.handleOptionSelect(l)}})),tt(Ye(a),"renderButtonText",(function(){var e=a.props,t=e.options,n=e.placeholder,r=e.selectedValues,o=e.title;return 0===r.length&&n?n:o||t.filter((function(e){return r.includes(e.value)})).map((function(e){return e.displayText})).join(", ")})),tt(Ye(a),"renderSearchInput",(function(){var e=a.props.intl,t=a.state.searchText;return n.createElement(ze,{className:"select-field-search-container",getSearchInput:function(e){a.searchInputRef=e},onChange:a.updateSearchText,placeholder:e.formatMessage(Ue.searchPlaceholder),value:t})})),tt(Ye(a),"renderSelectButton",(function(){var e=a.state,t=e.activeItemID,r=e.isOpen,o=a.props,i=o.buttonProps,l=o.isDisabled,c=o.className,s=o.error,u=o.errorTooltipPosition,d=o.tooltipTetherClassName,p=a.renderButtonText(),f=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(a),!0).forEach((function(t){tt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i,{"aria-activedescendant":t,"aria-autocomplete":"list","aria-expanded":r,"aria-owns":a.selectFieldID,className:c,isDisabled:l,onClick:a.handleButtonClick,onKeyDown:a.handleButtonKeyDown,role:"listbox",title:p});return n.createElement(me,$e({},f,{error:s,errorTooltipPosition:u,tooltipTetherClassName:d}),p)})),tt(Ye(a),"renderSelectOptions",(function(){var e=a.props,t=e.optionRenderer,r=e.selectedValues,o=e.separatorIndices,i=e.shouldShowClearOption,l=a.state.activeItemIndex,c=a.getFilteredOptions();if(0===c.length)return n.createElement(he.a,{className:"select-option is-disabled"},n.createElement(d.a,Ue.noResults));var s=c.map((function(e,o){var c=e.value,s=r.includes(c),u=i&&c===We,d={className:E()("select-option",{"is-clear-option":u}),key:o,onClick:function(e){e.preventDefault(),u?a.handleClearClick():a.selectOption(o)},onMouseEnter:function(){a.setActiveItem(o,!1)},setActiveItemID:a.setActiveItemID};return o===l&&(d.isActive=!0),d.isSelected=s,n.createElement(he.a,d,n.createElement("div",{className:"select-option-check-icon"},s?n.createElement(de,{height:16,width:16}):null),t(e))}));return o.forEach((function(e,t){s.splice(e+t,0,n.createElement("li",{key:"separator".concat(e),role:"separator"}))})),s})),a.selectFieldID=ce()("selectfield"),a.selectFieldContainerRef=n.createRef(),a.state={activeItemID:null,activeItemIndex:-1,isOpen:!1,searchText:"",shouldScrollIntoView:!1},a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,e),a=t,(r=[{key:"componentWillUnmount",value:function(){this.state.isOpen&&document.removeEventListener("click",this.handleDocumentClick)}},{key:"selectSingleOption",value:function(e){var t=this.props.selectedValues,a=this.getFilteredOptions()[e];t.includes(a.value)||this.handleChange([a]),this.handleOptionSelect(a)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.multiple,r=e.isEscapedWithReference,o=e.isRightAligned,i=e.isScrollable,l=e.selectedValues,c=e.shouldShowSearchInput,s=this.state.isOpen,u=o?je.b:je.c,d=r?{preventOverflow:{escapeWithReference:!0}}:{};return n.createElement("div",{className:E()(t,"bdl-SelectField","select-container"),onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,ref:this.selectFieldContainerRef},n.createElement(ye.a,{placement:u,isOpen:s,modifiers:d},this.renderSelectButton(),n.createElement(Se,{isScrollable:i,multiple:a,selectedValues:l,selectFieldID:this.selectFieldID},c&&this.renderSearchInput(),this.renderSelectOptions())))}}])&&Ze(a.prototype,r),o&&Ze(a,o),t}(n.Component);tt(nt,"defaultProps",{buttonProps:{},isDisabled:!1,isRightAligned:!1,isScrollable:!1,multiple:!1,optionRenderer:function(e){var t=e.displayText;return n.createElement("span",{className:"bdl-SelectField-optionText",title:t},t)},options:[],selectedValues:[],separatorIndices:[],shouldShowClearOption:!1,shouldShowSearchInput:!1});var rt=Object(b.c)(nt);function ot(e){return ot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},it.apply(this,arguments)}function lt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ct(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function st(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}var ft=function(e){function t(){var e,a,n,r,o,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=this,r=(e=ut(t)).call.apply(e,[this].concat(s)),a=!r||"object"!==ot(r)&&"function"!==typeof r?dt(n):r,o=dt(a),l=function(e){var t=a.props,n=t.onChange,r=t.fieldType;n&&1===e.length?n(e[0],r):0===e.length&&n({value:null})},(i="handleChange")in o?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l,a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props,t=e.intl,a=e.isDisabled,r=e.selectedValue,o=e.placeholder,i=e.shouldShowClearOption,l=e.options,c=ct(e,["intl","isDisabled","selectedValue","placeholder","shouldShowClearOption","options"]),s=ie()(c,["defaultValue","multiple","onChange"]),u=null!==r;s.selectedValues=u?[r]:[];var d=i?[{value:We,displayText:t.formatMessage(Ue.clearAll)}].concat(lt(l)):l;return n.createElement(rt,it({className:!u&&o?"placeholder":"",isDisabled:a,onChange:this.handleChange,placeholder:o,options:d,shouldShowClearOption:i},s))}}])&&st(a.prototype,r),o&&st(a,o),t}(n.Component),mt=Object(b.c)(ft),ht=(a(819),Object(b.c)((function(e){var t=e.blurExceptionClassNames,a=e.dataKey,r=e.dataValue,o=e.displayName,i=e.description,l=e.intl,c=e.onChange,s=e.onRemove,u=e.options,d=(void 0===u?[]:u).map((function(e){return{displayText:e.key,value:e.key,isSelectable:!0}})),p=l.formatMessage(ae.metadataFieldSelectValue);return d.unshift({displayText:p,value:p,isSelectable:!1}),n.createElement("div",{className:"bdl-EnumMetadataField"},n.createElement(re.a,{text:o},!!i&&n.createElement("i",{className:"bdl-EnumMetadataField-desc"},i),n.createElement(mt,{blurExceptionClassNames:t,isEscapedWithReference:!0,isScrollable:!0,onChange:function(e){e.isSelectable?c(a,e.value):s&&s(a)},options:d,selectedValue:Array.isArray(r)?r.join(", "):r||p})))}))),yt=a(602),vt=a(547),bt=(a(826),Object(b.c)((function(e){var t=e.dataKey,a=e.dataValue,r=e.displayName,o=e.description,i=e.intl,l=e.onChange,c=e.onRemove;return n.createElement(yt.a,{className:"bdl-DateMetadataField",dateFormat:"utcISOString",description:o,displayFormat:{day:"numeric",month:"long",year:"numeric"},hideOptionalLabel:!0,label:r,onChange:function(e,a){a?l(t,a):c(t)},placeholder:i.formatMessage(ae.metadataFieldSetDate),value:"string"===typeof a?Object(vt.c)(a):void 0})}))),gt="date",Et="integer",Ot="float",wt="string",Ct=/^[-+]?[0-9]*\.?[0-9]*$/,St=/^[-+]?[0-9]+$/,jt=function(e,t){return e===Ot&&"string"===typeof t?function(e){return!!e.match(Ct)}(t):e!==Et||"string"!==typeof t||function(e){return!!e.match(St)}(t)},Pt=function(e){var t=e.dataKey,a=e.dataValue,r=e.displayName,o=e.description,i=e.error,l=e.onChange,c=e.onRemove,s=e.type;return n.createElement(ne,{dataKey:t,dataValue:a,description:o,displayName:r,error:i,onChange:function(e,t){jt(s,t)&&l(e,t)},onRemove:c})},Mt=function(e){var t=e.dataKey,a=e.dataValue,r=e.displayName,o=e.description,i=e.error,l=e.onChange,c=e.onRemove,s=e.type;return n.createElement(ne,{dataKey:t,dataValue:a,description:o,displayName:r,error:i,onChange:function(e,t){jt(s,t)&&l(e,t)},onRemove:c})};function Nt(){return Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Nt.apply(this,arguments)}function xt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Tt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var It=function(e,t,a){return t?[{value:We,displayText:a.formatMessage(Ue.clearAll)}].concat(Tt(e)):e},kt=Object(b.c)((function(e){var t=e.intl,a=e.options,n=e.shouldShowClearOption,o=xt(e,["intl","options","shouldShowClearOption"]);return r.a.createElement(rt,Nt({},o,{shouldShowClearOption:n,options:It(a,n,t),multiple:!0}))})),At=(a(827),function(e){var t=e.blurExceptionClassNames,a=e.dataKey,r=e.dataValue,o=e.displayName,i=e.description,l=e.onChange,c=e.onRemove,s=e.options,u=void 0===s?[]:s,p=n.createElement(d.a,ae.metadataFieldMultiSelectValue);return n.createElement("div",{className:"bdl-MultiSelectMetadataField"},n.createElement(re.a,{text:o},!!i&&n.createElement("i",{className:"bdl-MultiSelectMetadataField-desc"},i),n.createElement(kt,{blurExceptionClassNames:t,isEscapedWithReference:!0,isScrollable:!0,onChange:function(e){e.length?l(a,e.map((function(e){return e.value}))):c(a)},options:u.map((function(e){return{displayText:e.key,value:e.key}})),placeholder:p,selectedValues:r})))});a(828);function Rt(){return Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Rt.apply(this,arguments)}var Ft=function(e){var t=e.dataValue,a=e.description,r=e.displayName,o=e.type,i=n.createElement(d.a,Rt({tagName:"i"},ae.metadataFieldNoValue));return(t||"number"===typeof t)&&(i="string"===typeof t&&o===gt?n.createElement(m.a,{day:"numeric",month:"long",value:Object(vt.c)(t),year:"numeric"}):Array.isArray(t)?t.join(", "):t),n.createElement("dl",{className:"bdl-ReadOnlyMetadataField"},n.createElement("dt",null,r),!!a&&n.createElement("i",{className:"bdl-ReadOnlyMetadataField-desc"},a),n.createElement("dd",null,i))},Dt=function(e){var t=e.blurExceptionClassNames,a=e.dataKey,r=e.dataValue,o=e.displayName,i=e.description,l=e.error,c=e.isHidden,s=e.canEdit,u=e.onChange,p=e.onRemove,f=e.options,m=e.type;if(c)return null;if(!s)return n.createElement(Ft,{dataValue:r,description:i,displayName:o,type:m});if(!u||!p)throw new Error("Need to have onChange and onRemove");switch(m){case wt:return n.createElement(ne,{dataKey:a,dataValue:r,description:i,displayName:o,onChange:u,onRemove:p});case Ot:return n.createElement(Pt,{dataKey:a,dataValue:r,description:i,displayName:o,error:l,onChange:u,onRemove:p,type:m});case Et:return n.createElement(Mt,{dataKey:a,dataValue:r,description:i,displayName:o,error:l,onChange:u,onRemove:p,type:m});case"enum":return n.createElement(ht,{blurExceptionClassNames:t,dataKey:a,dataValue:r,description:i,displayName:o,onChange:u,onRemove:p,options:f});case"multiSelect":return n.createElement(At,{blurExceptionClassNames:t,dataKey:a,dataValue:r,description:i,displayName:o,onChange:u,onRemove:p,options:f});case gt:return n.createElement(bt,{dataKey:a,dataValue:r,description:i,displayName:o,onChange:u,onRemove:p});default:return n.createElement(v.a,{title:m},n.createElement(d.a,ae.invalidMetadataFieldType))}};function _t(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Vt=function(e){return!!e.isHidden||!!e.hidden},Kt=function(e,t,a){if(!t)return _t(e);var n=e.filter((function(e){return e.templateKey===t})),r=n[0]?n[0].fields:null;if(a&&r){var o=function(e){return"string"===typeof e?new Set([e]):new Set(e)}(a);n[0].fields=r.filter((function(e){return o.has(e.id)}))}return n},Bt=n.createContext({blurExceptionClassNames:[]}),Lt=(a(829),function(e){var t=e.canEdit,a=e.data,r=void 0===a?{}:a,o=e.errors,i=e.onFieldChange,l=e.onFieldRemove,c=e.template.fields,s=void 0===c?[]:c,u=s.length>0,p=u&&s.some((function(e){return!Vt(e)})),f=!u,m=u&&!p,y=n.useContext(Bt).blurExceptionClassNames;return n.createElement(n.Fragment,null,p&&s.map((function(e){return n.createElement(Dt,{key:e.id,blurExceptionClassNames:y,canEdit:t,dataKey:e.key,dataValue:r[e.key],description:e.description,displayName:e.displayName,error:o[e.key],isHidden:Vt(e),onChange:function(a,n){t&&i&&i(a,n,e.type)},onRemove:function(e){t&&l&&l(e)},options:e.options,type:e.type})})),m&&n.createElement("div",{className:"attributes-hidden-message"},n.createElement(d.a,h.allAttributesAreHidden)),f&&n.createElement("div",{className:"no-attributes-message"},n.createElement(d.a,h.noAttributesForTemplate)))}),Ht=a(99),zt=a(556),Wt=a(559),qt=a(571);a(830);function Ut(e){return Ut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Jt(){return Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Jt.apply(this,arguments)}function $t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e,t){return Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zt(e,t)}function Xt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Yt=function(e){function t(){var e,a,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return r=this,o=(e=Gt(t)).call.apply(e,[this].concat(l)),a=!o||"object"!==Ut(o)&&"function"!==typeof o?Qt(r):o,Xt(Qt(a),"state",{key:"",value:"",error:""}),Xt(Qt(a),"onKeyChange",(function(e){a.onChange(e,"key")})),Xt(Qt(a),"onValueChange",(function(e){a.onChange(e,"value")})),Xt(Qt(a),"onAdd",(function(){var e=a.state,t=e.key,r=e.value,o=a.props,i=o.onAdd,l=o.properties;Object.prototype.hasOwnProperty.call(l,t)?a.setState({error:n.createElement(d.a,h.customErrorDuplicateKey)}):t.startsWith("$")?a.setState({error:n.createElement(d.a,h.customErrorInternalKey)}):t?i(t,r):a.setState({error:n.createElement(d.a,h.customErrorRequired)})})),a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,e),a=t,(r=[{key:"onChange",value:function(e,t){var a=e.currentTarget;this.setState(Xt({error:""},t,a.value))}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.isCancellable,r=e.onCancel,o=this.state,i=o.key,l=o.value,c=o.error;return n.createElement("div",{className:"custom-new-field"},n.createElement("div",{className:"custom-new-field-header"},n.createElement(d.a,Jt({tagName:"h5"},h.customNewField)),n.createElement(zt.c,{text:n.createElement(d.a,h.customNewFieldMessage)},n.createElement("div",{tabIndex:"-1"},n.createElement(qt.a,{color:"#777",height:18,width:18})))),n.createElement(te.a,{error:c,isRequired:!0,label:n.createElement(d.a,h.customKey),onChange:this.onKeyChange,placeholder:t.formatMessage(h.customKeyPlaceholder),type:"text",value:i}),n.createElement(te.a,{hideOptionalLabel:!0,label:n.createElement(d.a,h.customValue),onChange:this.onValueChange,placeholder:t.formatMessage(h.customValuePlaceholder),type:"text",value:l}),n.createElement("div",{className:"custom-new-field-actions"},a&&n.createElement(Ht.b,{"data-resin-target":"metadata-customfieldcancel",onClick:r,type:"button"},n.createElement(d.a,Wt.a.cancel)),n.createElement(Ht.b,{"data-resin-target":"metadata-customfieldadd",onClick:this.onAdd,type:"button"},n.createElement(d.a,h.customAdd))))}}])&&$t(a.prototype,r),o&&$t(a,o),t}(n.PureComponent),ea=Object(b.c)(Yt),ta=(a(831),function(e){var t=e.children,a=e.className,r=void 0===a?"":a,o=e.isDisabled;return n.createElement("div",{className:"btn-group ".concat(r," ").concat(o?"is-disabled":"")},t)}),aa=function(e){var t=e.className,a=void 0===t?"":t,r=e.color,o=void 0===r?"#222":r,i=e.height,l=void 0===i?1:i,c=e.title,s=e.width,u=void 0===s?9:s;return n.createElement(p.a,{className:"icon-minus-thin ".concat(a),height:l,title:c,viewBox:"0 0 9 1",width:u},n.createElement("path",{className:"fill-color",d:"M0 0h9v1H0z",fill:o,fillRule:"evenodd"}))},na=function(e){var t=e.className,a=void 0===t?"":t,r=e.color,o=void 0===r?"#222":r,i=e.height,l=void 0===i?9:i,c=e.title,s=e.width,u=void 0===s?9:s;return n.createElement(p.a,{className:"icon-plus-thin ".concat(a),height:l,title:c,viewBox:"0 0 9 9",width:u},n.createElement("path",{className:"fill-color",d:"M5 4V0H4v4H0v1h4v4h1V5h4V4H5z",fill:o,fillRule:"evenodd"}))},ra=(a(832),"#999"),oa=Object(b.c)((function(e){var t=e.intl,a=e.canEdit,r=e.isLast,o=e.dataKey,i=e.dataValue,l=e.onAdd,c=e.onChange,s=e.onRemove,u=n.createElement(Ht.b,{"aria-label":t.formatMessage(ae.customAdd),"data-resin-target":"metadata-customfieldnew",onClick:l,type:"button"},n.createElement(na,{color:ra})),d=n.createElement(Ht.b,{"aria-label":t.formatMessage(ae.customRemove),"data-resin-target":"metadata-customfieldremove",onClick:function(){s&&s(o)},type:"button"},n.createElement(aa,{color:ra}));return n.createElement("div",{className:"bdl-CustomMetadataField"},n.createElement(Dt,{canEdit:a,dataKey:o,dataValue:i,displayName:o,onChange:c,onRemove:function(e){return c(e,"")},type:"string"}),a&&n.createElement("div",{className:"bdl-CustomMetadataField-customActions"},r?n.createElement(ta,null,d,u):d))}));function ia(e){return ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(e)}function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(Object(a),!0).forEach((function(t){ma(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function sa(e){return sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sa(e)}function ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pa(e,t,a){return t&&da(e.prototype,t),a&&da(e,a),e}function fa(e,t){return fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fa(e,t)}function ma(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ha=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=sa(t).call(this,e),a=!r||"object"!==ia(r)&&"function"!==typeof r?ua(n):r,ma(ua(a),"onFieldChange",(function(e,t){var n=a.props,r=n.canEdit,o=n.onFieldChange;r&&o&&o(e,t,wt)})),ma(ua(a),"onFieldRemove",(function(e){var t=a.props,n=t.canEdit,r=t.onFieldRemove;n&&r&&r(e)})),ma(ua(a),"onAddFieldToggle",(function(){a.setState((function(e){return{isAddFieldVisible:!e.isAddFieldVisible}}))})),a.state={isAddFieldVisible:!1,properties:ca({},e.data)},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,e),pa(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.data,n=t.properties;return w()(a,n)?null:{properties:ca({},a)}}}]),pa(t,[{key:"render",value:function(){var e=this,t=this.props.canEdit,a=this.state,r=a.isAddFieldVisible,o=a.properties,i=Object.keys(o),l=t&&(r||0===i.length);return n.createElement(n.Fragment,null,i.map((function(a,l){return n.createElement(oa,{key:a,canEdit:t,dataKey:a,dataValue:o[a],isLast:!r&&l===i.length-1,onAdd:e.onAddFieldToggle,onChange:e.onFieldChange,onRemove:e.onFieldRemove})})),!l&&0===i.length&&n.createElement(y,null),l&&n.createElement(ea,{isCancellable:0!==i.length,onAdd:this.onFieldChange,onCancel:this.onAddFieldToggle,properties:this.props.data}))}}]),t}(n.PureComponent);ma(ha,"defaultProps",{canEdit:!0,data:{}});var ya=ha,va=a(550),ba=(a(833),function(e){var t=e.onCancel,a=e.onConfirm,r=e.confirmationMessage,o=n.useRef(null);return n.useEffect((function(){o.current&&o.current.btnElement.focus()}),[]),n.createElement("div",{className:"metadata-instance-confirm-cover"},n.createElement("div",{className:"metadata-instance-confim-container",role:"alert"},n.createElement("p",{className:"metadata-instance-confirm-text"},r),n.createElement("div",{className:"metadata-instance-confirm-buttons"},n.createElement(Ht.b,{ref:o,"data-resin-target":"metadata-confirmcancel",onClick:t,type:"button"},n.createElement(d.a,h.metadataCancel)),n.createElement(va.a,{"data-resin-target":"metadata-confirmremove",onClick:a,type:"button"},n.createElement(d.a,h.customRemove)))))}),ga=(a(834),function(e){var t=e.onCancel,a=e.onRemove,r=e.showSave;return n.createElement("div",{className:"metadata-instance-editor-footer"},n.createElement("div",{className:"metadata-instance-editor-footer-delete"},n.createElement(N.a,{"data-resin-target":"metadata-instanceremove",onClick:a,type:"button"},n.createElement(d.a,h.metadataRemoveTemplate))),n.createElement("div",{className:"metadata-instance-editor-footer-save-cancel"},n.createElement(Ht.b,{"data-resin-target":"metadata-instancecancel",onClick:t,type:"button"},n.createElement(d.a,h.metadataCancel)),r&&n.createElement(va.a,{"data-resin-target":"metadata-instancesave"},n.createElement(d.a,h.metadataSave))))}),Ea="properties",Oa="test",wa=a(595);a(835);function Ca(e){return Ca="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function Sa(){return Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Sa.apply(this,arguments)}function ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(a),!0).forEach((function(t){Ia(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ja(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ma(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Na(e){return Na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Na(e)}function xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e,t){return Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ta(e,t)}function Ia(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ka=function(e,t,a){var n=e[t];switch(a){case Ot:return parseFloat(n);case Et:return parseInt(n,10);default:return n}},Aa=function(e){function t(e){var a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Na(t).call(this,e),a=!o||"object"!==Ca(o)&&"function"!==typeof o?xa(r):o,Ia(xa(a),"onCancel",(function(){var e=a.props,t=e.id,n=e.onModification;a.setState(a.getState(a.props)),n&&n(t,!1)})),Ia(xa(a),"onConfirmRemove",(function(){a.setState({shouldConfirmRemove:!0})})),Ia(xa(a),"onConfirmCancel",(function(){a.setState({shouldConfirmRemove:!1})})),Ia(xa(a),"onRemove",(function(){if(a.isEditing()){var e=a.props,t=e.id,n=e.onRemove;n&&(n(t),a.setState({isBusy:!0}))}})),Ia(xa(a),"onSave",(function(){var e=a.props,t=e.cascadePolicy,n=e.data,r=e.id,o=e.isDirty,i=e.isCascadingPolicyApplicable,l=e.onSave,c=a.state,s=c.data,u=c.errors,d=c.isCascadingEnabled,p=c.isCascadingOverwritten;a.isEditing()&&o&&l&&!Object.keys(u).length&&(a.setState({isBusy:!0,isEditing:!1,shouldShowCascadeOptions:!1}),l(r,a.createJSONPatch(s,n),i?{canEdit:!!t&&t.canEdit,id:t?t.id:void 0,isEnabled:d,overwrite:p}:void 0,S()(s)))})),Ia(xa(a),"onFieldChange",(function(e,t,r){var o=a.state,i=o.data,l=o.errors;if(a.isEditing()&&!w()(i[e],t)){var c=jt(r,t),s=Pa({},l),u=S()(i);u[e]=t,c?delete s[e]:s[e]=n.createElement(d.a,h.invalidInput),a.setState({data:u,errors:s},(function(){a.setDirty(r)}))}})),Ia(xa(a),"onFieldRemove",(function(e){if(a.isEditing()){var t=a.state,n=t.data,r=t.errors,o=S()(n),i=Pa({},r);delete o[e],delete i[e],a.setState({data:o,errors:i},a.setDirty)}})),Ia(xa(a),"onCascadeToggle",(function(e){a.props.isCascadingPolicyApplicable&&a.setState({isCascadingEnabled:e,shouldShowCascadeOptions:e},a.setDirty)})),Ia(xa(a),"onCascadeModeChange",(function(e){a.props.isCascadingPolicyApplicable&&a.setState({isCascadingOverwritten:e},a.setDirty)})),Ia(xa(a),"renderDeleteMessage",(function(e,t){var a;return a=t.templateKey===Ea?e?"fileMetadataRemoveCustomTemplateConfirm":"folderMetadataRemoveCustomTemplateConfirm":e?"fileMetadataRemoveTemplateConfirm":"folderMetadataRemoveTemplateConfirm",n.createElement(d.a,Sa({},h[a],{values:{metadataName:t.displayName}}))})),Ia(xa(a),"setDirty",(function(e){var t=a.props,n=t.id,r=t.isCascadingPolicyApplicable,o=t.onModification,i=a.state,l=i.data,c=i.isCascadingEnabled,s=i.isCascadingOverwritten,u=!w()(l,a.props.data),d=!1;r&&(d=s||c!==a.isCascadingEnabled(a.props)),o&&o(n,u||d,e)})),Ia(xa(a),"collapsibleRef",n.createRef()),Ia(xa(a),"toggleIsEditing",(function(){a.setState((function(e){return{isEditing:!e.isEditing}}))})),Ia(xa(a),"renderEditButton",(function(){var e=a.props,t=e.intl,r=e.isDirty,o=a.state.isBusy,i=a.canEdit(),l=a.isEditing(),c=E()("metadata-instance-editor-instance-edit",{"metadata-instance-editor-instance-is-editing":l});if(i&&!r&&!o){var s=t.formatMessage(h.metadataEditTooltip);return n.createElement(x.c,{position:"top-left",text:s},n.createElement(N.a,{"aria-label":s,"aria-pressed":l,className:c,"data-resin-target":"metadata-instanceedit",onClick:a.toggleIsEditing,type:"button"},n.createElement(A.a,null)))}return null})),a.state=a.getState(e),a.fieldKeyToTypeMap=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var a=t.key,n=t.type;return e[a]=n,e}),{})}(e.template.fields),a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(t,e),a=t,(r=[{key:"componentDidUpdate",value:function(e,t){var a=e.hasError,n=e.isDirty,r=this.collapsibleRef.current,o=this.props,i=o.hasError,l=o.isDirty,c=t.isEditing;r&&this.state.shouldConfirmRemove&&Object(R.d)(r,{block:"start",behavior:"smooth"}),i&&i!==a?this.setState({isBusy:!1,isEditing:!0}):n&&!l&&(c?this.setState({isBusy:!1}):this.setState({isBusy:!1,isCascadingOverwritten:!1}))}},{key:"getState",value:function(e){return{data:S()(e.data),errors:{},isBusy:!1,isCascadingEnabled:this.isCascadingEnabled(e),isCascadingOverwritten:!1,isEditing:!1,shouldConfirmRemove:!1,shouldShowCascadeOptions:!1}}},{key:"getTitle",value:function(){var e=this.props,t=e.cascadePolicy,a=void 0===t?{}:t,r=e.hasError,o=e.isCascadingPolicyApplicable,i=e.template,l=i.templateKey===Ea,c=o&&a.id?"cascade":"default";return n.createElement("span",{className:"metadata-instance-editor-instance-title"},n.createElement(I,{type:c}),n.createElement("span",{className:E()("metadata-instance-editor-instance-title-text",{"metadata-instance-editor-instance-has-error":r})},l?n.createElement(d.a,h.customTitle):i.displayName),r&&n.createElement(k,{color:T.v}))}},{key:"getConfirmationMessage",value:function(){var e=this.props,t=e.template,a=!e.isCascadingPolicyApplicable;return this.renderDeleteMessage(a,t)}},{key:"isCascadingEnabled",value:function(e){return!!e.cascadePolicy&&!!e.cascadePolicy.id}},{key:"createJSONPatch",value:function(e,t){var a=this,n=[],r=S()(e);return Object.keys(t).forEach((function(e){var o=a.fieldKeyToTypeMap[e],i=ka(t,e,o),l="/".concat(e);if(Object.prototype.hasOwnProperty.call(r,e)){var c=ka(r,e,o);w()(c,i)||(n.push({op:Oa,path:l,value:i}),n.push({op:"replace",path:l,value:c}))}else n.push({op:Oa,path:l,value:i}),n.push({op:"remove",path:l});delete r[e]})),Object.keys(r).forEach((function(e){var t=a.fieldKeyToTypeMap[e],o=ka(r,e,t);n.push({op:"add",path:"/".concat(e),value:o})})),n}},{key:"canEdit",value:function(){var e=this.props,t=e.canEdit,a=e.onModification,n=e.onRemove,r=e.onSave;return t&&"function"===typeof n&&"function"===typeof r&&"function"===typeof a}},{key:"isEditing",value:function(){var e=this.state.isEditing;return this.canEdit()&&e}},{key:"render",value:function(){var e=this.props,t=e.cascadePolicy,a=void 0===t?{}:t,r=e.isDirty,o=e.isCascadingPolicyApplicable,i=e.isOpen,l=e.template,c=l.fields,s=void 0===c?[]:c,d=this.state,p=d.data,f=d.errors,m=d.isBusy,h=d.isCascadingEnabled,y=d.shouldConfirmRemove,v=d.shouldShowCascadeOptions,b=d.isCascadingOverwritten,g=l.templateKey===Ea,E=this.isEditing();if(!l||Vt(l))return null;var O=50*(s.length+1);return n.createElement("div",{ref:this.collapsibleRef},n.createElement(j.a,{animationDuration:O,buttonProps:Ia({},wa.a,"metadata-card"),hasStickyHeader:!0,headerActionItems:this.renderEditButton(),isBordered:!0,isOpen:i,title:this.getTitle()},y&&n.createElement(M.a,{isLoading:m},n.createElement(ba,{confirmationMessage:this.getConfirmationMessage(),onCancel:this.onConfirmCancel,onConfirm:this.onRemove})),!y&&n.createElement(M.a,{isLoading:m},n.createElement(P.a,{onValidSubmit:r?this.onSave:u.a},n.createElement("div",{className:"metadata-instance-editor-instance"},o&&n.createElement(ee,{canEdit:E&&!!a.canEdit,isCascadingEnabled:h,isCascadingOverwritten:b,isCustomMetadata:g,onCascadeModeChange:this.onCascadeModeChange,onCascadeToggle:this.onCascadeToggle,shouldShowCascadeOptions:v}),g?n.createElement(ya,{canEdit:E,data:p,onFieldChange:this.onFieldChange,onFieldRemove:this.onFieldRemove}):n.createElement(Lt,{canEdit:E,data:p,errors:f,onFieldChange:this.onFieldChange,onFieldRemove:this.onFieldRemove,template:l})),E&&n.createElement(ga,{onCancel:this.onCancel,onRemove:this.onConfirmRemove,showSave:r})))))}}])&&Ma(a.prototype,r),o&&Ma(a,o),t}(n.PureComponent);Ia(Aa,"defaultProps",{data:{},isDirty:!1});var Ra=Object(b.c)(Aa),Fa=function(e){var t=e.isCascadingPolicyApplicable,a=void 0!==t&&t,r=e.editors,o=void 0===r?[]:r,i=e.onModification,l=e.onRemove,c=e.onSave,s=e.selectedTemplateKey;return o.map((function(e){var t=e.isDirty,r=void 0!==t&&t,u=e.instance,d=e.hasError,p=void 0!==d&&d,f=e.template,m=f.templateKey,h=1===o.length||m===s;return n.createElement(Ra,{canEdit:u.canEdit,cascadePolicy:u.cascadePolicy,data:u.data,hasError:p,id:u.id,isCascadingPolicyApplicable:a,isDirty:r,isOpen:h,key:"".concat(u.id,"-").concat(m),onModification:i,onSave:c,onRemove:l,template:f})}))},Da=a(77),_a=a(27),Va=a(570),Ka=a(648),Ba=a(541),La=a(206),Ha=a(700),za=a(574);a(840);function Wa(e){return Wa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(e)}function qa(){return qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qa.apply(this,arguments)}function Ua(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ja(e)}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ga(e,t){return Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ga(e,t)}function Qa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Za=function(e,t){return e.filter((function(e){return-1===t.findIndex((function(t){return t.templateKey===e.templateKey&&t.scope===e.scope}))}))},Xa=function(e){function t(e){var a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Ja(t).call(this,e),a=!o||"object"!==Wa(o)&&"function"!==typeof o?$a(r):o,Qa($a(a),"getDropdown",(function(){var e=a.props,t=e.isDropdownBusy,r=e.onAdd,o=e.activeTemplate,i=e.defaultTemplateIcon,l=e.activeTemplateIcon,c=e.templates,s=e.title,u=e.usedTemplates,p=a.state.templates,f=Za(c,u).length>0,m=c.length>0,y=p.length>0,v=null;if(t)v=n.createElement(La.b,{className:"metadata-instance-editor-template-message template-dropdown-loading-indicator"});else if(!m||!f||!y){var b={id:""};m?f?y||(b=h.metadataTemplatesNoResults):b=h.metadataTemplatesNoRemainingTemplates:b=h.metadataTemplatesServerHasNoTemplates,v=n.createElement("i",{className:"metadata-instance-editor-template-message"},n.createElement(d.a,b))}var g=p.map((function(e){var t=o&&o.id===e.id,r=E()("metadata-template-dropdown-select-template",{"metadata-template-dropdown-is-selected":t});return n.createElement(he.a,{key:e.id},n.createElement(Ba.a,{className:r,tabIndex:"-1",type:"button"},t?l:i,a.getTemplateName(e)))}));return n.createElement(n.Fragment,null,n.createElement(Ka.a,{className:"metadata-instance-editor-template-dropdown-menu",title:s,isAlwaysOpen:!0,onSelect:function(e){r(p[e])},selector:a.getSelector(),shouldScroll:!0},v?null:g),v)})),Qa($a(a),"getSelector",(function(){var e=a.props.intl,t=a.state.filterText;return n.createElement(ze,{"data-resin-target":"metadata-templatesearch",label:"",onChange:a.handleUserInput,placeholder:e.formatMessage(h.metadataTemplateSearchPlaceholder),shouldPreventClearEventPropagation:!0,type:"text",useClearButton:!0,value:t})})),Qa($a(a),"handleUserInput",(function(e){var t=a.props,n=t.templates,r=t.usedTemplates,o=e,i=Za(n,r);a.setState({filterText:o,templates:i.filter((function(e){return(e.templateKey===Ea?h.customTitle.defaultMessage:e.displayName).toLowerCase().includes(o.toLowerCase())}))})})),Qa($a(a),"onOpen",(function(){var e=a.props,t=e.onDropdownToggle,n=e.templates,r=e.usedTemplates;t&&t(!0),a.setState({isDropdownOpen:!0,filterText:"",templates:Za(n,r)})})),Qa($a(a),"onClose",(function(){var e=a.props.onDropdownToggle;e&&e(!1),a.setState({isDropdownOpen:!1})})),Qa($a(a),"renderEntryButton",(function(){var e=a.props.entryButton,t=a.state.isDropdownOpen,r=E()("lnk",{"is-toggled":t});return e||n.createElement(Ba.a,{"data-resin-target":"metadata-templateaddmenu",className:r,type:"button"},n.createElement(za.a,null,n.createElement(d.a,h.metadataTemplateAdd)))})),a.state={isDropdownOpen:!1,filterText:"",templates:Za(e.templates,e.usedTemplates)},a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(t,e),a=t,(r=[{key:"componentDidUpdate",value:function(e){var t=e.templates,a=e.usedTemplates,n=this.props,r=n.templates,o=n.usedTemplates;w()(t,r)&&w()(a,o)||this.setState({templates:Za(r,o)})}},{key:"getTemplateName",value:function(e){return e.templateKey===Ea?n.createElement(d.a,qa({className:"template-display-name"},h.customTitle)):n.createElement("div",{className:"template-display-name"},e.displayName)}},{key:"render",value:function(){var e=this.props.className,t=E()("metadata-instance-editor-template-dropdown-flyout",e);return n.createElement(Ha.a,{className:t,closeOnClick:!0,closeOnClickOutside:!0,constrainToWindowWithPin:!0,onClose:this.onClose,onOpen:this.onOpen,position:"bottom-left",shouldDefaultFocus:!0},this.renderEntryButton(),n.createElement(Ha.b,null,this.getDropdown()))}}])&&Ua(a.prototype,r),o&&Ua(a,o),t}(n.PureComponent),Ya=Object(b.c)(Xa),en=a(101),tn=a(10),an=a(100),nn=a(562),rn=a(211),on=a(213),ln=a(2);a(841);function cn(e){return cn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function sn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function un(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(a),!0).forEach((function(t){hn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function dn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pn(e)}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t){return mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mn(e,t)}function hn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var yn="".concat(ln.ae,"_").concat(en.b);Object(an.b)(yn);var vn=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=pn(t).call(this,e),a=!r||"object"!==cn(r)&&"function"!==typeof r?fn(n):r,hn(fn(a),"state",{isLoading:!1}),hn(fn(a),"onApiError",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.props.onError,o=e.status,i=Object(tn.e)(o);a.setState(un({error:_a.a.sidebarMetadataEditingErrorContent,isLoading:!1},n)),r(e,t,hn({error:e},ln.Id,i))})),hn(fn(a),"onRemove",(function(e){var t=a.props.api,n=a.state.file,r=a.getEditor(e);r&&n&&t.getMetadataAPI(!1).deleteMetadata(n,r.template,(function(){return a.onRemoveSuccessHandler(r)}),a.onApiError)})),hn(fn(a),"onAddSuccessHandler",(function(e){var t=a.state.editors,n=(void 0===t?[]:t).slice(0);n.push(e),a.setState({editors:n,isLoading:!1})})),hn(fn(a),"onAdd",(function(e){var t=a.props.api,n=a.state.file;n&&(a.setState({isLoading:!0}),t.getMetadataAPI(!1).createMetadata(n,e,a.onAddSuccessHandler,a.onApiError))})),hn(fn(a),"onSave",(function(e,t){var n=a.props.api,r=a.state.file,o=a.getEditor(e);o&&r&&n.getMetadataAPI(!1).updateMetadata(r,o.template,t,(function(e){a.replaceEditor(o,e)}),(function(e,t){a.onSaveErrorHandler(o,e,t)}))})),hn(fn(a),"onModification",(function(e,t){var n=a.getEditor(e);if(n){var r=un({},n,{isDirty:t});a.replaceEditor(n,r)}})),hn(fn(a),"fetchMetadataErrorCallback",(function(e,t){a.onApiError(e,t,{editors:void 0,error:_a.a.sidebarMetadataFetchingErrorContent,templates:void 0})})),hn(fn(a),"fetchMetadataSuccessCallback",(function(e){var t=e.editors,n=e.templates,r=a.props,o=r.selectedTemplateKey,i=r.templateFilters;a.setState({editors:t.slice(0),error:void 0,isLoading:!1,templates:Kt(n,o,i)})})),hn(fn(a),"fetchFileErrorCallback",(function(e,t){a.onApiError(e,t,{error:_a.a.sidebarFileFetchingErrorContent,file:void 0})})),hn(fn(a),"fetchFileSuccessCallback",(function(e){var t=a.state.file,n=c()(t,ln.Gc,!1),r=c()(e,ln.Gc,!1),o=!t||n!==r?a.fetchMetadata:u.a;a.setState({file:e},o)})),a.props.logger.onReadyMetric({endMarkName:yn}),a}var a,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.fetchFile()}},{key:"canEdit",value:function(){var e=this.state.file;return c()(e,ln.Gc,!1)}},{key:"getEditor",value:function(e){var t=this.state.editors;return(void 0===t?[]:t).find((function(t){return t.instance.id===e}))}},{key:"onRemoveSuccessHandler",value:function(e){var t=this.state.editors,a=void 0===t?[]:t,n=a.slice(0);n.splice(a.indexOf(e),1),this.setState({editors:n})}},{key:"replaceEditor",value:function(e,t){var a=this.state.editors,n=void 0===a?[]:a,r=n.slice(0);r.splice(n.indexOf(e),1,t),this.setState({editors:r})}},{key:"onSaveErrorHandler",value:function(e,t,a){var n=un({},e,{hasError:!0});this.replaceEditor(e,n),this.onApiError(t,a)}},{key:"fetchMetadata",value:function(){var e=this.props,t=e.api,a=e.isFeatureEnabled,n=this.state.file;n&&t.getMetadataAPI(!1).getMetadata(n,this.fetchMetadataSuccessCallback,this.fetchMetadataErrorCallback,a,{refreshCache:!0})}},{key:"fetchFile",value:function(){var e=this.props,t=e.api,a=e.fileId;t.getFileAPI().getFile(a,this.fetchFileSuccessCallback,this.fetchFileErrorCallback,{fields:[ln.tc,ln.Fc],refreshCache:!0})}},{key:"refresh",value:function(){this.fetchMetadata()}},{key:"render",value:function(){var e=this.state,t=e.editors,a=e.file,r=e.error,o=e.isLoading,i=e.templates,l=this.props,c=l.elementId,s=l.selectedTemplateKey,u=!!a&&!!i&&!!t,p=!r&&!u,f=this.canEdit(),m=u&&f,h=u&&0===t.length;return n.createElement(Va.a,{actions:m?n.createElement(Ya,{hasTemplates:i&&0!==i.length,isDropdownBusy:!1,onAdd:this.onAdd,templates:i,usedTemplates:t.map((function(e){return e.template}))}):null,className:"bcs-metadata",elementId:c,sidebarView:ln.te,title:n.createElement(d.a,_a.a.sidebarMetadataTitle)},r&&n.createElement(v.a,{title:n.createElement(d.a,_a.a.error)},n.createElement(d.a,r)),p&&n.createElement(Da.b,null),u&&n.createElement(M.a,{className:"metadata-instance-editor",isLoading:o},h?n.createElement(y,{canAdd:f}):n.createElement(Fa,{editors:t,onModification:this.onModification,onRemove:this.onRemove,onSave:this.onSave,selectedTemplateKey:s})))}}])&&dn(a.prototype,r),o&&dn(a,o),t}(n.PureComponent);hn(vn,"defaultProps",{isFeatureEnabled:!0});t.default=i()([Object(on.a)(ln.ae),Object(rn.a)(ln.ae),nn.b])(vn)}}]);
//# sourceMappingURL=9.87578070.chunk.js.map